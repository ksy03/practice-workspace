{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/d3-dispatch@2.0.0/node_modules/d3-dispatch/src/dispatch.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/namespaces.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/namespace.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/creator.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selector.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/select.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/array.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selectorAll.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/selectAll.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/matcher.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/selectChild.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/selectChildren.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/filter.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/sparse.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/enter.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/constant.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/data.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/exit.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/join.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/merge.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/order.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/sort.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/call.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/nodes.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/node.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/size.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/empty.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/each.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/attr.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/window.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/style.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/property.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/classed.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/text.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/html.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/raise.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/lower.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/append.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/insert.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/remove.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/clone.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/datum.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/on.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/dispatch.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/iterator.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/selection/index.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/select.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/sourceEvent.js", "../../../node_modules/.pnpm/d3-selection@2.0.0/node_modules/d3-selection/src/pointer.js", "../../../node_modules/.pnpm/d3-drag@2.0.0/node_modules/d3-drag/src/noevent.js", "../../../node_modules/.pnpm/d3-drag@2.0.0/node_modules/d3-drag/src/nodrag.js", "../../../node_modules/.pnpm/d3-drag@2.0.0/node_modules/d3-drag/src/constant.js", "../../../node_modules/.pnpm/d3-drag@2.0.0/node_modules/d3-drag/src/event.js", "../../../node_modules/.pnpm/d3-drag@2.0.0/node_modules/d3-drag/src/drag.js", "../../../node_modules/.pnpm/d3-color@2.0.0/node_modules/d3-color/src/define.js", "../../../node_modules/.pnpm/d3-color@2.0.0/node_modules/d3-color/src/color.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/basis.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/basisClosed.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/constant.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/color.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/rgb.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/number.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/string.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/transform/decompose.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/transform/parse.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/transform/index.js", "../../../node_modules/.pnpm/d3-interpolate@2.0.1/node_modules/d3-interpolate/src/zoom.js", "../../../node_modules/.pnpm/d3-timer@2.0.0/node_modules/d3-timer/src/timer.js", "../../../node_modules/.pnpm/d3-timer@2.0.0/node_modules/d3-timer/src/timeout.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/schedule.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/interrupt.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/selection/interrupt.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/tween.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/interpolate.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/attr.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/attrTween.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/delay.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/duration.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/ease.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/easeVarying.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/filter.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/merge.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/on.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/remove.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/select.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/selectAll.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/selection.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/style.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/styleTween.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/text.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/textTween.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/transition.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/end.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/transition/index.js", "../../../node_modules/.pnpm/d3-ease@2.0.0/node_modules/d3-ease/src/cubic.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/selection/transition.js", "../../../node_modules/.pnpm/d3-transition@2.0.0_d3-selection@2.0.0/node_modules/d3-transition/src/selection/index.js", "../../../node_modules/.pnpm/d3-brush@2.1.0/node_modules/d3-brush/src/brush.js", "../../../node_modules/.pnpm/d3-zoom@2.0.0/node_modules/d3-zoom/src/constant.js", "../../../node_modules/.pnpm/d3-zoom@2.0.0/node_modules/d3-zoom/src/event.js", "../../../node_modules/.pnpm/d3-zoom@2.0.0/node_modules/d3-zoom/src/transform.js", "../../../node_modules/.pnpm/d3-zoom@2.0.0/node_modules/d3-zoom/src/noevent.js", "../../../node_modules/.pnpm/d3-zoom@2.0.0/node_modules/d3-zoom/src/zoom.js", "../src/js-components/flowchart/flowchart.js", "../src/js-components/flowchart/data/styledata.js", "../src/js-components/flowchart/data/wrapper.js", "../src/js-components/flowchart/util/functions.js", "../src/js-components/flowchart/data/connection.js", "../src/js-components/flowchart/data/group.js", "../src/js-components/flowchart/data/node.js", "../src/js-components/flowchart/util/text-metrics.js", "../src/js-components/flowchart/util/textcache.js", "../src/js-components/flowchart/render/base.js", "../src/js-components/flowchart/util/observe.js", "../src/js-components/flowchart/obj/base.js", "../src/js-components/flowchart/util/icontainer.js", "../src/js-components/flowchart/action/command/base.js", "../src/js-components/flowchart/action/command/add.js", "../src/js-components/flowchart/action/command/delete.js", "../src/js-components/flowchart/action/command/edit.js", "../src/js-components/flowchart/action/command/render.js", "../src/js-components/flowchart/action/command/zindex.js", "../src/js-components/flowchart/action/controller.js", "../src/js-components/flowchart/action/movehandler.js", "../src/js-components/flowchart/util/objmng.js", "../src/js-components/flowchart/obj/connection.js", "../src/js-components/flowchart/obj/group.js", "../src/js-components/flowchart/render/node.js", "../src/js-components/flowchart/obj/node.js", "../src/js-components/flowchart/action/resizehandler.js", "../src/js-components/flowchart/util/clipboard.ts", "../src/js-components/flowchart/util/objmousehandler.js", "../src/js-components/flowchart/util/rect.ts", "../src/js-components/flowchart/render/bridge.js", "../src/js-components/flowchart/render/comment.js", "../src/js-components/flowchart/render/db.js", "../src/js-components/flowchart/render/connection.js", "../src/js-components/flowchart/render/direct.js", "../src/js-components/flowchart/render/elbow.js", "../src/js-components/flowchart/render/group.js", "../src/js-components/flowchart/render/if.js", "../src/js-components/flowchart/render/return.js", "../src/js-components/flowchart/render/start.js", "../src/js-components/flowchart/util/rendermng.js", "../src/js-components/flowchart/util/seqmng.js", "../src/js-components/flowchart/util/theme.ts"],
  "sourcesContent": ["var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n", "import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n", "export default x => () => x;\n", "export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n", "import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 \u2245 u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n", "import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n", "import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n", "import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n", "import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n", "import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n", "import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n", "import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n", "import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n", "import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n", "import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n", "function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n", "import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n", "import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n", "import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n", "function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n", "import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n", "function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n", "import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n", "import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we\u2019re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n", "import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name \u201C__brush\u201D rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  brush.clear = function(group) {\n    brush.move(group, null);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move();\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n", "export default x => () => x;\n", "export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n", "export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n", "export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won\u2019t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        currentTarget = event.currentTarget,\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n", "import * as d3 from \"d3\";\n\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n\nimport _ from 'lodash';\n\nimport AddCommand from \"./action/command/add\";\nimport DeleteCommand from \"./action/command/delete\";\nimport EditCommand, { ChangedInfo } from \"./action/command/edit\";\nimport RenderCommand from \"./action/command/render\";\nimport ZIndexCommand from \"./action/command/zindex\";\nimport ActionController from \"./action/controller\";\nimport MoveHandler from \"./action/movehandler\";\nimport ResizeHandler from \"./action/resizehandler\";\nimport RenderObject from \"./obj/base\";\nimport Connection from \"./obj/connection\";\nimport Group from \"./obj/group\";\nimport Node from \"./obj/node\";\nimport ClipboardManager from \"./util/clipboard\";\nimport * as util from \"./util/functions\";\nimport ContainerInterface from \"./util/icontainer\";\nimport ObjectManager from \"./util/objmng\";\nimport ObjectMouseHandler from \"./util/objmousehandler\";\nimport { ObserverArg } from \"./util/observe\";\nimport Rect from \"./util/rect\";\nimport RenderManager from \"./util/rendermng\";\nimport SequenceManager from \"./util/seqmng\";\nimport { DefaultTheme } from \"./util/theme\";\n\nimport { IRComponent } from '@js-comp/base';\n\nconst DETECTING_SIZE = 10;\nconst ACTION_LIMIT = 255;\nconst POSITION_LIST = [\"left\", \"right\", \"top\", \"bottom\"];\n\nconst MIN_ZOOM = 0.4;\nconst MAX_ZOOM = 3;\nconst NOT_CHANGING_PROPERTY_SET = new Set( [\"isHovered\", \"isSelected\"] );\n\nexport const EVENT_TYPE = {\n    CLICK: \"click\",\n    CLICK_NODE: \"clickNode\",\n    DOUBLE_CLICK_NODE: \"dblClickNode\",\n    CLICK_CONNECTION: \"clickConnection\",\n    DOUBLE_CLICK_CONNECTION: \"dblClickConnection\",\n    NEW_OBJECT: \"newObject\",\n    REMOVE_OBJECT: \"removeObject\",\n    SELECT_OBJECT: \"selectObject\",\n    RELEASE_OBJECT: \"releaseObject\",\n    UNDO: \"undo\",\n    REDO: \"redo\",\n    COMMAND: \"command\",\n    CHANGE_CLASS: \"changeClass\",\n    DISCONNECT_NODE: \"disconnectNode\",\n    CONNECT_NODE: \"connectNode\",\n    MOUSEUP_SHEET: \"mouseUpSheet\",\n};\n\nconst createEmitter = ( flowchart ) =>\n{\n    const eventMap = { };\n\n    return {\n        emit: ( event, args ) =>\n        {\n            if ( !eventMap[event] ) return;\n\n            eventMap[event].forEach( ( callback ) => callback.apply( flowchart, args ) );\n\n        },\n        on: ( event, callback ) =>\n        {\n            if ( !eventMap[event] ) eventMap[event] = [];\n\n            eventMap[event].push( callback );\n\n            return callback;\n        },\n        off: ( event, callback ) =>\n        {\n            if ( !eventMap[event] ) return false;\n\n            const id = eventMap[event].indexOf( callback );\n\n            if ( id < 0 ) return false;\n\n            eventMap[event].splice( id, 1 );\n\n            return true;\n        },\n    };\n};\n\nconst createFlowchartTemplate = ( id ) =>\n{\n    const div = document.createElement( \"div\" );\n    const svg = document.createElementNS( \"http://www.w3.org/2000/svg\", \"svg\" );\n\n    div.classList.add( \"flowchart\" );\n    div.tabIndex = 0;\n\n    svg.innerHTML = `<defs>\n    <pattern\n        id=\"${id}_small_grid\"\n        width=\"10\"\n        height=\"10\"\n        patternUnits=\"userSpaceOnUse\">\n        <path\n        d=\"M 10 0 L 0 0 0 10\"\n        fill=\"none\"\n        stroke=\"gray\"\n        stroke-width=\"0.5\"/>\n    </pattern>\n    <pattern\n        id=\"${id}_grid\"\n        width=\"100\"\n        height=\"100\"\n        patternUnits=\"userSpaceOnUse\">\n        <rect\n        width=\"100\"\n        height=\"100\"\n        fill=\"url(#${id}_small_grid)\"/>\n        <path\n        d=\"M 100 0 L 0 0 0 100\"\n        fill=\"none\"\n        stroke=\"gray\"\n        stroke-width=\"1\"/>\n    </pattern>\n</defs>`;\n\n    div.appendChild( svg );\n\n    return { div, svg };\n};\n\nexport class IRFlowchart extends IRComponent\n{\n    /**\n   * @param {HTMLDivElement} contextElement\n   * @param {String} width\n   * @param {String} height\n   */\n    constructor( { contextElement, width, height } )\n    {\n        super( { contextElement } );\n        // default property\n        // on/off\n        this._wheelZoom = true;\n        this._gridMode = false;\n        this._editMode = false;\n        this._readonly = false;\n        this._simpleConnectingMode = false;\n        this._moveScreenOnSelect = false;\n        this._selectNodeOnHover = false;\n        this._tooltipHidden = false;\n        this._traceMode = false;\n        this._singleSelection = false;\n        this._isChanged = false;\n\n        this.keyMap = {};\n        this.keyMap.ArrowLeft = () => this.handleKeydownArrows( -10, 0 );\n        this.keyMap.ArrowRight = () => this.handleKeydownArrows( 10, 0 );\n        this.keyMap.ArrowDown = () => this.handleKeydownArrows( 0, 10 );\n        this.keyMap.ArrowUp = () => this.handleKeydownArrows( 0, -10 );\n        this.keyMap.Delete = () => this.handleKeydownDelete();\n        this.keyMap.Escape = () => this.handleKeydownEscape();\n        this.keyMap.F2 = () => this.handleKeydownF2();\n        this.keyMap['^x'] = () => this.cut();\n        this.keyMap['^c'] = () => this.copy();\n        this.keyMap['^v'] = () => this.paste();\n        this.keyMap['^z'] = () => this.undoAction();\n        this.keyMap['^y'] = () => this.redoAction();\n        this.keyMap['^a'] = () => this.selectAllObjects();\n        this.keyMap['^A'] = () => this.selectAllObjects();\n\n        // etc.\n        this._appendMode = {\n            mode: null,\n            data: null,\n            dragged: false,\n        };\n        this._size = {\n            width: 0,\n            height: 0,\n        };\n        this._wrapperSize = {\n            width: 0,\n            height: 0,\n        };\n        this._svgSize = {\n            width: 0,\n            height: 0,\n        };\n        /** @type {RenderObject | null} */\n        this._appendingObject = null;\n\n        this.emitter = createEmitter( this );\n\n        const { div, svg } = createFlowchartTemplate( this.uuid );\n\n        this.div = div;\n\n        div.addEventListener( \"keydown\", ( ev ) =>\n        {\n            if ( this._editMode || this._readonly )\n            {\n                this.logger.debug( 'InnoFlowchart.handleKeydown()', 'Cancel because of editMode or readonly mode' );\n                return;\n            }\n\n            const keyName = `${ev.ctrlKey ? '^' : ''}${ev.key}`;\n\n            if ( keyName in this.keyMap )\n            {\n                this.keyMap[keyName]( ev );\n                ev.preventDefault();\n            }\n        } );\n\n        this.addCoreElement( div );\n        contextElement.appendChild( div );\n\n        this._initD3Elements( div, svg, width, height );\n\n        // Util Class\n        this._iContainer = new ContainerInterface( {\n            // Manipulation API\n            releaseAllObjects: () => this.releaseAllObjects(),\n            addRenderObj: ( data ) => this.add( data ),\n            removeObject: ( obj ) => this.remove( obj ),\n            initDrag: ( dragEvent ) => this._initDrag( dragEvent ),\n            terminateDrag: ( dragEvent ) => this._terminateDrag( dragEvent ),\n            changeObjRender: ( obj, render ) => this._changeObjRender( obj, render ),\n            // Callback\n            adjDragCallback: ( data, oldPoints, newPoints ) =>\n                this._adjDragCallbackHandler( data, oldPoints, newPoints ),\n            editTextCallback: ( data, oldText, newText ) =>\n                this._editTextCallbackHandler( data, oldText, newText ),\n            editTextModeCallback: ( data ) => this._editTextModeCallback( data ),\n            renderCallback: ( obj ) => this._renderCallBack( obj ),\n            observerCallback: ( arg ) => this._observerCallback( arg ),\n            selectCallback: ( obj, userInteraction, typeClick ) =>\n                this._selectCallbackHandler( obj, userInteraction, typeClick ),\n            releaseCallback: ( obj, userInteraction ) =>\n                this._releaseCallbackHandler( obj, userInteraction ),\n            // getter / setter\n            setEditMode: ( flag ) => ( this._editMode = flag ),\n            getLogger: () => this.logger,\n            getSvg: () => this.d3Svg,\n            getObjectOrNull: ( id ) => this.getObjectOrNull( id ),\n            getSelectNodeOnHover: () => this._selectNodeOnHover,\n            getTooltipHidden: () => this._tooltipHidden,\n            getReadOnly: () => this._readonly,\n            isAppending: () => this._appendMode.mode === \"append\",\n            getUUID: () => this.uuid,\n        } );\n\n        this._seqMng = new SequenceManager( this._iContainer );\n        this._objectManager = new ObjectManager();\n        this._actionController = new ActionController( ACTION_LIMIT );\n        this._moveHandler = new MoveHandler( this._actionController,\n            this._objectManager,\n            this._iContainer );\n        this._resizeHandler = new ResizeHandler( this._actionController,\n            this._objectManager,\n            this._iContainer );\n        this._renderManager = new RenderManager();\n        this._objMouseHandler = new ObjectMouseHandler( this._iContainer );\n        this.theme = { ...DefaultTheme };\n        this.defaultRule = util.defaultRule;\n\n        this.zoomTo( 1 );\n        this.render();\n    }\n\n    get readonly()\n    {\n        return this._readonly;\n    }\n\n    get simpleConnectingMode()\n    {\n        return this._simpleConnectingMode;\n    }\n\n    get editMode()\n    {\n        return this._editMode;\n    }\n\n    get gridMode()\n    {\n        return this._gridMode;\n    }\n\n    get tooltipHidden()\n    {\n        return this._tooltipHidden;\n    }\n\n    get moveScreenOnSelect()\n    {\n        return this._moveScreenOnSelect;\n    }\n\n    get selectNodeOnHover()\n    {\n        return this._selectNodeOnHover;\n    }\n\n    get wheelZoom()\n    {\n        return this._wheelZoom;\n    }\n\n    get traceMode()\n    {\n        return this._traceMode;\n    }\n\n    get singleSelection()\n    {\n        return this._singleSelection;\n    }\n\n    set readonly( boolean )\n    {\n        this._readonly = boolean;\n        this.classedOnSvg( boolean, \"readonly\" );\n        this.logger.info( `readonly property is changed to '${boolean}'` );\n    }\n\n    set simpleConnectingMode( boolean )\n    {\n        this._simpleConnectingMode = boolean;\n        this.classedOnSvg( boolean, \"simple\" );\n        this.logger.info( `simpleConnectingMode property is changed to '${boolean}'` );\n    }\n\n    set editMode( boolean )\n    {\n        this._editMode = boolean;\n        this.classedOnSvg( boolean, \"edit-mode\" );\n        this.logger.info( `editMode property is changed to '${boolean}'` );\n    }\n\n    set gridMode( boolean )\n    {\n        this._gridMode = boolean;\n        this.d3Grid.attr( \"visibility\", this._gridMode ? \"visible\" : \"hidden\" );\n\n        this.classedOnSvg( boolean, \"grid\" );\n        this.logger.info( `gridMode property is changed to '${boolean}'` );\n        this.render();\n    }\n\n    set tooltipHidden( boolean )\n    {\n        this._tooltipHidden = boolean;\n        this.classedOnSvg( boolean, \"tooltip-hidden\" );\n        this.logger.info( `tooltipHidden property is changed to '${boolean}'` );\n    }\n\n    set moveScreenOnSelect( boolean )\n    {\n        this._moveScreenOnSelect = boolean;\n        this.classedOnSvg( boolean, \"move-screen-on-select\" );\n        this.logger.info( `moveScreenOnSelect property is changed to '${boolean}'` );\n    }\n\n    set selectNodeOnHover( boolean )\n    {\n        this._selectNodeOnHover = boolean;\n        this.classedOnSvg( boolean, \"select-node-on-hover\" );\n        this.logger.info( `selectNodeOnHover property is changed to '${boolean}'` );\n    }\n\n    set wheelZoom( boolean )\n    {\n        this._wheelZoom = boolean;\n        this.classedOnSvg( boolean, \"wheel-zoom\" );\n        this.logger.info( `wheelZoom property is changed to '${boolean}'` );\n    }\n\n    set traceMode( boolean )\n    {\n        this.logger.logLevel = boolean ? \"INFO\" : \"ERROR\";\n\n        this._traceMode = boolean;\n        this.classedOnSvg( boolean, \"trace\" );\n        this.logger.info( `traceMode property is changed to '${boolean}'` );\n    }\n\n    set singleSelection( boolean )\n    {\n        this._singleSelection = boolean;\n        this.classedOnSvg( boolean, \"single-select\" );\n        this.logger.info( `singleSelection property is changed to '${boolean}'` );\n    }\n\n    _initD3Elements( div, svg, width, height )\n    {\n        // logger init\n        this.logger = util.createLogger( this.uuid );\n\n        // div init\n        // context-menu event disable\n        div.addEventListener( \"contextmenu\", ( e ) => e.preventDefault() );\n        const w = isNaN( width ) ? width : `${width}px`;\n        const h = isNaN( height ) ? height : `${height}px`;\n\n        // d3 init\n        this.d3Div = d3\n            .select( div )\n            .style( \"width\", w )\n            .style( \"height\", h )\n            .style( \"overflow\", \"auto\" )\n            .style( \"position\", \"relative\" )\n            .style( \"scrollbar-width\", \"thin\" )\n            .style( \"outline\", 0 );\n\n        this.d3Svg = d3\n            .select( svg )\n            .on( \"mousemove\", ( ev ) => this._mouseMoveOnSheetHandler( ev ) )\n            .on( \"click\", ( ev ) => this._clickOnSheetHandler( ev ) )\n            .call( d3\n                .drag()\n                .filter( () => this._editMode === false )\n                .on( \"start\", ( ev ) => this._dragController( ev ) )\n                .on( \"drag\", ( ev ) => this._dragController( ev ) )\n                .on( \"end\", ( ev ) => this._dragController( ev ) ) );\n\n        this.d3Grid = this.d3Svg\n            .append( \"g\" )\n            .attr( \"transform\", \"translate(-1, -1)\" )\n            .attr( \"class\", \"grid\" )\n            .append( \"rect\" )\n            .attr( \"width\", \"100%\" )\n            .attr( \"height\", \"100%\" )\n            .attr( \"fill\", `url(#${this.uuid}_grid)` )\n            .attr( \"visibility\", \"hidden\" );\n\n        this.d3Container = this.d3Svg\n            .append( \"g\" )\n            .attr( \"class\", \"container\" );\n\n        const zoom = d3\n            .zoom()\n            .filter( ( ev ) =>\n            {\n                return this._wheelZoom && ev.type === \"wheel\" && ev.ctrlKey;\n            } )\n            .wheelDelta( ( ev ) =>\n                -ev.deltaY * ( ev.deltaMode === 1 ? 0.05 : ev.deltaMode ? 1 : 0.002 ) )\n            .scaleExtent( [MIN_ZOOM, MAX_ZOOM] )\n            .on( \"zoom\", ( ev ) => this.zoomTo( ev.transform.k ) );\n\n        this.d3Div.call( zoom ).on( \"dblclick.zoom\", null );\n\n        this.selection = {\n            /** @type {d3.Selection | null} */\n            rect: null,\n            startX: 0,\n            startY: 0,\n        };\n    }\n\n    /**\n   *\n   * @param {EventType} event\n   * @param  {...any} args\n   */\n    $emit( event, ...args )\n    {\n        this.emitter.emit( event, args );\n    }\n\n    /**\n   * \uC2E0\uADDC \uC774\uBCA4\uD2B8\uB97C \uB4F1\uB85D\uD569\uB2C8\uB2E4.\n   * @param {EventType} event\n   * @param {Function} callback\n   */\n    $on( event, callback )\n    {\n        return this.emitter.on( event, callback );\n    }\n\n    /**\n   * \uC774\uBCA4\uD2B8\uB97C \uC81C\uAC70\uD569\uB2C8\uB2E4.\n   * @param {EventType} event\n   * @param {Function?} callback\n   */\n    $off( event, callback )\n    {\n        return this.emitter.off( event, callback );\n    }\n\n    /**\n   * @param {() => void} func\n   */\n    moveWrapper( func )\n    {\n        try\n        {\n            this._moveHandler.moveStartHandler();\n            func();\n            this._updateNegativePos();\n        }\n        finally\n        {\n            this._moveHandler.moveEndHandler();\n            this.refreshSvgSize();\n        }\n    }\n\n    /**\n     *\n     * @param {SVGElement} defsElement\n     */\n    addSvgDefs( defsElement )\n    {\n        this.d3Svg.node().appendChild( defsElement );\n    }\n\n    /**\n     *\n     * @param {string} id\n     * @param {number} rotate\n     * @param {string[]} offsets\n     * @param {string[]} colors\n     */\n    addLinearGradientDefs( id, rotate, offsets, colors )\n    {\n        if ( typeof offsets.length !== \"number\" || typeof colors.length !== \"number\" )\n            throw new Error( 'it must be an array type both offsets and colors!' );\n\n        const defs = document.createElementNS( 'http://www.w3.org/2000/svg', \"defs\" );\n        const linearGradient = document.createElementNS( 'http://www.w3.org/2000/svg', \"linearGradient\" );\n\n        linearGradient.id = id;\n        linearGradient.setAttribute( \"gradientTransform\", `rotate(${rotate})` );\n\n        _.zip( offsets, colors )\n            .forEach( ( [offset, color] ) =>\n            {\n                const stop = document.createElementNS( 'http://www.w3.org/2000/svg', \"stop\" );\n\n                stop.setAttribute( \"offset\", offset );\n                stop.setAttribute( \"stop-color\", color );\n\n                linearGradient.appendChild( stop );\n            } );\n\n        defs.appendChild( linearGradient );\n        this.addSvgDefs( defs );\n    }\n\n    /**\n   * @param {DefaultTheme} data\n   * @param {Number} zIndex\n   * @returns\n   */\n    add( data, zIndex = undefined )\n    {\n        switch ( data.type )\n        {\n            case undefined:\n                this.logger.error( \"InnoFlowchart.add()\", \"undefined type prop\" );\n                throw new Error( \"Object that you added needs 'type' property! (node or connection)\" );\n            case \"group\":\n                data.render = \"group\";\n                break;\n            default:\n                break; // do nothing\n        }\n\n        if ( data.render === undefined )\n        {\n            this.logger.error( \"InnoFlowchart.add()\", \"undefined render prop\" );\n            throw new Error( \"Object that you added needs 'render' property!\" );\n        }\n\n        if ( data.id === undefined || data.id === null )\n        {\n            data.id = this._seqMng.getObjSeqId();\n        }\n        else\n        {\n            switch ( typeof data.id )\n            {\n                case \"number\":\n                case \"string\":\n                    break;\n                default:\n                    this.logger.error( \"InnoFlowchart.add()\",\n                        \"Not allowed id type (USE STRING OR NUMBER)\" );\n                    throw new Error( \"Data's id is only allowed string or nubmer type!\" );\n            }\n        }\n\n        if ( this._objectManager.findOrNull( data.id ) !== null )\n        {\n            this.logger.error( \"InnoFlowchart.add()\", \"duplicated object id\" );\n            throw new Error( `Object's id is already created! (${data.id})` );\n        }\n\n        // apply defaultRule\n        this.defaultRule( data );\n\n        // Combine properties\n        util.combineStyle( data, this.theme );\n\n        /** @type {RenderObject} */\n        let obj = null;\n        const rendererConstructor = this._renderManager.getRenderConstructor( data.type,\n            data.render );\n        const renderer = new rendererConstructor( data, this._iContainer );\n\n        switch ( data.type )\n        {\n            case \"connection\":\n                obj = new Connection( data, renderer, this._iContainer );\n                break;\n            case \"node\":\n                obj = new Node( data, renderer, this._iContainer );\n                break;\n            case \"group\":\n                obj = new Group( data, renderer, this._iContainer );\n                break;\n            default:\n                throw Error( `unkown data type '${data.type}'` );\n        }\n\n        this._objectManager.add( obj );\n        obj.create();\n        this.refreshSvgSize();\n\n        if ( zIndex !== undefined )\n        {\n            this.d3Container\n                .node()\n                .insertBefore( obj.g.node(), this._getChildElementOrNull( zIndex ) );\n        }\n\n        if ( !data.temp )\n        {\n            this._addObjectEvent( obj );\n            this.emitChangedStatus();\n            this.$emit( EVENT_TYPE.NEW_OBJECT, obj );\n            this.logger.debug( \"InnoFlowchart.add()\", `created obj id is '${obj.id}'` );\n        }\n        else\n        {\n            this.logger.debug( \"InnoFlowchart.add()\",\n                `created temp obj id is '${obj.id}'` );\n        }\n\n        return obj;\n    }\n\n    remove( object )\n    {\n        if ( object === null || object === undefined )\n        {\n            this.logger.error( \"InnoFlowchart.remove()\",\n                \"Object could not be null or undefined to remove!\" );\n            throw new Error( \"Object could not be null or undefined to remove!\" );\n        }\n\n        let obj = null;\n\n        switch ( typeof object )\n        {\n            case \"string\":\n            case \"number\":\n                obj = this.getObjectOrNull( object );\n                break;\n            case \"object\":\n                obj = this.getObjectOrNull( object.id );\n                break;\n            default:\n                throw Error( `unkown data type '${typeof object}'` );\n        }\n\n        if ( obj != null )\n        {\n            obj.destroy();\n            this.emitChangedStatus();\n            this._objectManager.remove( obj );\n            this.refreshSvgSize();\n            this._objMouseHandler.removeTooltipObj();\n\n            if ( !obj.isTempObj )\n            {\n                this.$emit( EVENT_TYPE.REMOVE_OBJECT, obj );\n                this.logger.debug( \"InnoFlowchart.remove()\",\n                    `Removed obj id is '${obj.id}'` );\n            }\n            else\n            {\n                this.logger.debug( \"InnoFlowchart.remove()\",\n                    `Removed temp obj id is '${obj.id}'` );\n            }\n        }\n        else\n        {\n            throw new Error( \"There is no such as object you received in this flowchart!\" );\n        }\n    }\n\n    /**\n   * zoom in/out by scale\n   * @param {Number} scale\n   */\n    zoomTo( scale )\n    {\n        if ( scale < MIN_ZOOM || scale > MAX_ZOOM )\n        {\n            return;\n        }\n        this.logger.info( \"InnoFlowchart.zoomTo\", `scale is changed to ${scale}` );\n        this.d3Div.node().__zoom.k = scale;\n\n        this.d3Container.attr( \"transform\", `scale(${scale})` );\n\n        const gridScale = `${( 1 / scale ) * 100}%`;\n\n        this.d3Grid\n            .attr( \"transform\", `scale(${scale})` )\n            .attr( \"width\", gridScale )\n            .attr( \"height\", gridScale );\n\n        this.updateSvgSize();\n    }\n\n    /**\n     * \uC2E0\uADDC\uB85C \uCD94\uAC00\uD55C \uAC1C\uCCB4 \uC9D1\uD569\uC744 undo\uC5D0 \uAE30\uB85D\uD558\uACE0,\n     * \uC74C\uC218 \uC88C\uD45C\uAC00 \uC788\uB294 \uACBD\uC6B0\uC5D0\uB294 \uD574\uB2F9 \uC88C\uD45C\uB97C \uC870\uC815\uD569\uB2C8\uB2E4.\n     * @param  {...RenderObject} objects\n     */\n    recordNewObjectsAction( ...objects )\n    {\n        this._actionController.addAction( new AddCommand( util.cloneObjDataList( objects ), this._iContainer ) );\n\n        this._updateNegativePos();\n    }\n\n    emitChangedStatus()\n    {\n        if ( !this._isChanged )\n        {\n            this._isChanged = true;\n            this.classedOnSvg( true, \"changed\" );\n        }\n    }\n\n    getScale()\n    {\n        return this.getTransform().k;\n    }\n\n    /**\n     * @param {Boolean} [sorted=true]\n     * @returns {Connection[]}\n     */\n    getSelectedConnections( sorted = true )\n    {\n        const connections = [];\n\n        for ( const con of this._objectManager.getConnectionIterator() )\n        {\n            con.isSelected && connections.push( con );\n        }\n\n        sorted && connections.sort( ( a, b ) => a.temp.clickedSeq - b.temp.clickedSeq );\n\n        return connections;\n    }\n\n    /**\n     * @param {ChangedInfo[]} changedInfoList\n     */\n    _editObjProp( changedInfoList )\n    {\n        changedInfoList.forEach( ( info ) =>\n        {\n            for ( const prop of info.propList )\n            {\n                if ( prop.oldValue === undefined )\n                {\n                    prop.oldValue = info.objData[prop.key];\n                }\n\n                info.objData[prop.key] = prop.newValue;\n            }\n        } );\n\n        this._actionController.addAction( new EditCommand( changedInfoList, this._iContainer ) );\n    }\n\n    /**\n     * @param {String} key\n     * @param {any} newValue\n     */\n    editSelectedObjProp( key, newValue )\n    {\n        const list = [];\n\n        for ( const obj of this._objectManager.getSelectedObjIterator() )\n        {\n            if ( obj.isSelected )\n            {\n                list.push( new ChangedInfo( obj.data, [\n                    {\n                        key,\n                        newValue,\n                    },\n                ] ) );\n            }\n        }\n\n        this._editObjProp( list );\n    }\n\n    /**\n     * append \uBAA8\uB4DC\uB85C \uC804\uD658\n     * @param {String} mode\n     * @param {{}} data\n     * @returns\n     */\n    append( mode, data )\n    {\n        if ( this._readonly )\n        {\n            this.logger.info( \"InnoFlowchart.append()\",\n                \"Preventing append (readonly: true)\" );\n            return;\n        }\n\n        if ( this._validateAppendMode( { mode, data } ) )\n        {\n            this.clearAppendMode();\n            this._appendMode.mode = mode;\n            this._appendMode.data = data;\n            this.logger.info( \"InnoFlowchart.append()\",\n                \"Append Mode\",\n                this._appendMode.mode );\n        }\n        else\n        {\n            this.logger.error( \"InnoFlowchart.append()\", \"Invalid append info!\" );\n            throw new Error( \"Invalid append info!\" );\n        }\n    }\n\n    /**\n     * \uCE74\uBA54\uB77C 0,0 \uC774\uB3D9\n     */\n    resetScreen()\n    {\n        const div = this.d3Div.node();\n\n        div.scrollLeft = 0;\n        div.scrollTop = 0;\n    }\n\n    getWrapperSize()\n    {\n        const element = this.d3Div.node();\n\n        if ( !element ) throw new Error( `there is no wrapper div` );\n\n        const { width, height } = element.getBoundingClientRect();\n\n        return { width, height };\n    }\n\n    getTransform()\n    {\n        return d3.zoomTransform( this.d3Div.node() );\n    }\n\n    updateMinimumSvgSize()\n    {\n        const size = this.getWrapperSize();\n\n        this._wrapperSize.width = parseInt( size.width );\n        this._wrapperSize.height = parseInt( size.height );\n\n        this.refreshSvgSize();\n    }\n\n    updateSvgSize()\n    {\n        const scale = this.getTransform().k;\n        const scaledWidth = Math.max( this._wrapperSize.width,\n            this._svgSize.width * scale );\n        const scaledHeight = Math.max( this._wrapperSize.height,\n            this._svgSize.height * scale );\n\n        this.d3Svg // for breaking line\n            .attr( \"width\", scaledWidth )\n            .attr( \"height\", scaledHeight );\n    }\n\n    refreshSvgSize()\n    {\n        const rect = {\n            maxX: 0,\n            maxY: 0,\n        };\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            rect.maxX = Math.max( rect.maxX, obj.endX );\n            rect.maxY = Math.max( rect.maxY, obj.endY );\n        }\n\n        rect.maxX += this._wrapperSize.width / 2;\n        rect.maxY += this._wrapperSize.height / 2;\n\n        rect.maxX = Math.max( this._wrapperSize.width, rect.maxX );\n        rect.maxY = Math.max( this._wrapperSize.height, rect.maxY );\n\n        this._svgSize.width = rect.maxX;\n        this._svgSize.height = rect.maxY;\n\n        this.logger.info( \"InnoFlowchart.refreshSvgSize()\", rect );\n\n        this.updateSvgSize();\n    }\n\n    /**\n   * Re-render this flowchart\n   */\n    render()\n    {\n        this.updateMinimumSvgSize();\n    }\n\n    /**\n   * @returns {RenderObject[]}\n   */\n    getObjectList()\n    {\n        const objList = [];\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            !obj.isTempObj && objList.push( obj );\n        }\n\n        return objList;\n    }\n\n    /**\n   * clear all actions of actionController\n   */\n    clearActionList()\n    {\n        this.logger.info( \"InnoFlowchart.clearActionList()\" );\n        this._actionController.clear();\n    }\n\n    /**\n   * Undo last action through actionController\n   */\n    undoAction()\n    {\n        if ( this._readonly )\n        {\n            this.logger.info( \"InnoFlowchart.undoAction()\",\n                \"Preventing undo (readonly: true)\" );\n            return;\n        }\n\n        const undoCommand = this._actionController.undo();\n\n        this.logger.debug( \"InnoFlowchart.undoAction()\", undoCommand );\n\n        if ( undoCommand !== null )\n        {\n            this.refreshSvgSize();\n            this.$emit( EVENT_TYPE.UNDO, undoCommand );\n        }\n    }\n\n    /**\n   * Redo recently undone action through actionController\n   */\n    redoAction()\n    {\n        if ( this._readonly )\n        {\n            this.logger.info( \"InnoFlowchart.redoAction()\",\n                \"Preventing redo (readonly: true)\" );\n            return;\n        }\n\n        const redoCommand = this._actionController.redo();\n\n        this.logger.debug( \"InnoFlowchart.redoAction()\", redoCommand );\n\n        if ( redoCommand !== null )\n        {\n            this.refreshSvgSize();\n            this.$emit( EVENT_TYPE.REDO, redoCommand );\n        }\n    }\n\n    /**\n   * @param {RenderObject} obj\n   * @param {String} event\n   */\n    _objectClickHandler( obj, event )\n    {\n        this.logger.info( `InnoFlowchart.event.emit.${event}`, obj );\n        obj.select( true );\n        this.$emit( event, obj );\n    }\n\n    /**\n   * @param {ObserverArg} arg\n   */\n    _commonObserveCallback( arg )\n    {\n        switch ( arg.key )\n        {\n            case \"id\": {\n                const obj = this.getObjectOrNull( arg.oldValue );\n\n                if ( obj !== null )\n                {\n                    this._objectManager.reassignId( obj, arg.oldValue, arg.newValue );\n                }\n                break;\n            }\n            case \"isSelected\": {\n                if ( arg.newValue )\n                {\n                    arg.renderObj.clickedSeq = this._seqMng.increaseClickSeq();\n                }\n                break;\n            }\n            default:\n                break; // do nothing\n        }\n    }\n\n    /**\n   * @param {ObserverArg} arg\n   */\n    _connectionObserveCallback( arg )\n    {\n        const obj = arg.renderObj;\n\n        switch ( arg.key )\n        {\n            case \"connection.sourceObjId\":\n                if ( arg.oldValue !== null && arg.newValue === null )\n                {\n                    this.$emit( EVENT_TYPE.DISCONNECT_NODE, obj, arg.key );\n                }\n                break;\n            case \"connection.sourcePos\":\n                if ( obj.sourceObjId !== null )\n                {\n                    this.$emit( EVENT_TYPE.CONNECT_NODE, obj, arg.key );\n                }\n                break;\n            case \"connection.destinationObjId\":\n                if ( arg.oldValue !== null && arg.newValue === null )\n                {\n                    this.$emit( EVENT_TYPE.DISCONNECT_NODE, obj, arg.key );\n                }\n                break;\n            case \"connection.destinationPos\":\n                if ( obj.destinationObjId !== null )\n                {\n                    this.$emit( EVENT_TYPE.CONNECT_NODE, obj, arg.key );\n                }\n                break;\n            default:\n                break; // do nothing\n        }\n    }\n\n    /**\n   * @param {ObserverArg} arg\n   */\n    _observerCallback( arg )\n    {\n        if ( arg.newValue === arg.oldValue )\n        {\n            // if there is no difference\n            return;\n        }\n\n        if ( !this._isChanged && !NOT_CHANGING_PROPERTY_SET.has( arg.key ) )\n        {\n            this.emitChangedStatus();\n        }\n        this._commonObserveCallback( arg );\n\n        arg.renderObj.type === \"connection\" && this._connectionObserveCallback( arg );\n    }\n\n    /**\n   *\n   * @param {RenderObject} obj\n   * @param {Boolean} userInteraction\n   */\n    _selectCallbackHandler( obj, userInteraction, typeClick )\n    {\n        const parent = this._objectManager.getParentGroupOrNull( obj );\n\n        if ( userInteraction )\n        {\n            if ( this._moveScreenOnSelect && obj.type === \"node\" )\n            {\n                this.moveScreenByObject( obj );\n            }\n\n            if ( this._singleSelection )\n            {\n                for ( const sobj of this._objectManager.getSelectedObjIterator() )\n                {\n                    if ( sobj !== obj )\n                    {\n                        sobj.release();\n                    }\n                }\n            }\n        }\n\n        if ( parent !== null )\n        {\n            parent.select( false, typeClick );\n        }\n\n        this.logger.info( \"InnoFlowchart._selectCallbackHandler()\", obj );\n        this.$emit( EVENT_TYPE.SELECT_OBJECT, obj );\n    }\n\n    /**\n   *\n   * @param {RenderObject} obj\n   * @param {Boolean} userInteraction\n   */\n    // eslint-disable-next-line no-unused-vars\n    _releaseCallbackHandler( obj, userInteraction )\n    {\n        this.$emit( EVENT_TYPE.RELEASE_OBJECT, obj );\n    }\n\n    _editTextModeCallback()\n    {\n        this._objMouseHandler.removeTooltipObj();\n    }\n\n    /**\n   * @param {Number} x\n   * @param {Number} y\n   */\n    _getXYOnSheet( x, y )\n    {\n        const scale = 1 / this.getTransform().k;\n\n        return {\n            x: x * scale,\n            y: y * scale,\n        };\n    }\n\n    /**\n   *\n   * @param {Object} param\n   * @param {String} param.mode\n   * @param {{}} param.data\n   * @returns\n   */\n    _validateAppendMode( { mode, data } )\n    {\n        switch ( mode )\n        {\n            case \"append\": {\n                return data.type === \"node\" || data.type === \"connection\";\n            }\n            case \"paste\": {\n                return data.objects.length > 0;\n            }\n            default:\n                return false;\n        }\n    }\n\n    _getProperlyPointsToCreate( data )\n    {\n        const points = data[\"connection.points\"];\n\n        loop: for ( ;; )\n        {\n            for ( const con of this._objectManager.getConnectionIterator() )\n            {\n                if ( con.comparePoints( points ) )\n                {\n                    points.forEach( ( pt ) =>\n                    {\n                        pt.x += 10;\n                        pt.y += 10;\n                    } );\n\n                    continue loop;\n                }\n            }\n\n            return points;\n        }\n    }\n\n    _getProperlyNodePosToCreate( data )\n    {\n        let x = data[\"node.x\"];\n        let y = data[\"node.y\"];\n\n        loop: for ( ;; )\n        {\n            for ( const node of this._objectManager.getNodeIterator() )\n            {\n                if ( node.x === x && node.y === y )\n                {\n                    x += 10;\n                    y += 10;\n\n                    continue loop;\n                }\n            }\n\n            return { \"node.x\": x, \"node.y\": y };\n        }\n    }\n\n    _initAppendObj()\n    {\n        switch ( this._appendMode.data.type )\n        {\n            case \"node\": {\n                this._appendingObject = this.add( {\n                    ...this._appendMode.data,\n                    temp: true,\n                    id: \"appending_temp_obj\",\n                    opacity: 0.5,\n                } );\n                break;\n            }\n            default:\n                break; // do nothing\n        }\n    }\n\n    _mouseMoveOnSheetHandler( ev )\n    {\n        const x = ev.layerX;\n        const y = ev.layerY;\n\n        if ( !this._validateAppendMode( this._appendMode ) )\n            return;\n\n        switch ( this._appendMode.mode )\n        {\n            case \"append\":\n                if ( this._appendingObject === null )\n                    this._initAppendObj();\n\n                this._moveAppendingNode( x, y );\n\n                break;\n            default:\n                break;\n        }\n\n        this.d3Div.node().focus();\n    }\n\n    _setZIndexOnSelected( command )\n    {\n        const dataList = [];\n        const newValue = command === \"front\" ? this._objectManager.getObjCount() : 0;\n        this.logger.info( \"InnoFlowchart.setZIndex()\", `new z-index = ${newValue}` );\n\n        for ( const obj of this.getSelectedObjects() )\n        {\n            dataList.push( {\n                objId: obj.id,\n                oldValue: obj.zIndex + ( command === \"back\" ? 1 : 0 ),\n                newValue: newValue,\n            } );\n            obj.zIndex = newValue;\n        }\n\n        this.emitChangedStatus();\n        this._actionController.addAction( new ZIndexCommand( dataList, this._iContainer ) );\n    }\n\n    /**\n   * bring selected objects to front\n   */\n    bringToFront()\n    {\n        this.logger.info( \"InnoFlowchart.bringToFront()\" );\n        this._setZIndexOnSelected( \"front\" );\n    }\n\n    /**\n   * bring selected objects to back\n   */\n    bringToBack()\n    {\n        this.logger.info( \"InnoFlowchart.bringToBack()\" );\n        this._setZIndexOnSelected( \"back\" );\n    }\n\n    /**\n     * move selected objects by x, y\n     * @param {Number} x\n     * @param {Number} y\n     */\n    _moveSelectedObjects( x, y )\n    {\n        for ( const obj of this._objectManager.getSelectedObjIterator() )\n        {\n            obj.moveTo( x, y );\n        }\n    }\n\n    /**\n     * @param {String | Number} id the object's id\n     * @returns {RenderObject | null}\n     */\n    getObjectOrNull( id )\n    {\n        return this._objectManager.findOrNull( id );\n    }\n\n    /**\n     * select an object by id\n     * @param {String | Number} id the object's id\n     */\n    selectObjectById( id )\n    {\n        const obj = this.getObjectOrNull( id );\n\n        if ( obj != null )\n        {\n            obj.select();\n        }\n        else\n        {\n            throw new Error( `Not found obj id '${id}'` );\n        }\n    }\n\n    /**\n     * @param {RenderObject} obj\n     */\n    _addCommonMouseAction( obj )\n    {\n        this._objMouseHandler.addMouseAction( obj );\n    }\n\n    /**\n     *\n     * @param {Boolean} Key\n     * @returns\n     */\n    _isSingleSelection( Key )\n    {\n        return this._singleSelection || !Key;\n    }\n\n    /**\n     * @param {Node} node\n     */\n    _addClickActionOnNode( node )\n    {\n        node.g\n            .on( \"click\", ( ev ) =>\n            {\n                if ( this._editMode ) return;\n\n                if ( this._isSingleSelection( ev.ctrlKey ) )\n                    this.releaseAllObjects( node );\n\n                this._objectClickHandler( node, EVENT_TYPE.CLICK_NODE );\n            } )\n            .on( \"dblclick\", () =>\n            {\n                if ( node.data.editable && this._readonly === false )\n                    node.renderer.editLabelMode();\n\n                this.logger.info( \"InnoFlowchart.event.emit.dblClickNode\", node );\n                this.$emit( EVENT_TYPE.DOUBLE_CLICK_NODE, node );\n            } );\n    }\n\n    /**\n     *\n     * @param {Boolean} flag\n     * @param  {...String} classes\n     */\n    classedOnSvg( flag, ...classes )\n    {\n        classes.forEach( ( cls ) => this.d3Svg.classed( cls, flag ) );\n        this.$emit( EVENT_TYPE.CHANGE_CLASS, this.d3Svg.attr( \"class\" ) );\n    }\n\n    /**\n     * @param {Node} node\n     */\n    _addDragActionOnNode( node )\n    {\n        let moved = false;\n        let lastX = 0;\n        let lastY = 0;\n\n        node.g.call( d3\n            .drag()\n            .filter( () => this._editMode === false )\n            .on( \"start\", ( ev ) =>\n            {\n                if ( this._isSingleSelection( ev.sourceEvent.ctrlKey ) &&\n                    !node.isSelected )\n                {\n                    this.releaseAllObjects( node );\n                }\n                moved = false;\n                lastX = ev.x;\n                lastY = ev.y;\n                node.select( false );\n            } )\n            .on( \"drag\", ( ev ) =>\n            {\n                if ( this._readonly )\n                {\n                    return;\n                }\n\n                const nextX = ev.x - node.width / 2;\n                const nextY = ev.y - node.height / 2;\n                const diffX = nextX - node.x;\n                const diffY = nextY - node.y;\n\n                if ( !moved && Math.abs( lastX - ev.x ) + Math.abs( lastY - ev.y ) > 8 )\n                {\n                    moved = true;\n                    this._moveHandler.moveStartHandler();\n                    this._initDrag( \"drag-node-move\" );\n                }\n\n                moved && this._moveSelectedObjects( diffX, diffY );\n            } )\n            .on( \"end\", () =>\n            {\n                if ( this._moveScreenOnSelect && node.type === \"node\" )\n                    this.moveScreenByObject( node );\n                this._moveHandler.moveEndHandler();\n                this._terminateDrag( \"drag-node-move\" );\n            } ) );\n    }\n\n    /**\n   * @param {Node} node\n   */\n    _addDragActionOnConnector( node )\n    {\n        for ( const connector of node.renderer.connectors )\n        {\n            const pos = util.getPosition( connector.attr( \"class\" ) );\n\n            connector.call( d3\n                .drag()\n                .filter( () => this._readonly === false )\n                .on( \"start\", ( ev ) =>\n                {\n                    const toX = node.x + node.width / 2 + ev.x;\n                    const toY = node.y + node.height / 2 + ev.y;\n                    const render = this._appendMode.data.render;\n                    const posXY = node.getPositionXY( pos );\n\n                    this._initDrag( \"drag-node-connector\" );\n\n                    this._createAppendingConnection( posXY.x, posXY.y, toX, toY, {\n                        type: \"connection\",\n                        render,\n                        \"connection.sourceObjId\": node.id,\n                        \"connection.sourcePos\": pos,\n                    } );\n                } )\n                .on( \"drag\", ( ev ) =>\n                {\n                    if ( this._appendingObject === null )\n                    {\n                        return;\n                    }\n\n                    const x = node.x + node.width / 2 + ev.x;\n                    const y = node.y + node.height / 2 + ev.y;\n\n                    this._appendMode.dragged = true;\n                    this._moveAppendingConnection( x, y );\n                } )\n                .on( \"end\", () =>\n                {\n                    if ( this._appendingObject === null )\n                    {\n                        return;\n                    }\n\n                    this._endAppendingConnection();\n                    this._terminateDrag( \"drag-node-connector\" );\n                } ) );\n        }\n    }\n\n    /**\n   * @param {Node} node\n   */\n    _addNodeEvent( node )\n    {\n        this._addClickActionOnNode( node );\n        this._addDragActionOnNode( node );\n        this._addDragActionOnConnector( node );\n        this._resizeHandler.addDragActionOnResizer( node );\n    }\n\n    /**\n   * @param {Connection} con\n   */\n    _addClickActionOnConnection( con )\n    {\n        con.g.on( \"click\", ( ev ) =>\n        {\n            if ( this._isSingleSelection( ev.ctrlKey ) )\n            {\n                this.releaseAllObjects( con );\n            }\n\n            this._objectClickHandler( con, \"clickConnection\" );\n        } );\n\n        con.g.on( \"dblclick\", () =>\n        {\n            if ( con.data.editable && this._readonly === false )\n            {\n                con.renderer.editLabelMode();\n            }\n\n            this.logger.info( \"InnoFlowchart.event.emit.dblClickConnection\", con );\n            this.$emit( EVENT_TYPE.DOUBLE_CLICK_CONNECTION, con );\n        } );\n    }\n\n    /**\n   * @param {Connection} con\n   */\n    _addDragActionOnConnection( con )\n    {\n        let x = 0;\n        let y = 0;\n        let moved = false;\n\n        con.g.call( d3\n            .drag()\n            .filter( () => this._editMode === false )\n            .on( \"start\", ( ev ) =>\n            {\n                if (\n                    this._isSingleSelection( ev.sourceEvent.ctrlKey ) &&\n            !con.isSelected\n                )\n                {\n                    this.releaseAllObjects( con );\n                }\n\n                x = ev.x;\n                y = ev.y;\n                moved = false;\n\n                con.select();\n            } )\n            .on( \"drag\", ( ev ) =>\n            {\n                if ( this._readonly )\n                {\n                    return;\n                }\n\n                const diffX = ev.x - x;\n                const diffY = ev.y - y;\n\n                if ( !moved && Math.abs( diffX ) + Math.abs( diffY ) > 5 )\n                {\n                    moved = true;\n                    this._moveHandler.moveStartHandler();\n                    this._initDrag( \"drag-con-move\" );\n                }\n\n                if ( !moved )\n                {\n                    return;\n                }\n\n                if ( con.sourceObjId !== null )\n                {\n                    const obj = this.getObjectOrNull( con.sourceObjId );\n\n                    if ( obj === null || obj.isSelected === false )\n                    {\n                        con.sourceObjId = null;\n                    }\n                }\n\n                if ( con.destinationObjId !== null )\n                {\n                    const obj = this.getObjectOrNull( con.destinationObjId );\n\n                    if ( obj === null || obj.isSelected === false )\n                    {\n                        con.destinationObjId = null;\n                    }\n                }\n\n                this._moveSelectedObjects( diffX, diffY );\n\n                x = ev.x;\n                y = ev.y;\n            } )\n            .on( \"end\", () =>\n            {\n                this._moveHandler.moveEndHandler();\n                this._terminateDrag( \"drag-con-move\" );\n            } ) );\n    }\n\n    _addDragActionOnConnectionConnector( con )\n    {\n        const dragCreator = ( objProp, posProp, ptId ) =>\n        {\n            return d3\n                .drag()\n                .filter( () => this._editMode === false && this._readonly === false )\n                .on( \"start\", () =>\n                {\n                    this._moveHandler.moveStartHandler();\n                    this._initDrag( \"drag-con-connector\" );\n                } )\n                .on( \"drag\", ( ev ) =>\n                {\n                    const detecting = this._getNodeAndPosUnderXY( ev.x, ev.y, this._simpleConnectingMode );\n                    const point = ptId === \"start\" ? con.firstPoint : con.endPoint;\n\n                    if ( detecting.node === null )\n                    {\n                        con[objProp] = null;\n                        con[posProp] = null;\n                        point.x = ev.x;\n                        point.y = ev.y;\n                    }\n                    else\n                    {\n                        con[objProp] = detecting.node.id;\n\n                        if ( this._simpleConnectingMode )\n                        {\n                            this._setShortestPosition( con );\n                        }\n                        else\n                        {\n                            con[posProp] = detecting.pos;\n                        }\n                    }\n\n                    if ( con.renderType === \"elbow\" )\n                        con.renderer.refreshAdjustList();\n\n                    con.render();\n                } )\n                .on( \"end\", () =>\n                {\n                    this._moveHandler.moveEndHandler();\n                    this._terminateDrag( \"drag-con-connector\" );\n                } );\n        };\n\n        con.renderer.objects.sourceConnector.call( dragCreator( \"sourceObjId\", \"sourcePos\", \"start\" ) );\n        con.renderer.objects.destinationConnector.call( dragCreator( \"destinationObjId\", \"destinationPos\", \"end\" ) );\n    }\n\n    /**\n   * @param {Connection} con\n   */\n    _addConnectionEvent( con )\n    {\n        this._addClickActionOnConnection( con );\n        this._addDragActionOnConnection( con );\n        this._addDragActionOnConnectionConnector( con );\n    }\n\n    /**\n   *\n   * @param {Group} group\n   */\n    _addGroupEvent( group )\n    {\n        let moved = false;\n        let startX = 0;\n        let stattY = 0;\n        let lastX = 0;\n        let lastY = 0;\n\n        group.g.call( d3\n            .drag()\n            .filter( () => this._editMode === false && this._readonly === false )\n            .on( \"start\", ( ev ) =>\n            {\n                if (\n                    this._isSingleSelection( ev.sourceEvent.ctrlKey ) &&\n            !group.isSelected\n                )\n                {\n                    this.releaseAllObjects( group );\n                }\n                moved = false;\n                startX = ev.x;\n                stattY = ev.y;\n                lastX = ev.x;\n                lastY = ev.y;\n                group.select();\n            } )\n            .on( \"drag\", ( ev ) =>\n            {\n                if ( !moved && Math.abs( startX - ev.x ) + Math.abs( stattY - ev.y ) > 8 )\n                {\n                    moved = true;\n                    this._moveHandler.moveStartHandler();\n                    this._initDrag( \"drag-group-move\" );\n                }\n\n                if ( moved )\n                {\n                    this._moveSelectedObjects( ev.x - lastX, ev.y - lastY );\n                    lastX = ev.x;\n                    lastY = ev.y;\n                }\n            } )\n            .on( \"end\", () =>\n            {\n                this._moveHandler.moveEndHandler();\n                this._terminateDrag( \"drag-group-move\" );\n            } ) );\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    _addObjectEvent( obj )\n    {\n        this._addCommonMouseAction( obj );\n\n        switch ( obj.type )\n        {\n            case \"node\":\n                this._addNodeEvent( obj );\n                // to render connected connections\n                obj.render();\n                break;\n            case \"connection\":\n                this._addConnectionEvent( obj );\n                break;\n            case \"group\":\n                this._addGroupEvent( obj );\n                break;\n            default:\n                throw new Error( `Unknown data type '${obj.type}'` );\n        }\n    }\n\n    /**\n   * @param {String} dragEvent\n   */\n    _initDrag( dragEvent )\n    {\n        this._appendMode.dragged = false;\n        this._objMouseHandler.removeTooltipObj();\n        this.classedOnSvg( true, dragEvent );\n    }\n\n    /**\n   * @param {String} dragEvent\n   */\n    _terminateDrag( dragEvent )\n    {\n        this._appendMode.dragged = false;\n        this.classedOnSvg( false, dragEvent );\n        this.clearAppendMode();\n        this._updateNegativePos();\n        this.refreshSvgSize();\n\n        if ( this._simpleConnectingMode )\n            this.updateShortestNodes();\n    }\n\n    _updateNegativePos()\n    {\n        const minXY = {\n            x: 0,\n            y: 0,\n            objX: null,\n            objY: null,\n        };\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            if ( obj.startX < minXY.x )\n            {\n                minXY.x = obj.startX;\n                minXY.objX = obj;\n            }\n\n            if ( obj.startY < minXY.y )\n            {\n                minXY.y = obj.startY;\n                minXY.objY = obj;\n            }\n        }\n\n        if ( minXY.x < 0 || minXY.y < 0 )\n        {\n            const lastCommand = this._actionController.popLastUndoAction();\n            const changedInfoList = [];\n            const x = minXY.x < 0 ? -minXY.x : 0;\n            const y = minXY.y < 0 ? -minXY.y : 0;\n\n            for ( const node of this._objectManager.getNodeIterator() )\n            {\n                const changedInfo = new ChangedInfo( node.data, [] );\n\n                changedInfo.addMoveOldValues();\n                node.moveTo( x, y );\n                changedInfo.updateMoveNewValues();\n\n                changedInfoList.push( changedInfo );\n            }\n\n            for ( const con of this._objectManager.getConnectionIterator() )\n            {\n                if ( con.sourceObj === null || con.destinationObj === null )\n                {\n                    const changedInfo = new ChangedInfo( con.data, [] );\n\n                    changedInfo.addMoveOldValues();\n                    con.moveTo( x, y );\n                    changedInfo.updateMoveNewValues();\n\n                    changedInfoList.push( changedInfo );\n                }\n            }\n\n            for ( const group of this._objectManager.getGroupIterator() )\n                group.render();\n\n            if ( lastCommand )\n            {\n                lastCommand.unshift( new EditCommand( changedInfoList, this._iContainer ) );\n                this._actionController.addAction( ...lastCommand );\n            }\n            this.refreshSvgSize();\n        }\n    }\n\n    getCountOfSelectedObject()\n    {\n        let cnt = 0;\n\n        for ( const obj of this._objectManager.getSelectedObjIterator() )\n        {\n            if ( this._objectManager.getParentGroupOrNull( obj ) == null )\n                obj.isSelected && ++cnt;\n        }\n\n        return cnt;\n    }\n\n    selectAllObjects()\n    {\n        if ( this._singleSelection )\n        {\n            return;\n        }\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            obj.type !== \"group\" && obj.select( true );\n        }\n    }\n\n    /**\n   * @param {RenderObject | null} clickObj\n   */\n    releaseAllObjects( clickObj )\n    {\n        for ( const obj of this._objectManager.getAllObjIterator() )\n            clickObj !== obj && obj.release( true );\n    }\n\n    /**\n   *\n   * @param {'top' | 'left' | 'bottom' | 'right' | 'center' | 'middle'} direction\n   * @param {Node[] | null} nodeList\n   */\n    align( direction, nodeList )\n    {\n        const tmp = nodeList || this.getSelectedNodes();\n\n        if ( tmp.length <= 1 )\n        {\n            return;\n        }\n\n        this._moveHandler.moveStartHandler();\n\n        switch ( direction )\n        {\n            case \"left\": {\n                const x = tmp[0].x;\n                tmp.forEach( ( node ) => ( node.x = x ) );\n                break;\n            }\n            case \"right\": {\n                const x = tmp[0].endX;\n                tmp.forEach( ( node ) => ( node.x = x - node.width ) );\n                break;\n            }\n            case \"center\": {\n                const x = tmp[0].centerX;\n\n                tmp.forEach( ( node ) => ( node.x = x - node.width / 2 ) );\n                break;\n            }\n            case \"top\": {\n                const y = tmp[0].y;\n                tmp.forEach( ( node ) => ( node.y = y ) );\n                break;\n            }\n            case \"bottom\": {\n                const y = tmp[0].endY;\n                tmp.forEach( ( node ) => ( node.y = y - node.height ) );\n                break;\n            }\n            case \"middle\": {\n                const y = tmp[0].centerY;\n\n                tmp.forEach( ( node ) => ( node.y = y - node.height / 2 ) );\n                break;\n            }\n            default:\n                throw new Error( `Unknown direct '${direction}'` );\n        }\n\n        this._moveHandler.moveEndHandler();\n    }\n\n    /**\n   * @param {'v' | 'h'} direction\n   * @param {Node[] | null} nodeList\n   */\n    distribute( direction, nodeList )\n    {\n    /**\n     * @type {Node[]}\n     */\n        const tmp = nodeList || this.getSelectedNodes( false );\n\n        if ( tmp.length <= 1 )\n        {\n            return;\n        }\n\n        const prop =\n      direction === \"h\"\n          ? {\n              start: \"x\",\n              center: \"centerX\",\n              end: \"endX\",\n              size: \"width\",\n          }\n          : {\n              start: \"y\",\n              center: \"centerY\",\n              end: \"endY\",\n              size: \"height\",\n          };\n\n        tmp.sort( ( a, b ) => a[prop.center] - b[prop.center] );\n\n        this._moveHandler.moveStartHandler();\n\n        const end = tmp.length - 1;\n        const min = tmp[0][prop.end];\n        const max = tmp[end][prop.start];\n        const gap =\n      tmp.slice( 1, end ).reduce( ( a, b ) => a - b[prop.size], max - min ) / end;\n\n        tmp.slice( 1, end ).reduce( ( a, node ) =>\n        {\n            node[prop.start] = a;\n\n            return a + node[prop.size] + gap;\n        }, min + gap );\n\n        this._moveHandler.moveEndHandler();\n    }\n\n    /**\n   * @param {Boolean} [sorted=true]\n   * @returns {RenderObject[]}\n   */\n    getSelectedObjects( sorted = true )\n    {\n        const objList = Array.from( this._objectManager.getSelectedObjIterator() );\n\n        sorted && objList.sort( ( a, b ) => a.temp.clickedSeq - b.temp.clickedSeq );\n\n        return objList;\n    }\n\n    removeSelected()\n    {\n        const selectedObjList = this.getSelectedObjects( false );\n\n        selectedObjList.forEach( ( obj ) => this.remove( obj ) );\n\n        this._actionController.addAction( new DeleteCommand( util.cloneObjDataList( selectedObjList ),\n            this._iContainer ) );\n    }\n\n    /**\n   * get child element on container in order\n   * @param {Number} index\n   */\n    _getChildElementOrNull( index )\n    {\n        const container = this.d3Container.node();\n\n        if ( index >= container.children.length )\n        {\n            return null;\n        }\n\n        return container.children[index];\n    }\n\n    /**\n   *\n   * @param {Number} curPosX\n   * @param {Number} curPosY\n   * @param {Boolean} simpleMode\n   * @returns\n   */\n    _getNodeAndPosUnderXY( curPosX, curPosY, simpleMode = false )\n    {\n        for ( const node of this._objectManager.getNodeIterator() )\n        {\n            // Connector Enabled\uAC00 \uC544\uB2C8\uBA74 \uBB34\uC2DC\n            if ( !node.isConnectorEnabled ) continue;\n\n            if ( simpleMode )\n            {\n                // Get the shortest position\n                const rect = new Rect( node.x, node.y, node.endX, node.endY );\n\n                if ( rect.isContained( curPosX, curPosY ) )\n                {\n                    return {\n                        node: node,\n                        pos: \"left\",\n                    };\n                }\n            }\n            else\n            {\n                // Get the clear position\n                for ( const pos of POSITION_LIST )\n                {\n                    const xy = node.getPositionXY( pos );\n                    const rect = new Rect( xy.x - DETECTING_SIZE,\n                        xy.y - DETECTING_SIZE,\n                        xy.x + DETECTING_SIZE,\n                        xy.y + DETECTING_SIZE );\n\n                    if ( rect.isContained( curPosX, curPosY ) )\n                    {\n                        return {\n                            node,\n                            pos,\n                        };\n                    }\n                }\n            }\n        }\n\n        return {\n            node: null,\n            pos: null,\n        };\n    }\n\n    moveSelectedNode( x, y )\n    {\n        for ( const node of this._objectManager.getNodeIterator() )\n        {\n            if ( node.isSelected )\n            {\n                node.x = parseInt( ( node.x + x ) / 5 ) * 5;\n                node.y = parseInt( ( node.y + y ) / 5 ) * 5;\n            }\n        }\n    }\n\n    /**\n   * get selected nodes\n   * @param {Boolean} [sorted=true]\n   * @returns {Node[]}\n   */\n    getSelectedNodes( sorted = true )\n    {\n        const nodes = [];\n\n        for ( const node of this._objectManager.getNodeIterator() )\n        {\n            node.isSelected && nodes.push( node );\n        }\n\n        sorted && nodes.sort( ( a, b ) => a.clickedSeq - b.clickedSeq );\n\n        return nodes;\n    }\n\n    /**\n   * get connected connections on the node\n   * @param {Node} node\n   * @returns {Connection[]}\n   */\n    getNodeConnections( node )\n    {\n        const nodeId = node.observeProperties ? node.id : node;\n        const nodeObj = this.getObjectOrNull( nodeId );\n        const connections = Array.from( this._objectManager.getConnectedConnections( nodeId ) );\n\n        connections.sort( ( a, b ) =>\n        {\n            return (\n                util.getConnectedPositionId( nodeObj, a ) -\n        util.getConnectedPositionId( nodeObj, b )\n            );\n        } );\n\n        return connections;\n    }\n\n    /**\n   * move screen by obj's location\n   * @param {RenderObject} obj\n   */\n    moveScreenByObject( obj )\n    {\n        const scale = this.getTransform().k;\n        this.d3Div.node().scrollLeft =\n      obj.centerX * scale - this._wrapperSize.width / 2;\n        this.d3Div.node().scrollTop =\n      obj.centerY * scale - this._wrapperSize.height / 2;\n    }\n\n    /**\n   * clear info for appending or pasting objects\n   */\n    clearAppendMode()\n    {\n        this._appendingObject !== null && this.remove( this._appendingObject );\n        this._appendMode.mode = null;\n        this._appendMode.data = null;\n        this._appendMode.dragged = false;\n        this._appendingObject = null;\n    }\n\n    _getClipInfo()\n    {\n        const objects = [];\n\n        // data\uB9CC \uBCF5\uC0AC\uD558\uAE30\n        for ( const obj of this._objectManager.getSelectedObjIterator() )\n        {\n            if ( obj.type === \"group\" )\n            {\n                obj.data.objectList = Array.from( obj.objectSet );\n            }\n\n            objects.push( obj.data );\n        }\n\n        return {\n            copyDateTime: new Date(),\n            objects,\n        };\n    }\n\n    async cut()\n    {\n        this.logger.info( \"InnoFlowchart.cut()\" );\n        if ( this.getSelectedObjects().length === 0 )\n            return;\n        await ClipboardManager.saveData( JSON.stringify( this._getClipInfo() ) );\n        this.removeSelected();\n    }\n\n    async copy()\n    {\n        this.logger.info( \"InnoFlowchart.copy()\" );\n        await ClipboardManager.saveData( JSON.stringify( this._getClipInfo() ) );\n    }\n\n    _createPastingObjs( clipData )\n    {\n    // virtual id mapping table\n        const tmpIdMap = new Map();\n        let cnt = 0;\n        const newId = this._seqMng.getObjSeqId();\n        const newObjs = [];\n        // create id table\n        clipData.objects.forEach( ( data ) =>\n        {\n            if ( this.getObjectOrNull( data.id ) !== null )\n            {\n                let id = newId + cnt;\n                while ( this.getObjectOrNull( id ) !== null\n                    || ( this.getObjectOrNull( id ) !== null\n                    && this.getObjectOrNull( id ).type === \"connection\"// \uADF8\uB824\uC838\uC788\uB294 \uC544\uC774\uB514\uAC00 \uC911\uAC04\uC5D0 \uBE44\uC5B4\uC788\uC744 \uACBD\uC6B0 \uBCF5\uC0AC \uBD99\uC5EC\uB123\uAE30 \uC2DC \uC624\uB958 \uBC1C\uC0DD\n                    && ( this.getObjectOrNull( id ).sourceObjId === id || this.getObjectOrNull( id ).destinationObjId === id ) ) )// newId + cnt\uAC00 \uC774\uBBF8 \uC788\uB294 object\uC544\uC774\uB514 \uC774\uAC70\uB098 \uC5F0\uACB0\uC120\uC758 source, destination\uC57C\uC774\uB514\uB85C \uB418\uC5B4\uC788\uC744 \uACBD\uC6B0 1\uC744 \uB354\uD574\uC11C \uC544\uC774\uB514\uB97C \uC124\uC815\uD574\uC90C\n                {\n                    id = newId + ( ++cnt );\n                    this.logger.info( \"id\", id );\n                }\n                ++cnt;\n                tmpIdMap.set( data.id, id );\n            }\n            else\n            {\n                tmpIdMap.set( data.id, data.id );\n            }\n        } );\n        clipData.objects.forEach( ( data ) =>\n        {\n            const id = tmpIdMap.get( data.id );\n            switch ( data.type )\n            {\n                case \"node\": {\n                    const pos = this._getProperlyNodePosToCreate( data );\n\n                    newObjs.push( this.add( {\n                        ...data,\n                        ...pos,\n                        id,\n                        isSelected: false,\n                        isHovered: false,\n                    } ) );\n                    break;\n                }\n                case \"connection\": {\n                    const points = this._getProperlyPointsToCreate( data );\n\n                    if (\n                        data[\"connection.sourceObjId\"] != undefined &&\n            data[\"connection.sourceObjId\"] != null &&\n            tmpIdMap.has( data[\"connection.sourceObjId\"] )\n                    )\n                    {\n                        data[\"connection.sourceObjId\"] = tmpIdMap.get( data[\"connection.sourceObjId\"] );\n                    }\n\n                    if (\n                        data[\"connection.destinationObjId\"] != undefined &&\n            data[\"connection.destinationObjId\"] != null &&\n            tmpIdMap.has( data[\"connection.destinationObjId\"] )\n                    )\n                    {\n                        data[\"connection.destinationObjId\"] = tmpIdMap.get( data[\"connection.destinationObjId\"] );\n                    }\n\n                    newObjs.push( this.add( {\n                        ...data,\n                        id,\n                        isSelected: false,\n                        points,\n                    } ) );\n                    break;\n                }\n                case \"group\": {\n                    newObjs.push( this.add( {\n                        ...data,\n                        id,\n                        isSelected: false,\n                        objectList: data.objectList.map( ( id ) => tmpIdMap.get( id ) ),\n                    } ) );\n                    break;\n                }\n                default:\n                    throw new Error( `Not supported type '${data.type}'` );\n            }\n        } );\n        this.moveScreenByObject( newObjs[0] );\n        this.releaseAllObjects();\n        newObjs.forEach( ( data ) =>\n        {\n            data.select();\n        } );\n        this._actionController.addAction( new AddCommand( util.cloneObjDataList( newObjs ), this._iContainer ) );\n    }\n\n    async paste()\n    {\n        if ( this._editMode || this._appendMode.mode != null )\n        {\n            this.logger.debug( \"InnoFlowchart.paste()\",\n                \"Could not paste because of edit or append mode\" );\n            return;\n        }\n\n        this.logger.info( \"InnoFlowchart.paste()\" );\n        this._createPastingObjs( JSON.parse( await ClipboardManager.loadData() ) );\n    }\n\n    /**\n   * TODO: write some comment..\n   */\n    fitSizeOnText()\n    {\n        this.logger.info( \"InnoFlowchart.fitSizeOnText()\" );\n        this._resizeHandler.resizeDragStart();\n        this.getSelectedNodes( false ).forEach( ( node ) =>\n        {\n            node.resizerEnabled && node.fitSizeOnText();\n        } );\n        this._resizeHandler.resizeDragEnd();\n    }\n\n    /**\n   *\n   * @param {Node} source\n   * @param {Node} target\n   */\n    _getShortestPositions( source, target )\n    {\n        const minPos = {\n            dist: Number.MAX_VALUE,\n            sourcePos: \"\",\n            destinationPos: \"\",\n        };\n\n        for ( const srcPos of POSITION_LIST )\n        {\n            for ( const desPos of POSITION_LIST )\n            {\n                const srcXY = source.getPositionXY( srcPos );\n                const desXY = target.getPositionXY( desPos );\n                const dist = util.getDistance( srcXY, desXY );\n\n                if ( dist < minPos.dist )\n                {\n                    minPos.dist = dist;\n                    minPos.sourcePos = srcPos;\n                    minPos.destinationPos = desPos;\n                }\n            }\n        }\n\n        return minPos;\n    }\n\n    /**\n   * @param {Connection} con\n   */\n    _setShortestPosition( con )\n    {\n        const source = this.getObjectOrNull( con.sourceObjId );\n        const destination = this.getObjectOrNull( con.destinationObjId );\n        const oldSrcPos = con.sourcePos;\n        const oldDesPos = con.destinationPos;\n\n        if ( source !== null && destination !== null )\n        {\n            const pos = this._getShortestPositions( source, destination );\n\n            con.editProp( () =>\n            {\n                con.sourcePos = pos.sourcePos;\n                con.destinationPos = pos.destinationPos;\n            } );\n        }\n        else\n        if ( source === null )\n        {\n            const point = con.firstPoint;\n\n            con.destinationPos = this._getPositionOnSimpleConnecting( point,\n                destination );\n        }\n        else\n        {\n            const point = con.endPoint;\n            con.sourcePos = this._getPositionOnSimpleConnecting( point, source );\n        }\n\n        if ( oldSrcPos !== con.sourcePos || oldDesPos !== con.destinationPos )\n        {\n            const changedInfo = new ChangedInfo( con.data, [\n                {\n                    key: \"connection.sourcePos\",\n                    oldValue: oldSrcPos,\n                    newValue: con.sourcePos,\n                },\n                {\n                    key: \"connection.destinationPos\",\n                    oldValue: oldDesPos,\n                    newValue: con.destinationPos,\n                },\n            ] );\n\n            this._actionController.addAction( new EditCommand( [changedInfo], this._iContainer ) );\n        }\n    }\n\n    /**\n   * \uD604\uC7AC \uC120\uD0DD\uB41C \uC5F0\uACB0\uC120\uB4E4\uC744 \uCD5C\uB2E8 \uACBD\uB85C\uB85C \uB9DE\uCDA5\uB2C8\uB2E4.\n   */\n    updateShortestConnections()\n    {\n        this.logger.info( \"InnoFlowchart.updateShortestConnections()\" );\n\n        for ( const con of this._objectManager.getConnectionIterator() )\n        {\n            if ( con.isSelected )\n            {\n                this._setShortestPosition( con );\n            }\n        }\n    }\n\n    /**\n   * \uD604\uC7AC \uC120\uD0DD\uB41C \uB178\uB4DC\uB4E4\uC758 \uC5F0\uACB0\uC120\uB4E4\uC744 \uCD5C\uB2E8 \uACBD\uB85C\uB85C \uB9DE\uCDA5\uB2C8\uB2E4.\n   */\n    updateShortestNodes()\n    {\n        const conList = [];\n\n        for ( const node of this._objectManager.getNodeIterator() )\n        {\n            if ( node.isSelected === false )\n            {\n                continue;\n            }\n\n            for ( const con of this._objectManager.getConnectedConnections( node.id ) )\n            {\n                if ( conList.indexOf( con ) === -1 )\n                {\n                    conList.push( con );\n                }\n            }\n        }\n\n        conList.forEach( ( con ) => this._setShortestPosition( con ) );\n    }\n\n    /**\n   * @param {{x: Number, y: Number}} startPoint\n   * @param {Node} targetNode\n   * @returns\n   */\n    _getPositionOnSimpleConnecting( startPoint, targetNode )\n    {\n        const minDist = {\n            dist: Number.MAX_VALUE,\n            pos: null,\n        };\n\n        for ( const pos of POSITION_LIST )\n        {\n            const xy = targetNode.getPositionXY( pos );\n            const dist = util.getDistance( xy, startPoint );\n\n            if ( dist < minDist.dist )\n            {\n                minDist.dist = dist;\n                minDist.pos = pos;\n            }\n        }\n\n        return minDist.pos;\n    }\n\n    /**\n   * \uD2B9\uC815 render\uC758 \uAC1C\uCCB4\uB97C \uBAA8\uB450 \uC120\uD0DD\uD569\uB2C8\uB2E4.\n   * @param {String} render\n   */\n    selectType( render )\n    {\n        this.logger.info( \"InnoFlowchart.selectType()\", render );\n        const temp = render.toLowerCase();\n\n        this.releaseAllObjects();\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            obj.renderType === temp && obj.select( false, temp );\n        }\n    }\n\n    /**\n   * \uD50C\uB85C\uC6B0\uCC28\uD2B8 \uBCC0\uACBD \uC0C1\uD0DC \uCD08\uAE30\uD654\n   */\n    clearChangedStatus()\n    {\n        if ( this._isChanged )\n        {\n            this._isChanged = false;\n            this.classedOnSvg( false, \"changed\" );\n        }\n    }\n\n    /**\n   * \uD50C\uB85C\uC6B0\uCC28\uD2B8 \uB0B4 \uBAA8\uB4E0 \uAC1C\uCCB4 \uC81C\uAC70\n   */\n    clear()\n    {\n        this.clearAppendMode();\n\n        for ( const obj of this._objectManager.getAllObjIterator() )\n        {\n            obj.destroy();\n        }\n\n        this._objectManager.clear();\n        this._seqMng.clear();\n        this._actionController.clear();\n    }\n\n    /**\n   * Creating a group object with selected objects\n   * @param {{}} data\n   */\n    group( data = undefined )\n    {\n        const temp = data || {};\n\n        temp.type = \"group\";\n        temp.render = \"group\";\n        temp.objectList = [];\n\n        util.combineStyle( temp, this.theme );\n\n        for ( const obj of this._objectManager.getSelectedObjIterator() )\n        {\n            temp.objectList.push( obj.id );\n        }\n\n        const group = this.add( temp );\n\n        group.resize();\n        group.select();\n\n        this._actionController.addAction( new AddCommand( util.cloneObjDataList( [group] ), this._iContainer ) );\n    }\n\n    /**\n   * Releasing children of selected groups and deleting the groups\n   */\n    ungroup()\n    {\n        const tmpObjs = [];\n\n        for ( const obj of this._objectManager.getGroupIterator() )\n        {\n            if ( obj.isSelected )\n            {\n                obj.clear();\n                tmpObjs.push( obj );\n                this.remove( obj );\n            }\n        }\n\n        this._actionController.addAction( new DeleteCommand( util.cloneObjDataList( tmpObjs ), this._iContainer ) );\n    }\n\n    /**\n   *\n   * @param {Number} x\n   * @param {Number} y\n   */\n    _moveAppendingNode( x, y )\n    {\n        const cursorXY = this._getXYOnSheet( x, y );\n\n        this._appendingObject.x = cursorXY.x - this._appendingObject.width / 2;\n        this._appendingObject.y = cursorXY.y - this._appendingObject.height / 2;\n    }\n\n    _getSvgXYOnDrag( x, y, scaled = false )\n    {\n        const xy = {\n            x: x + this.d3Div.node().scrollLeft,\n            y: y + this.d3Div.node().scrollTop,\n        };\n\n        if ( scaled )\n        {\n            const transform = this.getTransform();\n            const scale = 1 / transform.k;\n\n            xy.x *= scale;\n            xy.y *= scale;\n        }\n\n        return xy;\n    }\n\n    _dragStartHandlerOnSelection( ev )\n    {\n        const xy = this._getSvgXYOnDrag( ev.x, ev.y );\n        this.selection.rect = this.d3Svg.append( \"rect\" ).attr( \"class\", \"selection\" );\n        this.selection.startX = xy.x;\n        this.selection.startY = xy.y;\n    }\n\n    _dragHandlerOnSelection( ev )\n    {\n        const xy = this._getSvgXYOnDrag( ev.x, ev.y );\n        const startX = Math.min( xy.x, this.selection.startX );\n        const startY = Math.min( xy.y, this.selection.startY );\n        const endX = Math.max( xy.x, this.selection.startX );\n        const endY = Math.max( xy.y, this.selection.startY );\n\n        this.selection.rect\n            .attr( \"x\", startX )\n            .attr( \"y\", startY )\n            .attr( \"width\", endX - startX )\n            .attr( \"height\", endY - startY );\n    }\n\n    _dragEndHandlerOnSelection( ev )\n    {\n        try\n        {\n            const transFormData = this.getTransform();\n            const xy = this._getSvgXYOnDrag( ev.x, ev.y );\n            const startX = Math.min( xy.x, this.selection.startX );\n            const startY = Math.min( xy.y, this.selection.startY );\n            const endX = Math.max( xy.x, this.selection.startX );\n            const endY = Math.max( xy.y, this.selection.startY );\n            const compareWithinRect = ( x1, x2, y1, y2 ) =>\n            {\n                return (\n                    x1 >= startX &&\n          x2 >= startX &&\n          x1 <= endX &&\n          x2 <= endX &&\n          y1 >= startY &&\n          y2 >= startY &&\n          y1 <= endY &&\n          y2 <= endY\n                );\n            };\n\n            if ( this._isSingleSelection( ev.sourceEvent.ctrlKey ) )\n            {\n                this.releaseAllObjects();\n            }\n\n            // convert xy to fit container\n            for ( const node of this._objectManager.getNodeIterator() )\n            {\n                const x1 = node.x * transFormData.k;\n                const x2 = ( node.x + node.width ) * transFormData.k;\n                const y1 = node.y * transFormData.k;\n                const y2 = ( node.y + node.height ) * transFormData.k;\n\n                compareWithinRect( x1, x2, y1, y2 ) && node.select( true );\n            }\n\n            for ( const con of this._objectManager.getConnectionIterator() )\n            {\n                const firstPoint = con.firstPoint;\n                const endPoint = con.endPoint;\n                const x1 = Math.min( firstPoint.x, endPoint.x ) * transFormData.k;\n                const x2 = Math.max( firstPoint.x, endPoint.x ) * transFormData.k;\n                const y1 = Math.min( firstPoint.y, endPoint.y ) * transFormData.k;\n                const y2 = Math.max( firstPoint.y, endPoint.y ) * transFormData.k;\n\n                compareWithinRect( x1, x2, y1, y2 ) && con.select( true );\n            }\n        }\n        finally\n        {\n            this.selection.rect.remove();\n            this.selection.rect = null;\n\n            this.$emit( EVENT_TYPE.MOUSEUP_SHEET, this._getSvgXYOnDrag( ev.x, ev.y ) );\n        }\n    }\n\n    _createAppendObj()\n    {\n        switch ( this._appendMode.mode )\n        {\n            case \"append\": {\n                const newObj = this.add( {\n                    \"node.x\": this._appendingObject.x,\n                    \"node.y\": this._appendingObject.y,\n                    ...this._appendMode.data,\n                } );\n\n                this._actionController.addAction( new AddCommand( util.cloneObjDataList( [newObj] ), this._iContainer ) );\n\n                break;\n            }\n            default:\n                break; // do nothing\n        }\n\n        this.clearAppendMode();\n    }\n\n    _dragController( ev )\n    {\n        if ( this._appendMode.mode === null )\n        {\n            switch ( ev.type )\n            {\n                case \"start\":\n                    this._dragStartHandlerOnSelection( ev );\n                    break;\n                case \"drag\":\n                    this._dragHandlerOnSelection( ev );\n                    break;\n                case \"end\":\n                    this._dragEndHandlerOnSelection( ev );\n                    break;\n                default:\n                    break; // do nothing\n            }\n        }\n        else\n        if ( this._appendMode.mode === \"append\" )\n        {\n            if ( this._appendMode.data.type === \"node\" )\n            {\n                // node\n                switch ( ev.type )\n                {\n                    case \"drag\":\n                        this._moveAppendingNode( ev.x, ev.y );\n                        break;\n                    case \"end\":\n                        this._createAppendObj();\n                        break;\n                    default:\n                        break; // do nothing\n                }\n            }\n            else\n            {\n                // connection\n                switch ( ev.type )\n                {\n                    case \"start\": {\n                        const pos = this._getSvgXYOnDrag( ev.x, ev.y, true );\n\n                        this._createAppendingConnection( pos.x,\n                            pos.y,\n                            pos.x,\n                            pos.y,\n                            this._appendMode.data );\n\n                        this._appendMode.dragged = false;\n                        break;\n                    }\n                    case \"drag\": {\n                        const pos = this._getSvgXYOnDrag( ev.x, ev.y, true );\n\n                        this._moveAppendingConnection( pos.x,\n                            pos.y,\n                            this._appendingObject.renderType );\n\n                        this._appendMode.dragged = true;\n                        break;\n                    }\n                    case \"end\":\n                        this._endAppendingConnection();\n                        this.clearAppendMode();\n                        break;\n                    default:\n                        break; // do nothing\n                }\n            }\n        }\n    }\n\n    cancelCreatingConnection()\n    {\n        if ( this._appendingObject === null )\n        {\n            throw new Error( \"There is no creatingConnection obj\" );\n        }\n\n        this.clearAppendMode();\n    }\n\n    _changeObjRender( obj, render )\n    {\n        this._renderManager.changeRender( obj, render, this._iContainer );\n        this._addObjectEvent( obj );\n    }\n\n    /**\n   * \uAC1C\uCCB4\uC758 \uB80C\uB354\uB9C1 \uD0C0\uC785\uC744 \uBCC0\uACBD\uD569\uB2C8\uB2E4.\n   * @param {RenderObject} obj\n   * @param {String} render\n   */\n    changeRender( obj, render )\n    {\n        const oldRender = obj.renderType;\n        this._changeObjRender( obj, render );\n        this._actionController.addAction( new RenderCommand( obj, oldRender, render, this._iContainer ) );\n    }\n\n    /**\n   * @param {{}} objData\n   * @param {String} oldText\n   * @param {String} newText\n   */\n    _editTextCallbackHandler( objData, oldText, newText )\n    {\n        this.logger.debug( \"InnoFlowchart._editTextCallbackHandler()\",\n            `oldText = '${oldText}'`,\n            `newText = '${newText}'` );\n\n        this._actionController.addAction( new EditCommand( [\n            new ChangedInfo( objData, [\n                {\n                    key: \"text\",\n                    oldValue: oldText,\n                    newValue: newText,\n                },\n            ] ),\n        ],\n        this._iContainer ) );\n    }\n\n    /**\n   * @param {Number} x\n   * @param {Number} y\n   */\n    _moveAppendingConnection( x, y )\n    {\n        const detecting = this._getNodeAndPosUnderXY( x,\n            y,\n            this._simpleConnectingMode );\n\n        if (\n            detecting.node === null ||\n      detecting.node.id === this._appendingObject.sourceObjId\n        )\n        {\n            this._appendingObject.setLastPointXY( x, y );\n            this._appendingObject.destinationObjId = null;\n            this._appendingObject.destinationPos = null;\n        }\n        else\n        {\n            this._appendingObject.destinationObjId = detecting.node.id;\n\n            if ( this._simpleConnectingMode )\n            {\n                this.setShortestPosition( this._appendingObject );\n            }\n            else\n            {\n                this._appendingObject.destinationPos = detecting.pos;\n            }\n        }\n    }\n\n    /**\n   * @param {{}} objData\n   * @param {[]} oldPoints\n   * @param {[]} newPoints\n   */\n    _adjDragCallbackHandler( objData, oldPoints, newPoints )\n    {\n        this.logger.debug( \"InnoFlowchart.adjDragCallbackHandler()\",\n            \"record undo action\" );\n        this._actionController.addAction( new EditCommand( [\n            new ChangedInfo( objData, [\n                {\n                    key: \"connection.points\",\n                    oldValue: oldPoints,\n                    newValue: newPoints,\n                },\n            ] ),\n        ],\n        this._iContainer ) );\n        this._updateNegativePos();\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    _renderCallBack( obj )\n    {\n        if ( obj.type === \"node\" )\n        {\n            const set = new Set();\n\n            for ( const con of this._objectManager.getConnectionIterator() )\n            {\n                if (\n                    !set.has( con.id ) &&\n          ( con.sourceObjId === obj.id || con.destinationObjId === obj.id )\n                )\n                {\n                    set.add( con.id );\n                    con.render();\n                }\n            }\n        }\n\n        const group = this._objectManager.getParentGroupOrNull( obj );\n\n        group !== null && group.resize();\n    }\n\n    _clickOnSheetHandler( ev )\n    {\n        this.$emit( EVENT_TYPE.CLICK, this._getXYOnSheet( ev.layerX, ev.layerY ) );\n    }\n\n    /**\n   * @param {Number} x\n   * @param {Number} y\n   * @param {Number} toX\n   * @param {Number} toY\n   * @param {{}} data\n   */\n    _createAppendingConnection( x, y, toX, toY, data )\n    {\n        if ( this._appendingObject !== null )\n        {\n            throw new Error( \"Already created an appending obj!!\" );\n        }\n\n        if ( !data[\"connection.sourceObjId\"] )\n        {\n            const detecting = this._getNodeAndPosUnderXY( x, y );\n\n            if ( detecting.node !== null )\n            {\n                data[\"connection.sourceObjId\"] = detecting.node.id;\n                data[\"connection.sourcePos\"] = detecting.pos;\n            }\n        }\n\n        const obj = {\n            ...data,\n            id: \"#temp_appending_connection\",\n            type: \"connection\",\n            opacity: 0.5,\n            temp: true,\n            \"connection.points\": [\n                { x, y },\n                { x: toX, y: toY },\n            ],\n        };\n\n        this._appendingObject = this.add( obj );\n    }\n\n    _endAppendingConnection()\n    {\n        let data = this._appendingObject.data;\n\n        // drag \uC5C6\uC774 \uC0DD\uC131 -> \uAE30\uBCF8 \uAE38\uC774 \uC801\uC6A9\n        if ( this._appendMode.dragged === false )\n        {\n            data = util.getDefaultConnection( this._appendingObject );\n        }\n\n        const newObj = this.add( {\n            ...data,\n            id: undefined,\n            temp: false,\n            opacity: 1,\n        } );\n\n        this._actionController.addAction( new AddCommand( util.cloneObjDataList( [newObj] ), this._iContainer ) );\n    }\n\n    handleKeydownF2()\n    {\n        if ( !this._editMode && this.getCountOfSelectedObject() === 1 )\n        {\n            for ( const obj of this._objectManager.getSelectedObjIterator() )\n            {\n                obj.editLabel();\n                return;\n            }\n        }\n    }\n\n    handleKeydownDelete()\n    {\n        this.removeSelected();\n    }\n\n    handleKeydownArrows( x, y )\n    {\n        const selected = this.getSelectedObjects( false );\n\n        if ( selected.length > 0 )\n        {\n            this.moveWrapper( () =>\n            {\n                selected.filter( ( obj ) => obj.isSelected ).forEach( ( obj ) => obj.moveTo( x, y ) );\n            } );\n        }\n        else\n        {\n            this.div.scrollLeft += x * 2;\n            this.div.scrollTop += y * 2;\n        }\n    }\n\n    handleKeydownEscape()\n    {\n        const appendMode = this._appendMode;\n        const appendingObject = this._appendingObject;\n\n        if ( appendMode.mode === null && appendingObject !== null )\n        {\n            this.logger.info( 'InnoFlowchart.handleKeydownEscape()', 'Cancel Creating Connection' );\n            this.cancelCreatingConnection();\n        }\n        else if ( appendMode.mode !== null )\n        {\n            this.logger.info( 'InnoFlowchart.handleKeydownEscape()', 'Clear Appending Data' );\n            this.clearAppendMode();\n        }\n        else\n        {\n            this.logger.info( 'InnoFlowchart.handleKeydownEscape()', 'releaseAllObj' );\n            this.releaseAllObjects();\n        }\n    }\n}", "export default class StyleData\n{\n    constructor()\n    {\n    // \uACF5\uC6A9 \uC18D\uC131\n        this.type = null;\n        this.render = null;\n        this.text = '';\n        this.editable = true;\n        this.foreColor = 'black';\n        this.fontSize = 16;\n        this.fontFamily = 'Malgun Gothic';\n        this.textDecoration = 'none';\n        this.visibleOverText = true;\n        this.opacity = 1;\n        this.cursor = 'move';\n        this.borderColor = 'black';\n        this.borderWidth = 1;\n        this.borderDash = 0;\n        this.isSelected = false;\n        this.isMonitoring = true;\n        this.isHovered = false;\n        this.tooltipText = '';\n        this.tooltipFontSize = 12;\n        this.tooltipForeColor = 'black';\n        this.tooltipFontFamily = 'Malgun Gothic';\n        this.tooltipFill = 'white';\n        this.tooltipMaxWidth = 380;\n        this.tooltipBorderColor = '#bbb';\n        this.tooltipBorderWidth = 1;\n        this.tooltipBorderDash = 0;\n        this.tooltipPadding = 10;\n        this.tooltipTextDecoration = 'none';\n        this.tooltipVisible = true;\n        // \uACF5\uC6A9 \uC18D\uC131 \uC774\uBCA4\uD2B8\n        this['borderWidth.selected'] = 2;\n        this['borderColor.selected'] = 'blue';\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport StyleData from './styledata';\n\nconst FIXED_KEYS = new Set( [\n    // \uACF5\uC6A9\n    'id',\n    'type',\n    'render',\n    'text',\n    'editable',\n    'isSelected',\n    'isMonitoring',\n    'isHovered',\n    // \uB178\uB4DC\n    'node.width',\n    'node.height',\n    'node.x',\n    'node.y',\n    'node.connectorEnabled',\n    'node.resizerEnabled',\n    // \uC5F0\uACB0\uC120\n    'connection.points',\n    'connection.sourceObjId',\n    'connection.sourcePos',\n    'connection.destinationObjId',\n    'connection.destinationPos',\n    // \uADF8\uB8F9\n    'group.borderAlwaysAppearance',\n    'group.margin',\n] );\n\nexport default class StyleDataWrapper\n{\n    /**\n   * @param {StyleData} data\n   */\n    constructor( data )\n    {\n        this.data = data;\n    }\n\n    _getPostFix()\n    {\n        if ( this.data.isSelected )\n        {\n            return '.selected';\n        }\n        else if ( this.data.isHovered )\n        {\n            return '.hovered';\n        }\n        else\n        {\n            return '';\n        }\n    }\n\n    /**\n   * @param {String} key\n   */\n    get( key )\n    {\n        if ( FIXED_KEYS.has( key ) )\n        {\n            return this.data[key];\n        }\n        else\n        {\n            const pkey = `${key}${this._getPostFix()}`;\n\n            if ( this.data[pkey] !== undefined )\n            {\n                return this.data[pkey];\n            }\n            else\n            {\n                return this.data[key];\n            }\n        }\n    }\n}", "// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\nimport * as _ from 'lodash';\n\nimport ConnectionStyleData from '../data/connection';\nimport GroupStyleData from '../data/group';\nimport NodeStyleData from '../data/node';\nimport RenderObject from '../obj/base';\nimport { TEXT_ROW_SPACE } from './text-metrics';\nimport TextCache from './textcache';\n\nimport { Logger } from '@utils';\n\nconst TRANSLATE_REGEX = /translate\\((-?[\\d.]+),\\s*?(-?[\\d.]+)\\)/;\nconst SCALE_REGEX = /scale\\(([\\d.]+),\\s*?([\\d.]+)\\)/;\nconst POSITION_MAP = {\n    top: 0,\n    right: 1,\n    bottom: 2,\n    left: 3,\n};\nconst DEFAULT_CONNECTION_LENGTH = 45;\nconst TMP_STYLE_MAP = {\n    node: new NodeStyleData(),\n    group: new GroupStyleData(),\n    connection: new ConnectionStyleData(),\n};\n\nexport function getConnectedPositionId( node, con )\n{\n    switch ( node.id )\n    {\n        case con.sourceObjId:\n            return POSITION_MAP[con.sourcePos];\n        case con.destinationObjId:\n            return POSITION_MAP[con.destinationPos];\n        default:\n            throw new Error( `It's not connected.` );\n    }\n}\n\nexport function getPosition( clsName )\n{\n    if ( clsName.indexOf( 'left' ) !== -1 )\n    {\n        return 'left';\n    }\n    else if ( clsName.indexOf( 'right' ) !== -1 )\n    {\n        return 'right';\n    }\n    else if ( clsName.indexOf( 'top' ) !== -1 )\n    {\n        return 'top';\n    }\n    else if ( clsName.indexOf( 'bottom' ) !== -1 )\n    {\n        return 'bottom';\n    }\n    else\n    {\n        throw new Error( `Invalid argument '${clsName}'` );\n    }\n}\n\nexport function getTransformData( transform )\n{\n    const translateExec = TRANSLATE_REGEX.exec( transform );\n    const scaleExec = SCALE_REGEX.exec( transform );\n    let translateX = 0;\n    let translateY = 0;\n    let scale = 1;\n\n    if ( translateExec )\n    {\n        translateX = parseFloat( translateExec[1] );\n        translateY = parseFloat( translateExec[2] );\n    }\n\n    if ( scaleExec )\n    {\n        scale = parseFloat( scaleExec[1] );\n    }\n\n    return {\n        translateX,\n        translateY,\n        scale,\n    };\n}\n\nexport async function getPermission( name )\n{\n    return await navigator.permissions.query( {\n        name,\n    } );\n}\n\nexport async function readClipboardText()\n{\n    return await navigator.clipboard.readText();\n}\n\n/**\n * @param {String} text the text you write into clipboard\n */\nexport async function writeClipboardText( text )\n{\n    await navigator.clipboard.writeText( text );\n}\n\nfunction setStyleValue( data, key, value )\n{\n    if ( data[key] === undefined )\n    {\n        data[key] = value;\n    }\n}\n\n/**\n * @param {NodeStyleData} data\n */\nfunction defaultNodeRule( data )\n{\n    setStyleValue( data, 'cursor', 'move' );\n\n    if ( data.temp )\n    {\n        setStyleValue( data, 'node.resizerEnabled', false );\n        setStyleValue( data, 'node.connectorEnabled', false );\n    }\n\n    switch ( data.render )\n    {\n        case 'start': {\n            setStyleValue( data, 'node.resizerEnabled', false );\n            break;\n        }\n        case 'comment': {\n            setStyleValue( data, 'node.connectorEnabled', false );\n            break;\n        }\n        case 'bridge': {\n            setStyleValue( data, 'editable', 20 );\n            setStyleValue( data, 'node.width', 20 );\n            setStyleValue( data, 'node.height', 20 );\n            setStyleValue( data, 'node.resizerEnabled', false );\n            break;\n        }\n        default:\n            break; // do nothing\n    }\n}\n\n/**\n * @param {ConnectionStyleData} data\n */\nfunction defaultConnectionRule( data )\n{\n    setStyleValue( data, 'cursor', 'pointer' );\n\n    if (\n        data['connection.points'] === null ||\n    data['connection.points'] == undefined\n    )\n    {\n        data['connection.points'] = [];\n    }\n\n    const points = data['connection.points'];\n\n    for ( let i = points.length; i < 2; i++ )\n    {\n        points.push( { x: 0, y: 0 } );\n    }\n}\n\n/**\n *\n * @param {{x: Number, y: Number}} pos1\n * @param {{x: Number, y: Number}} pos2\n * @returns {Number}\n */\nexport function getDistance( pos1, pos2 )\n{\n    return Math.sqrt( Math.pow( pos1.x - pos2.x, 2 ) + Math.pow( pos1.y - pos2.y, 2 ) );\n}\n\nexport function combineStyle( data, theme )\n{\n    const tmpStyle = TMP_STYLE_MAP[data.type];\n\n    if ( tmpStyle === undefined )\n    {\n        throw new Error( `Unknown type '${data.type}'` );\n    }\n\n    for ( const key of Object.keys( tmpStyle ) )\n    {\n        if ( data[key] === undefined )\n        {\n            data[key] = theme[key];\n        }\n    }\n\n    return data;\n}\n\nexport function defaultRule( data )\n{\n    switch ( data.type )\n    {\n        case 'node': {\n            defaultNodeRule( data );\n            break;\n        }\n        case 'connection': {\n            defaultConnectionRule( data );\n            break;\n        }\n        case 'group': {\n            setStyleValue( data, 'borderDash.selected', 1 );\n            break;\n        }\n        default:\n            break; // do nothing\n    }\n}\n\nexport function getDefaultConnection( appendingObj )\n{\n    const data = {\n        ...appendingObj.data,\n    };\n    const firstPoint = appendingObj.firstPoint;\n\n    switch ( appendingObj.sourcePos )\n    {\n        case 'top': {\n            if ( appendingObj.renderType === 'direct' )\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x,\n                        y: firstPoint.y - DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            else\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y - DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            break;\n        }\n        case 'bottom': {\n            if ( appendingObj.renderType === 'direct' )\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            else\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n\n            break;\n        }\n        case 'left': {\n            if ( appendingObj.renderType === 'direct' )\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x - DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y,\n                    },\n                ];\n            }\n            else\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x - DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            break;\n        }\n        case 'right': {\n            if ( appendingObj.renderType === 'direct' )\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y,\n                    },\n                ];\n            }\n            else\n            {\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            break;\n        }\n        default:\n            if ( appendingObj.renderType === 'direct' )\n            {\n                // \uC6B0\uCE21 \uB300\uAC01\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            else\n            {\n                // \uAEBE\uC740\uC120 \uC6B0\uCE21 \uB300\uAC01\n                data['connection.points'] = [\n                    firstPoint,\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH / 2,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH / 2,\n                    },\n                    {\n                        x: firstPoint.x + DEFAULT_CONNECTION_LENGTH,\n                        y: firstPoint.y + DEFAULT_CONNECTION_LENGTH,\n                    },\n                ];\n            }\n            break;\n    }\n\n    return data;\n}\n\n/**\n *\n * @param {RenderObject[]} objList\n */\nexport function cloneObjDataList( objList )\n{\n    const dataList = [];\n\n    objList.forEach( ( obj ) =>\n    {\n        dataList.push( _.cloneDeep( obj.data ) );\n    } );\n\n    return dataList;\n}\n\nexport function deepCopy( data )\n{\n    return _.cloneDeep( data );\n}\n\n/**\n * @param {{}} objData\n */\nexport function *getMovePropIterator( objData )\n{\n    switch ( objData.type )\n    {\n        case 'node':\n            yield {\n                key: 'node.x',\n                value: objData['node.x'],\n            };\n            yield {\n                key: 'node.y',\n                value: objData['node.y'],\n            };\n            break;\n        case 'connection':\n            yield {\n                key: 'connection.sourceObjId',\n                value: objData['connection.sourceObjId'],\n            };\n            yield {\n                key: 'connection.sourcePos',\n                value: objData['connection.sourcePos'],\n            };\n            yield {\n                key: 'connection.destinationObjId',\n                value: objData['connection.destinationObjId'],\n            };\n            yield {\n                key: 'connection.destinationPos',\n                value: objData['connection.destinationPos'],\n            };\n            yield {\n                key: 'connection.points',\n                value: deepCopy( objData['connection.points'] ),\n            };\n            break;\n        case 'group':\n            break;\n        default:\n            throw new Error( `Unknow type '${objData.type}'` );\n    }\n}\n\n/**\n * @param {d3.Selection} textObj\n * @param {Number} x\n * @param {Number} y\n * @param {{foreColor: String, fontFamily: String, fontSize: Number, textDecoration: String}} style\n */\nexport function updateTextStyle( textObj, x, y, style )\n{\n    textObj\n        .attr( 'x', x )\n        .attr( 'y', y )\n        .attr( 'fill', style.foreColor )\n        .attr( 'font-family', style.fontFamily )\n        .attr( 'font-size', style.fontSize )\n        .attr( 'text-decoration', style.textDecoration );\n}\n\n/**\n * @param {d3.Selection} textObj\n * @param {{length: number, lines: String[], height: number}} textLines\n * @param {Number} x\n * @param {Number} y\n * @param {{foreColor: String, fontFamily: String, fontSize: Number, textDecoration: String}} style\n */\nexport function createTextLines( textObj, textLines, x, y, style )\n{\n    updateTextStyle( textObj, x, y, style );\n\n    textLines.lines.forEach( ( line, id ) =>\n    {\n        const tspan = textObj\n            .append( 'tspan' )\n            .attr( 'x', x )\n            .attr( 'dx', 0 )\n            .attr( 'dy', id === 0 ? 0 : style.fontSize + TEXT_ROW_SPACE )\n            .text( line );\n\n        if ( line.trim() === '' )\n        {\n            tspan //\n            // for chromium engine\n                .attr( 'opacity', '0' )\n            // for mozilla engine\n                .attr( 'fill-opacity', '0' )\n                .text( '.' );\n        }\n    } );\n}\n\n/**\n * @param {d3.Selection} textObj\n * @param {TextCache} cache\n */\nexport function removeText( textObj, cache )\n{\n    textObj.selectAll( 'tspan' ).remove();\n    cache.clear();\n}\n\n/**\n *\n * @param {String} id\n * @returns\n */\nexport function createLogger( id )\n{\n    return new Logger( id );\n}", "import StyleData from './styledata';\n\nexport default class ConnectionStyleData extends StyleData\n{\n    constructor()\n    {\n        super();\n\n        this['connection.points'] = [];\n        this['connection.sourceObjId'] = null;\n        this['connection.sourcePos'] = null;\n        this['connection.destinationObjId'] = null;\n        this['connection.destinationPos'] = null;\n        this['connection.width'] = 200;\n        this['connection.arrowFill'] = 'black';\n        this['connection.arrowSize'] = 10;\n        this['connection.textBorderColor'] = 'black';\n        this['connection.textBorderWidth'] = 1;\n        this['connection.textBorderDash'] = 0;\n        this['connection.textBorderFill'] = 'white';\n        this['connection.connectorFill'] = 'black';\n        this['connection.connectorSize'] = 3;\n        this['connection.adjusterSize'] = 7;\n        this['connection.adjusterFill'] = 'black';\n        this['connection.arrowBorderColor'] = 'black';\n        this['connection.arrowBorderWidth'] = 1;\n    }\n}", "import StyleData from './styledata';\n\nexport default class GroupStyleData extends StyleData\n{\n    constructor()\n    {\n        super();\n\n        this['group.margin'] = 20;\n        this['group.borderAlwaysAppearance'] = false;\n    }\n}", "import StyleData from './styledata';\n\nexport default class NodeStyleData extends StyleData\n{\n    constructor()\n    {\n        super();\n\n        this['node.width'] = 120;\n        this['node.height'] = 60;\n        this['node.fill'] = 'white';\n        this['node.x'] = 0;\n        this['node.y'] = 0;\n        this['node.connectorGap'] = 15;\n        this['node.connectorSize'] = 5;\n        this['node.resizerEnabled'] = true;\n        this['node.connectorEnabled'] = true;\n        this['node.commentTopLeft'] = '';\n        this['node.commentTopCenter'] = '';\n        this['node.commentTopRight'] = '';\n        this['node.commentBottomLeft'] = '';\n        this['node.commentBottomCenter'] = '';\n        this['node.commentBottomRight'] = '';\n        this['node.commentFontSize'] = 10;\n        this['node.commentForeColor'] = 'black';\n        this['node.commentFontFamily'] = 'Noto Sans KR';\n    }\n}", "const canvas = document.createElement( 'canvas' );\nconst context = canvas.getContext( '2d' );\n\nexport const TEXT_ROW_SPACE = 2;\nexport const TEXT_PADDING = 10;\n\n/**\n *\n * @param {String} text\n * @param {Object} style\n * @param {String} style.fontSize\n * @param {String} style.fontFamily\n * @returns\n */\nexport const getTextMetrics = ( text, style ) =>\n{\n    context.font = `${style.fontSize}px ${style.fontFamily}`;\n\n    const metrics = context.measureText( text );\n\n    return {\n        width: metrics.width,\n        height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent,\n    };\n};\n\n/**\n *\n * @param {Object} style\n * @param {Number} style.width\n * @param {String} style.text\n * @param {String} style.fontFamily\n * @param {Number} style.fontSize\n * @returns\n */\nexport const getWrappedText = ( style ) =>\n{\n    const { text } = style;\n    const lines = [];\n    const buffer = [];\n\n    for ( const char of text )\n    {\n        if ( char === '\\r' ) continue;\n        else if ( char === '\\n' )\n        {\n            lines.push( buffer.join( '' ) );\n            buffer.length = 0;\n            continue;\n        }\n\n        buffer.push( char );\n\n        const text = buffer.join( \"\" );\n        const size = getTextMetrics( text, style );\n\n        // width \uCD08\uACFC \uC2DC, buffer \uBE44\uC6B0\uAE30\n        if ( size.width >= style.width )\n        {\n            lines.push( text );\n            buffer.length = 0;\n        }\n    }\n\n    if ( buffer.length > 0 )\n        lines.push( buffer.join( \"\" ) );\n\n    return {\n        length: lines.length,\n        lineHeight: getTextMetrics( '|', style ).height,\n        lines,\n    };\n};\n\n/**\n *\n * @param {Object} data\n * @param {String} data.text\n * @param {String} data.fontFamily\n * @param {String} data.fontSize\n * @returns\n */\nexport const getFittedSizeOnText = ( data ) =>\n{\n    const textLines = data.text.replace( '\\r', '' ).split( '\\n' );\n    let maxWidth = 0;\n    let height = 0;\n\n    textLines.forEach( ( text ) =>\n    {\n        const size = getTextMetrics( text, data );\n\n        height += data.fontSize + TEXT_ROW_SPACE;\n        maxWidth = Math.max( maxWidth, size.width );\n    } );\n\n    return {\n        width: maxWidth,\n        height,\n    };\n};\n\n/**\n *\n * @param {Object} data\n * @param {String} data.text\n * @param {String} data.fontFamily\n * @param {String} data.fontSize\n * @param {Number} height\n * @returns\n */\nexport const getCroppedText = ( data, height ) =>\n{\n    const wrapperInfo = getWrappedText( data );\n    const wrapHeight = wrapperInfo.lineHeight * wrapperInfo.length;\n\n    if ( height < wrapHeight )\n    {\n    // cropped text if height is over\n        const diff = parseInt( Math.ceil( ( wrapHeight - height ) / wrapperInfo.lineHeight ) );\n\n        wrapperInfo.lines = wrapperInfo.lines.splice( 0, wrapperInfo.length - diff );\n        wrapperInfo.length = wrapperInfo.lines.length;\n        wrapperInfo.lines[wrapperInfo.length - 1] += '...';\n    }\n\n    return wrapperInfo;\n};", "/**\n * @typedef {Object} CacheData\n * @property {String} text\n * @property {Number} length\n * @property {Number} width\n * @property {Number} height\n * @property {Number} x\n * @property {Number} y\n */\n\nexport default class TextCache\n{\n    constructor()\n    {\n        this.text = '';\n        this.length = 0;\n        this.width = 0;\n        this.height = 0;\n        this.x = 0;\n        this.y = 0;\n    }\n\n    /**\n   * @param {CacheData} data\n   */\n    compareTo( data )\n    {\n        return (\n            this.text === data.text &&\n            this.length === data.length &&\n            this.width === data.width &&\n            this.height === data.height &&\n            this.x === data.x &&\n            this.y === data.y\n        );\n    }\n\n    /**\n   * @param {CacheData} data\n   */\n    update( data )\n    {\n        this.text = data.text;\n        this.length = data.length;\n        this.width = data.width;\n        this.height = data.height;\n        this.x = data.x;\n        this.y = data.y;\n    }\n\n    clear()\n    {\n        this.text = '';\n        this.length = 0;\n        this.width = 0;\n        this.height = 0;\n        this.x = 0;\n        this.y = 0;\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport StyleDataWrapper from '../data/wrapper';\nimport * as utils from '../util/functions';\nimport ContainerInterface from '../util/icontainer';\nimport * as textMetrics from '../util/text-metrics';\nimport TextCache from '../util/textcache';\n\nexport default class BaseRenderer\n{\n    /**\n   * @param {d3.Selection} container\n   * @param {{}} data\n   * @param {String} className\n   * @param {ContainerInterface} iContainer\n   */\n    constructor( data, className, iContainer )\n    {\n        this.data = data;\n        this.className = className;\n        this.iContainer = iContainer;\n        this.textCache = new TextCache();\n        this.dataWrapper = new StyleDataWrapper( data );\n        this.container = iContainer.getSvg().select( '.container' );\n\n        this.group = this.container\n            .append( 'g' )\n            .attr( 'class', `${data.type} ${className}` );\n\n        this.objects = {\n            /** @type {d3.Selection} */\n            foreignObj: null,\n            /** @type {d3.Selection} */\n            textarea: null,\n            text: this.group\n                .append( 'text' )\n                .attr( 'class', 'unselectable text--whitespace-pre' )\n                .attr( 'text-anchor', 'middle' ),\n        };\n    }\n\n    get width()\n    {\n        throw new Error( 'Not implemented!' );\n    }\n\n    get height()\n    {\n        throw new Error( 'Not implemented!' );\n    }\n\n    get subUiVisilbility()\n    {\n        return this.data.isSelected && this.iContainer.getReadOnly() === false\n            ? 'visible'\n            : 'hidden';\n    }\n\n    get isHovered()\n    {\n        return this.data.isHovered;\n    }\n\n    _getLabelRect()\n    {\n        return {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n        };\n    }\n\n    _repositionTextarea()\n    {\n        const rect = this._getLabelRect();\n\n        this.objects.foreignObj\n            .attr( 'x', rect.x )\n            .attr( 'y', rect.y )\n            .attr( 'width', rect.width )\n            .attr( 'height', rect.height );\n\n        this.objects.textarea\n            .style( 'width', `${rect.width - 22}px` )\n            .style( 'height', `${rect.height}px` )\n            .style( 'border', '1px solid var(--border-color)' )\n            .style( 'background-color', 'transparent' );\n    }\n\n    removeLabelEdit()\n    {\n        if ( this.objects.foreignObj )\n        {\n            this.objects.text.attr( 'visibility', 'visible' );\n            this.objects.textarea = null;\n            this.objects.foreignObj.remove();\n            this.objects.foreignObj = null;\n            this.iContainer.setEditMode( false );\n        }\n    }\n\n    cancelLabelEdit( oldText )\n    {\n        this.removeLabelEdit();\n        this.data.text = oldText;\n    }\n\n    editLabelMode()\n    {\n        if ( !this.data.editable || this.objects.foreignObj || this.data.render == \"bridge\" )\n        {\n            return;\n        }\n\n        const oldText = this.data.text;\n        this.group.classed( 'edit', true );\n\n        this.iContainer.setEditMode( true );\n        this.objects.text.attr( 'visibility', 'hidden' );\n\n        this.objects.foreignObj = this.group.append( 'foreignObject' );\n        this.objects.textarea = this.objects.foreignObj\n            .append( 'xhtml:div' )\n            .style( 'overflow', 'auto' )\n            .append( 'textarea' )\n            .style( 'resize', 'none' )\n            .style( 'text-align', 'center' )\n            .style( 'border', 'none' )\n            .style( 'font-family', this.data.fontFamily )\n            .style( 'font-size', `${this.data.fontSize}px` )\n            .on( 'keyup', ( ev ) =>\n            {\n                if ( ev.key === 'Escape' )\n                {\n                    this.cancelLabelEdit( oldText );\n                    this.iContainer.getSvg().node().parentElement.focus();\n                }\n                else\n                {\n                    this.data.text = this.objects.textarea.node().value;\n                    this._repositionTextarea();\n                }\n            } )\n            .on( 'focusout', () =>\n            {\n                if ( this.objects.textarea )\n                {\n                    this.data.text = this.objects.textarea.node().value;\n\n                    this.iContainer.editTextCallback( this.data, oldText, this.data.text );\n                    this.removeLabelEdit();\n                }\n                this.group.classed( 'edit', false );\n                this.render();\n            } );\n\n        this._repositionTextarea();\n        this.objects.textarea.node().value = this.data.text || '';\n        this.objects.textarea.node().focus();\n        this.iContainer.editTextModeCallback( this.data );\n    }\n\n    bringToFrontElement( element )\n    {\n        this.group.node().appendChild( element );\n    }\n\n    create()\n    {\n        this._create();\n        this.bringToFrontElement( this.objects.text.node() );\n        this.render();\n    }\n\n    _create()\n    {\n        throw new Error( 'Not implemented method!' );\n    }\n\n    render()\n    {\n        this._render();\n        this.group.attr( 'cursor', this.dataWrapper.get( 'cursor' ) );\n        this.group.attr( 'opacity', this.dataWrapper.get( 'opacity' ) );\n    }\n\n    _render()\n    {\n        throw new Error( 'Not implemented method!' );\n    }\n\n    // eslint-disable-next-line no-unused-vars\n    _getLabelXY( info )\n    {\n        return {\n            x: 0,\n            y: 0,\n        };\n    }\n\n    _createText( x = 0, y = 0 )\n    {\n        const style = {\n            width: this.width - textMetrics.TEXT_PADDING,\n            text: this.dataWrapper.get( 'text' ),\n            fontFamily: this.dataWrapper.get( 'fontFamily' ),\n            fontSize: this.dataWrapper.get( 'fontSize' ),\n            foreColor: this.dataWrapper.get( 'foreColor' ),\n            textDecoration: this.dataWrapper.get( 'textDecoration' ),\n        };\n        const visibleOverText = this.dataWrapper.get( 'visibleOverText' );\n        const wrappedInfo = visibleOverText\n            ? textMetrics.getWrappedText( style )\n            : textMetrics.getCroppedText( style,\n                this.height - textMetrics.TEXT_PADDING );\n\n        const labelXY = this._getLabelXY( wrappedInfo );\n        const data = {\n            text: style.text,\n            width: this.width,\n            height: this.height,\n            length: wrappedInfo.lines.length,\n            x: labelXY.x,\n            y: labelXY.y,\n            fontFamily: style.fontFamily,\n            fontSize: style.fontSize,\n            foreColor: style.foreColor,\n            textDecoration: style.textDecoration,\n        };\n\n        if ( this.textCache.compareTo( data ) )\n        {\n            utils.updateTextStyle( this.objects.text,\n                labelXY.x + x,\n                labelXY.y + y,\n                style );\n            return;\n        }\n\n        utils.removeText( this.objects.text, this.textCache );\n        utils.createTextLines( this.objects.text,\n            wrappedInfo,\n            labelXY.x + x,\n            labelXY.y + y,\n            style );\n\n        this.textCache.update( data );\n    }\n\n    /**\n   * Remove this g element in the container\n   */\n    destroy()\n    {\n        this.group.remove();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport RenderObject from '../obj/base';\n\nexport class ObserverArg\n{\n    /**\n   *\n   * @param {RenderObject} renderObj\n   * @param {String} key\n   * @param {*} newValue\n   * @param {*} oldValue\n   */\n    constructor( renderObj, key, newValue, oldValue )\n    {\n        this.renderObj = renderObj;\n        this.key = key;\n        this.newValue = newValue;\n        this.oldValue = oldValue;\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport BaseRenderer from '../render/base';\n// eslint-disable-next-line no-unused-vars\nimport ContainerInterface from '../util/icontainer';\nimport { ObserverArg } from '../util/observe';\n\nexport default class RenderObject\n{\n    /**\n   * @param {Object} data\n   * @param {BaseRenderer} renderer\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( data, renderer, icontainer )\n    {\n        this.data = data;\n        this.renderer = renderer;\n        this.icontainer = icontainer;\n        this.temp = {\n            clickedSeq: 0,\n        };\n    }\n\n    get onEditing()\n    {\n        return this.renderer.objects.foreignObj !== null;\n    }\n\n    get clickedSeq()\n    {\n        return this.temp.clickedSeq;\n    }\n\n    get tooltipText()\n    {\n        return this.getDataOrNull( 'tooltipText' );\n    }\n\n    get g()\n    {\n        return this.renderer.group;\n    }\n\n    get isSelected()\n    {\n        return this.data.isSelected;\n    }\n\n    /**\n   * @returns {'node' | 'connection' | 'group'}\n   */\n    get type()\n    {\n        return this.data.type;\n    }\n\n    get renderType()\n    {\n        return this.data.render;\n    }\n\n    get tooltipVisible()\n    {\n        return this.getDataOrNull( 'tooltip.visible' );\n    }\n\n    get canShowTooltip()\n    {\n        return (\n            this.getDataOrNull( 'tooltipText' ) && this.getDataOrNull( 'tooltipVisible' )\n        );\n    }\n\n    get id()\n    {\n        return this.data.id;\n    }\n\n    /**\n   * the start X of this object\n   */\n    get startX()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    /**\n   * the start Y of this object\n   */\n    get startY()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get isTempObj()\n    {\n        return this.data.temp || false;\n    }\n\n    get zIndex()\n    {\n        let zId = 0;\n        let prev = this.renderer.group.node().previousSibling;\n\n        while ( prev !== null )\n        {\n            prev = prev.previousSibling;\n            ++zId;\n        }\n\n        return zId;\n    }\n\n    get centerX()\n    {\n        return ( this.x + this.endX ) / 2;\n    }\n\n    get centerY()\n    {\n        return ( this.y + this.endY ) / 2;\n    }\n\n    get x()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get y()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get endX()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get endY()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get width()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get height()\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    get textDecoration()\n    {\n        return this.getDataOrNull( 'textDecoration' );\n    }\n\n    get isHovered()\n    {\n        return this.data.isHovered;\n    }\n\n    set id( value )\n    {\n        this.data.id = value;\n    }\n\n    set x( value )\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    set y( value )\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    set width( value )\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    set height( value )\n    {\n        throw new Error( 'Not Implemented!' );\n    }\n\n    set textDecoration( value )\n    {\n        this.data.textDecoration = value;\n    }\n\n    set isHovered( value )\n    {\n        this.data.isHovered = value;\n    }\n\n    set clickedSeq( value )\n    {\n        this.temp.clickedSeq = value;\n    }\n\n    /**\n   *\n   * @param {Number | Null} id it will be on front if id is null\n   */\n    set zIndex( id )\n    {\n        const container = this.renderer.container.node();\n        const g = this.renderer.group.node();\n\n        if ( id === null || id === undefined || id >= container.children.length )\n        {\n            container.appendChild( g );\n        }\n        else\n        {\n            container.insertBefore( g, container.children[id] );\n        }\n    }\n\n    observeProperties()\n    {\n        Object.keys( this.data ).forEach( ( key ) =>\n        {\n            let value = this.data[key];\n\n            Object.defineProperty( this.data, key, {\n                enumerable: true,\n                get: () => value,\n                set: ( newValue ) =>\n                {\n                    const oldValue = value;\n\n                    value = newValue;\n\n                    if ( this.data.isMonitoring )\n                    {\n                        this.icontainer.observerCallback( new ObserverArg( this, key, newValue, oldValue ) );\n\n                        this.render();\n                    }\n                },\n            } );\n        } );\n    }\n\n    changeRender( render, renderer )\n    {\n        this.data.render = render;\n        this.destroy();\n        this.renderer = renderer;\n        this.create();\n    }\n\n    create()\n    {\n        this.renderer.create();\n        this.observeProperties();\n    }\n\n    destroy()\n    {\n        this.renderer.destroy();\n    }\n\n    render()\n    {\n        this.renderer.render();\n        this.icontainer.renderCallback( this );\n    }\n\n    moveTo( x, y )\n    {\n        this.editProp( () =>\n        {\n            this.x += x;\n            this.y += y;\n        } );\n    }\n\n    select( userInteraction = false, typeClick = \"\" )\n    {\n        if ( this.data.isSelected === false )\n        {\n            this.data.isSelected = true;\n            this.icontainer.selectCallback( this, userInteraction, typeClick );\n        }\n    }\n\n    release( userInteraction = false )\n    {\n        if ( this.data.isSelected )\n        {\n            this.data.isSelected = false;\n            this.icontainer.releaseCallback( this, userInteraction );\n        }\n    }\n\n    editLabel()\n    {\n        this.renderer.editLabelMode();\n    }\n\n    getDataOrNull( key )\n    {\n        return this.renderer.dataWrapper.get( key ) || null;\n    }\n\n    /**\n   * @param {() => void} func\n   */\n    editProp( func )\n    {\n        try\n        {\n            this.data.isMonitoring = false;\n            func();\n        }\n        finally\n        {\n            this.data.isMonitoring = true;\n        }\n    }\n}", "/* eslint-disable no-unused-vars */\nimport RenderObject from '../obj/base';\nimport BaseRenderer from '../render/base';\nimport { ObserverArg } from './observe';\n\nimport { Logger } from '@utils';\n\nexport default class ContainerInterface\n{\n    /**\n   *\n   * @param {Object} param\n   * @param {(arg: ObserverArg) => void} param.observerCallback\n   * @param {(key: String | Number) => RenderObject | null} param.getObjectOrNull\n   * @param {(flag: Boolean) => void} param.setEditMode\n   * @param {(obj: String | Number | RenderObject) => void} param.removeObject\n   * @param {(obj: RenderObject) => void} param.renderCallback\n   * @param {(data: {}) => RenderObject} param.addRenderObj\n   * @param {(objData: {}, oldPoints: [], newPoints: []) => void} param.adjDragCallback\n   * @param {(objData: {}, oldText: String, newText: String) => void} param.editTextCallback\n   * @param {() => Boolean} param.getReadOnly\n   * @param {() => Logger} param.getLogger\n   * @param {(objData: {}) => void} param.editTextModeCallback\n   * @param {(dragEvent: String) => void} param.initDrag\n   * @param {(dragEvent: String) => void} param.terminateDrag\n   * @param {() => Boolean} param.getTooltipHidden\n   * @param {() => Boolean} param.getSelectNodeOnHover\n   * @param {() => d3.Selection} param.getSvg\n   * @param {() => void} param.releaseAllObjects\n   * @param {(obj: RenderObject, render: String) => void} param.changeObjRender\n   * @param {(obj: RenderObject, userInteraction: Boolean, typeClick: String) => void} param.selectCallback\n   * @param {(obj: RenderObject, userInteraction: Boolean) => void} param.releaseCallback\n   * @param {() => boolean} param.isAppending\n   * @param {() => string} param.getUUID\n   */\n    constructor( {\n        observerCallback,\n        getObjectOrNull,\n        setEditMode,\n        removeObject,\n        renderCallback,\n        addRenderObj,\n        adjDragCallback,\n        editTextCallback,\n        selectCallback,\n        releaseCallback,\n        getReadOnly,\n        getLogger,\n        editTextModeCallback,\n        initDrag,\n        terminateDrag,\n        getTooltipHidden,\n        getSelectNodeOnHover,\n        getSvg,\n        releaseAllObjects,\n        changeObjRender,\n        isAppending,\n        getUUID,\n    } )\n    {\n        this.observerCallback = observerCallback;\n        this.getObjectOrNull = getObjectOrNull;\n        this.setEditMode = setEditMode;\n        this.removeObject = removeObject;\n        this.renderCallback = renderCallback;\n        this.addRenderObj = addRenderObj;\n        this.adjDragCallback = adjDragCallback;\n        this.editTextCallback = editTextCallback;\n        this.selectCallback = selectCallback;\n        this.releaseCallback = releaseCallback;\n        this.getReadOnly = getReadOnly;\n        this.getLogger = getLogger;\n        this.editTextModeCallback = editTextModeCallback;\n        this.initDrag = initDrag;\n        this.terminateDrag = terminateDrag;\n        this.getTooltipHidden = getTooltipHidden;\n        this.getSelectNodeOnHover = getSelectNodeOnHover;\n        this.getSvg = getSvg;\n        this.releaseAllObjects = releaseAllObjects;\n        this.changeObjRender = changeObjRender;\n        this.isAppending = isAppending;\n        this.getUUID = getUUID;\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport ContainerInterface from '../../util/icontainer';\n\nexport default class BaseCommand\n{\n    /**\n   *\n   * @param {String} command\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( command, icontainer )\n    {\n        this.command = command;\n        this.icontainer = icontainer;\n    }\n\n    undo()\n    {\n        return this;\n    }\n\n    redo()\n    {\n        return this;\n    }\n}", "import BaseCommand from './base';\n\nexport default class AddCommand extends BaseCommand\n{\n    /**\n   *\n   * @param {{}[]} objDataList\n   */\n    constructor( objDataList, icontainer )\n    {\n        super( 'add', icontainer );\n\n        this.objDataList = objDataList;\n    }\n\n    undo()\n    {\n    // delete obj\n        this.objDataList.forEach( ( data ) => this.icontainer.removeObject( data.id ) );\n        return super.undo();\n    }\n\n    redo()\n    {\n    // re-create obj\n        this.objDataList.forEach( ( data ) => this.icontainer.addRenderObj( data ) );\n        return super.redo();\n    }\n}", "import AddCommand from './add';\n\nexport default class DeleteCommand extends AddCommand\n{\n    constructor( objDataList, icontainer )\n    {\n        super( objDataList, icontainer );\n\n        this.command = 'delete';\n    }\n\n    undo()\n    {\n    // add obj\n        return super.redo();\n    }\n\n    redo()\n    {\n    // re-delete obj\n        return super.undo();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport * as util from '../../util/functions';\nimport ContainerInterface from '../../util/icontainer';\nimport BaseCommand from './base';\n\nconst SIZE_PROP_LIST = ['node.width', 'node.height'];\nexport class ChangedInfo\n{\n    /**\n   *\n   * @param {{}} objData\n   * @param {{key: String, newValue, oldValue}[]} propList\n   */\n    constructor( objData, propList )\n    {\n        this.objData = objData;\n        this.propList = propList || [];\n    }\n\n    addMoveOldValues()\n    {\n        for ( const prop of util.getMovePropIterator( this.objData ) )\n        {\n            this.propList.push( {\n                key: prop.key,\n                oldValue: prop.value,\n            } );\n        }\n    }\n\n    addSizeOldValues()\n    {\n        for ( const key of SIZE_PROP_LIST )\n        {\n            this.propList.push( {\n                key: key,\n                oldValue: this.objData[key],\n                newValue: this.objData[key],\n            } );\n        }\n    }\n\n    updateSizeNewValues()\n    {\n        for ( const key of SIZE_PROP_LIST )\n        {\n            const find = this.propList.filter( ( x ) => x.key === key )[0];\n\n            find.newValue = this.objData[key];\n        }\n    }\n\n    updateMoveNewValues()\n    {\n        for ( const prop of util.getMovePropIterator( this.objData ) )\n        {\n            const find = this.propList.filter( ( x ) => x.key === prop.key )[0];\n\n            find.newValue = prop.value;\n        }\n    }\n}\n\nexport default class EditCommand extends BaseCommand\n{\n    /**\n   * @param {ChangedInfo[]} changeInfoList\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( changeInfoList, icontainer )\n    {\n        super( 'edit', icontainer );\n\n        this.changeInfoList = changeInfoList;\n    }\n\n    _setValue( prop )\n    {\n        this.changeInfoList.forEach( ( info ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( info.objData.id );\n\n            if ( obj !== null )\n            {\n                obj.editProp( () =>\n                {\n                    for ( const propData of info.propList )\n                    {\n                        obj.data[propData.key] = propData[prop];\n                    }\n                } );\n            }\n        } );\n    }\n\n    undo()\n    {\n        this._setValue( 'oldValue' );\n\n        return super.undo();\n    }\n\n    redo()\n    {\n        this._setValue( 'newValue' );\n\n        return super.redo();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport RenderObject from '../../obj/base';\nimport BaseCommand from './base';\n\nexport default class RenderCommand extends BaseCommand\n{\n    /**\n   * @param {RenderObject} renderObj\n   * @param {String} oldRender\n   * @param {String} newRender\n   * @param {*} icontainer\n   */\n    constructor( renderObj, oldRender, newRender, icontainer )\n    {\n        super( 'render', icontainer );\n\n        this.renderObj = renderObj;\n        this.oldRender = oldRender;\n        this.newRender = newRender;\n    }\n\n    undo()\n    {\n        this.icontainer.changeObjRender( this.renderObj, this.oldRender );\n        return super.undo();\n    }\n\n    redo()\n    {\n        this.icontainer.changeObjRender( this.renderObj, this.newRender );\n        return super.redo();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport * as _ from 'lodash';\n\nimport RenderObject from '../../obj/base';\nimport BaseCommand from './base';\n\nexport default class ZIndexCommand extends BaseCommand\n{\n    /**\n   *\n   * @param {{objId: String | Number, oldValue: Number | null, newValue: Number | null}[]} dataList\n   */\n    constructor( dataList, icontainer )\n    {\n        super( 'front', icontainer );\n\n        this.dataList = dataList;\n    }\n\n    /**\n   *\n   * @param {(obj: RenderObject, oldVlaue: Number | null, newValue: Number | null) => void} func\n   */\n    _setZId( prop, reverse )\n    {\n        const func = ( data ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( data.objId );\n\n            if ( obj === null )\n            {\n                this.icontainer\n                    .getLogger()\n                    .error( 'ZIndexCommand._setZId()',\n                        `Could not find obj id '${data.objId}'` );\n                return;\n            }\n\n            obj.zIndex = data[prop];\n        };\n\n        if ( reverse )\n        {\n            _.forEach( this.dataList, func );\n        }\n        else\n        {\n            _.forEachRight( this.dataList, func );\n        }\n    }\n\n    undo()\n    {\n        this._setZId( 'oldValue', false );\n\n        return super.undo();\n    }\n\n    redo()\n    {\n        this._setZId( 'newValue', true );\n\n        return super.redo();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport BaseCommand from './command/base';\n\nexport default class ActionController\n{\n    constructor( limit )\n    {\n        this.actionLimit = limit;\n        /** @type {BaseCommand[][]} */\n        this.undoStackList = [];\n        /** @type {BaseCommand[][]} */\n        this.redoStackList = [];\n    }\n\n    /**\n   *\n   * @param {...BaseCommand} commands\n   */\n    addAction( ...commands )\n    {\n        if ( this.undoStackList.length === this.actionLimit )\n        {\n            this.undoStackList.splice( 0, 1 );\n        }\n\n        this.undoStackList.push( commands );\n        this.redoStackList.splice( 0, this.redoStackList.length );\n    }\n\n    clear()\n    {\n        this.undoStackList.splice( 0, this.undoStackList.length );\n        this.redoStackList.splice( 0, this.redoStackList.length );\n    }\n\n    popLastUndoAction()\n    {\n        return this.undoStackList.pop();\n    }\n\n    undo()\n    {\n        if ( this.undoStackList.length === 0 )\n        {\n            return null;\n        }\n\n        const topActionOnUndo = this.undoStackList.pop();\n\n        topActionOnUndo.forEach( ( undo ) => undo.undo() );\n        this.redoStackList.push( topActionOnUndo.reverse() );\n\n        return topActionOnUndo;\n    }\n\n    redo()\n    {\n        if ( this.redoStackList.length === 0 )\n        {\n            return null;\n        }\n\n        const topActionOnRedo = this.redoStackList.pop();\n\n        topActionOnRedo.forEach( ( undo ) => undo.redo() );\n        this.undoStackList.push( topActionOnRedo.reverse() );\n\n        return topActionOnRedo;\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport * as _ from 'lodash';\n\n// eslint-disable-next-line no-unused-vars\nimport ContainerInterface from '../util/icontainer';\n// eslint-disable-next-line no-unused-vars\nimport ObjectManager from '../util/objmng';\nimport EditCommand, { ChangedInfo } from './command/edit';\n// eslint-disable-next-line no-unused-vars\nimport ActionController from './controller';\n\nexport default class MoveHandler\n{\n    /**\n   * @param {ActionController} actionController\n   * @param {ObjectManager} objectManager\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( actionController, objectManager, icontainer )\n    {\n        this.actionController = actionController;\n        this.objectManager = objectManager;\n        this.icontainer = icontainer;\n\n        /**\n     * @type {ChangedInfo[]}\n     */\n        this.movedInfo = [];\n    }\n\n    moveStartHandler()\n    {\n        this.icontainer.getLogger().debug( 'MoveHandler.moveStartHandler()', 'start' );\n        this.movedInfo = [];\n\n        for ( const obj of this.objectManager.getSelectedObjIterator() )\n        {\n            const info = new ChangedInfo( obj.data );\n\n            info.addMoveOldValues();\n            this.movedInfo.push( info );\n        }\n    }\n\n    moveEndHandler()\n    {\n        this.icontainer.getLogger().debug( 'MoveHandler.moveEndHandler()', 'end' );\n\n        this.movedInfo.forEach( ( x ) => x.updateMoveNewValues() );\n\n        const tmp = this.movedInfo.filter( ( info ) =>\n            info.propList.some( ( x ) => _.isEqual( x.oldValue, x.newValue ) === false ) );\n\n        if ( tmp.length > 0 )\n        {\n            this.actionController.addAction( new EditCommand( this.movedInfo, this.icontainer ) );\n        }\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport * as _ from 'lodash';\n\nimport RenderObject from '../obj/base';\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\nimport Connection from '../obj/connection';\n// eslint-disable-next-line no-unused-vars\nimport Group from '../obj/group';\nimport Node from '../obj/node';\n\nimport { Logger } from '@utils';\n\nconst objMngger = new Logger( 'Flowchart::ObjectManager' );\n\nexport default class ObjectManager\n{\n    constructor()\n    {\n    /**\n     * @type {Map<String | Number, RenderObject>[]}\n     */\n        this.mapList = _.range( 0, 3 ).map( () => new Map() );\n\n        this.objMap = {\n            node: this.mapList[0],\n            connection: this.mapList[1],\n            group: this.mapList[2],\n        };\n    }\n\n    /**\n   * @param {String} type\n   * @returns {Map<String | Number, RenderObject>}\n   */\n    getMap( type )\n    {\n        const map = this.objMap[type];\n\n        if ( map === undefined )\n        {\n            objMngLogger.error( 'ObjectManager.getMap()', `Unknown '${type}' type` );\n            throw new Error( `Unknown '${type}' type` );\n        }\n\n        return map;\n    }\n\n    getObjCount()\n    {\n        return this.mapList.reduce( ( a, b ) => a + b.size, 0 );\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    add( obj )\n    {\n        const map = this.getMap( obj.type );\n\n        if ( map.has( obj.id ) )\n        {\n            throw new Error( `Already has objId '${obj.id}'` );\n        }\n\n        map.set( obj.id, obj );\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    remove( obj )\n    {\n        const map = this.getMap( obj.type );\n\n        if ( map.has( obj.id ) )\n        {\n            map.delete( obj.id );\n        }\n    }\n\n    *getMapIterator()\n    {\n        yield* this.mapList;\n    }\n\n    /**\n   * @returns {IterableIterator<Node>}\n   */\n    getNodeIterator()\n    {\n        return this.mapList[0].values();\n    }\n\n    /**\n   * @returns {IterableIterator<Connection>}\n   */\n    getConnectionIterator()\n    {\n        return this.mapList[1].values();\n    }\n\n    /**\n   * @returns {IterableIterator<Group>}\n   */\n    getGroupIterator()\n    {\n        return this.mapList[2].values();\n    }\n\n    /**\n   * @param {String | Number} objId\n   */\n    findOrNull( objId )\n    {\n        for ( const map of this.getMapIterator() )\n        {\n            if ( map.has( objId ) )\n            {\n                return map.get( objId );\n            }\n        }\n\n        return null;\n    }\n\n    clear()\n    {\n        this.mapList.forEach( ( map ) => map.clear() );\n    }\n\n    *getAllObjIterator()\n    {\n        for ( const map of this.mapList )\n        {\n            yield* map.values();\n        }\n    }\n\n    *getSelectedObjIterator()\n    {\n        for ( const obj of this.getAllObjIterator() )\n        {\n            if ( obj.isSelected )\n            {\n                yield obj;\n            }\n        }\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    getParentGroupOrNull( obj )\n    {\n        for ( const group of this.getGroupIterator() )\n        {\n            if ( group.hasObjId( obj.id ) )\n            {\n                return group;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n   * @param {String | Number} nodeId\n   */\n    *getConnectedConnections( nodeId )\n    {\n        for ( const con of this.getConnectionIterator() )\n        {\n            if (\n                !con.isTempObj &&\n        ( con.sourceObjId === nodeId || con.destinationObjId === nodeId )\n            )\n            {\n                yield con;\n            }\n        }\n    }\n\n    reassignId( obj, oldId, newId )\n    {\n        const map = this.getMap( obj.type );\n\n        map.delete( oldId );\n        map.set( newId, obj );\n    }\n}", "import RenderObject from './base';\n\nexport default class Connection extends RenderObject\n{\n    get points()\n    {\n        return this.data['connection.points'];\n    }\n\n    get endX()\n    {\n        return this.points.reduce( ( a, b ) => Math.max( a, b.x ), 0 );\n    }\n\n    get endY()\n    {\n        return this.points.reduce( ( a, b ) => Math.max( a, b.y ), 0 );\n    }\n\n    get sourceObjId()\n    {\n        return this.data['connection.sourceObjId'] || null;\n    }\n\n    get sourceObj()\n    {\n        return this.icontainer.getObjectOrNull( this.data['connection.sourceObjId'] );\n    }\n\n    get destinationObj()\n    {\n        return this.icontainer.getObjectOrNull( this.data['connection.destinationObjId'] );\n    }\n\n    get destinationObjId()\n    {\n        return this.data['connection.destinationObjId'] || null;\n    }\n\n    get sourcePos()\n    {\n        return this.data['connection.sourcePos'] || null;\n    }\n\n    get destinationPos()\n    {\n        return this.data['connection.destinationPos'] || null;\n    }\n\n    get firstPoint()\n    {\n        return this.points[0];\n    }\n\n    get endPoint()\n    {\n        return this.points[this.points.length - 1];\n    }\n\n    get startX()\n    {\n        return this.points.reduce( ( a, b ) => Math.min( a, b.x ), Number.MAX_VALUE );\n    }\n\n    get startY()\n    {\n        return this.points.reduce( ( a, b ) => Math.min( a, b.y ), Number.MAX_VALUE );\n    }\n\n    get width()\n    {\n        if ( !this.points )\n        {\n            return NaN;\n        }\n\n        const reduce = this.points.reduce( ( a, b ) =>\n        {\n            return {\n                min: Math.min( a.min, b.x ),\n                max: Math.max( a.max, b.x ),\n            };\n        },\n        {\n            min: Number.MAX_VALUE,\n            max: Number.MIN_VALUE,\n        } );\n\n        return reduce.max - reduce.min;\n    }\n\n    get height()\n    {\n        if ( !this.points )\n        {\n            return NaN;\n        }\n\n        const reduce = this.points.reduce( ( a, b ) =>\n        {\n            return {\n                min: Math.min( a.min, b.y ),\n                max: Math.max( a.max, b.y ),\n            };\n        },\n        {\n            min: Number.MAX_VALUE,\n            max: Number.MIN_VALUE,\n        } );\n\n        return reduce.max - reduce.min;\n    }\n\n    get x()\n    {\n        const point = this.firstPoint;\n\n        return point !== null ? point.x : null;\n    }\n\n    get y()\n    {\n        const point = this.firstPoint;\n\n        return point !== null ? point.y : null;\n    }\n\n    set sourceObjId( value )\n    {\n        this.data['connection.sourceObjId'] = value || null;\n    }\n\n    set destinationObjId( value )\n    {\n        this.data['connection.destinationObjId'] = value || null;\n    }\n\n    set sourcePos( value )\n    {\n        this.data['connection.sourcePos'] = value || null;\n    }\n\n    set destinationPos( value )\n    {\n        this.data['connection.destinationPos'] = value || null;\n    }\n\n    set x( value )\n    {\n        if ( this.sourceObjId !== null )\n        {\n            return;\n        }\n\n        const point = this.firstPoint;\n\n        if ( point !== null )\n        {\n            point.x = value;\n            this.render();\n        }\n    }\n\n    set y( value )\n    {\n        if ( this.sourceObjId !== null )\n        {\n            return;\n        }\n\n        const point = this.firstPoint;\n\n        if ( point !== null )\n        {\n            point.y = value;\n            this.render();\n        }\n    }\n\n    setLastPointXY( x, y )\n    {\n        this.data['connection.points'][this.renderer.lastPointId].x = x;\n        this.data['connection.points'][this.renderer.lastPointId].y = y;\n        this.render();\n    }\n\n    moveTo( x, y )\n    {\n        if ( this.sourceObj && this.destinationObj )\n        {\n            return;\n        }\n\n        const startId = this.sourceObj === null ? 0 : 1;\n        const endId = this.points.length - ( this.destinationObj === null ? 0 : 1 );\n\n        this.editProp( () =>\n        {\n            this.points.slice( startId, endId ).forEach( ( pt ) =>\n            {\n                pt.x += x;\n                pt.y += y;\n            } );\n        } );\n    }\n\n    comparePoints( points )\n    {\n        if ( !this.points || !points || this.points.length !== points.length )\n        {\n            return false;\n        }\n\n        for ( let i = 0; i < points.length; i++ )\n        {\n            if (\n                this.points[i].x !== points[i].x &&\n        this.points[i].y !== points[i].y\n            )\n            {\n                return false;\n            }\n        }\n\n        return true;\n    }\n}", "import RenderObject from './base';\nexport default class Group extends RenderObject\n{\n    constructor( data, renderer, icontainer )\n    {\n        super( data, renderer, icontainer );\n\n        this.objectSet = new Set( this.data.objectList || [] );\n        this.rect = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0,\n        };\n    }\n\n    get startX()\n    {\n        return this.x;\n    }\n\n    get startY()\n    {\n        return this.y;\n    }\n\n    get x()\n    {\n        return this.rect.x;\n    }\n\n    get y()\n    {\n        return this.rect.y;\n    }\n\n    get width()\n    {\n        return this.rect.width;\n    }\n\n    get height()\n    {\n        return this.rect.height;\n    }\n\n    get endX()\n    {\n        return this.x + this.width;\n    }\n\n    get endY()\n    {\n        return this.y + this.height;\n    }\n\n    select( userInteraction, typeClick = \"\" )\n    {\n    // select all group's objects\n        this.objectSet.forEach( ( id ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( id );\n\n            if ( obj != null )\n            {\n                if ( typeClick == \"\" || ( typeClick != \"\" && typeClick == obj.renderType ) )\n                    obj.data.isSelected = true;\n            }\n        } );\n\n        super.select( userInteraction );\n    }\n\n    release( userInteraction = false )\n    {\n        this.objectSet.forEach( ( id ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( id );\n\n            obj != null && obj.release( userInteraction );\n        } );\n\n        super.release( userInteraction );\n    }\n\n    resize()\n    {\n        const margin = this.data['group.margin'];\n        let minX = Number.MAX_VALUE;\n        let minY = Number.MAX_VALUE;\n        let maxX = Number.MIN_VALUE;\n        let maxY = Number.MIN_VALUE;\n\n        this.objectSet.forEach( ( v ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( v );\n\n            if ( obj !== null )\n            {\n                minX = Math.min( obj.startX - margin, minX );\n                maxX = Math.max( obj.endX + margin, maxX );\n                minY = Math.min( obj.startY - margin, minY );\n                maxY = Math.max( obj.endY + margin, maxY );\n            }\n        } );\n\n        this.data['group.rect'] = this.rect;\n        this.rect.x = minX;\n        this.rect.y = minY;\n        this.rect.width = maxX - minX;\n        this.rect.height = maxY - minY;\n    }\n\n    moveTo()\n    {\n        this.render();\n    }\n\n    hasObjId( objId )\n    {\n        return this.objectSet.has( objId );\n    }\n\n    destroy()\n    {\n        this.objectSet.clear();\n        super.destroy();\n    }\n\n    destroyAll()\n    {\n        this.objectSet.forEach( ( id ) =>\n        {\n            const obj = this.icontainer.getObjectOrNull( id );\n\n            obj != null && this.icontainer.removeObject( obj );\n        } );\n\n        this.destroy();\n    }\n\n    // clear all items in this\n    clear()\n    {\n        this.objectSet.clear();\n    }\n\n    addObject( id )\n    {\n        if ( this.objectSet.has( id ) === false )\n        {\n            this.objectSet.add( id );\n            this.resize();\n        }\n        else\n        {\n            throw new Error( `Already has added id! '${id}'` );\n        }\n    }\n\n    removeObject( id )\n    {\n        if ( this.objectSet.has( id ) )\n        {\n            this.objectSet.delete( id );\n            this.resize();\n        }\n        else\n        {\n            throw new Error( `There is no id you received in this group!'${id}'` );\n        }\n    }\n}", "import { TEXT_ROW_SPACE } from '../util/text-metrics';\nimport BaseRenderer from './base';\n\nconst RESIZER_SIZE = 6;\nconst COMMENT_MARGIN = 5;\nconst COMMENTS_POS = [\n    ['TopLeft', 'start'],\n    ['TopCenter', 'middle'],\n    ['TopRight', 'end'],\n    ['BottomLeft', 'start'],\n    ['BottomCenter', 'middle'],\n    ['BottomRight', 'end'],\n];\n\nexport default class NodeRenderer extends BaseRenderer\n{\n    constructor( data, className, icontainer )\n    {\n        super( data, className, icontainer );\n\n        this.svg = this.iContainer.getSvg();\n        this.connectors = [];\n        this.resizers = [];\n        this.comments = [];\n    }\n\n    get width()\n    {\n        return this.data['node.width'];\n    }\n\n    get height()\n    {\n        return this.data['node.height'];\n    }\n\n    get connectorVisibility()\n    {\n        return this.data['node.connectorEnabled'] && this.iContainer.isAppending();\n    }\n\n    get resizerVisibility()\n    {\n        return this.data['node.resizerEnabled'] === true && this.data.isSelected;\n    }\n\n    _createComments()\n    {\n    // top-left, top-center, top-right, bottom-left, bottom-center, bottom-right\n        COMMENTS_POS.forEach( ( pos ) =>\n        {\n            const [key, textAlign] = pos;\n            this.comments.push( this.group\n                .append( 'text' )\n                .attr( 'class', `${key} unselectable` )\n                .attr( 'text-anchor', textAlign ) );\n        } );\n    }\n\n    _createResizer()\n    {\n        const g = this.group;\n\n        for ( const pos of this.getResizerPosition() )\n        {\n            const resizer = g\n                .append( 'rect' )\n                .attr( 'x', pos[0] - RESIZER_SIZE / 2 )\n                .attr( 'y', pos[1] - RESIZER_SIZE / 2 )\n                .attr( 'width', RESIZER_SIZE )\n                .attr( 'height', RESIZER_SIZE )\n                .attr( 'fill', 'rgb(173, 216, 230)' )\n                .attr( 'stroke', 'rgb(30, 144, 255)' )\n                .attr( 'cursor', pos[2] )\n                .attr( 'class', 'resizer' )\n                .attr( 'visibility', 'hidden' );\n\n            this.resizers.push( resizer );\n        }\n    }\n\n    _createConnector()\n    {\n        const g = this.group;\n\n        for ( const pos of this.getConnectorPosition() )\n        {\n            const connector = g\n                .append( 'circle' )\n                .attr( 'cx', pos.x )\n                .attr( 'cy', pos.y )\n                .attr( 'r', this.dataWrapper.get( 'node.connectorSize' ) )\n                .attr( 'class', `connector ${pos.dir}` );\n\n            this.connectors.push( connector );\n        }\n    }\n\n    _renderComments()\n    {\n        const wrapper = this.dataWrapper;\n        const fontFamily = wrapper.get( 'node.commentFontFamily' );\n        const fontSize = wrapper.get( 'node.commentFontSize' );\n        const halfWidth = this.width / 2;\n        const halfHeight = this.height / 2;\n        const topY = -( halfHeight + COMMENT_MARGIN );\n        const bottomY = halfHeight + COMMENT_MARGIN + fontSize;\n        const xyMap = {\n            TopLeft: {\n                x: -halfWidth,\n                y: topY,\n            },\n            TopCenter: {\n                x: 0,\n                y: topY,\n            },\n            TopRight: {\n                x: halfWidth,\n                y: topY,\n            },\n            BottomLeft: {\n                x: -halfWidth,\n                y: bottomY,\n            },\n            BottomCenter: {\n                x: 0,\n                y: bottomY,\n            },\n            BottomRight: {\n                x: halfWidth,\n                y: bottomY,\n            },\n        };\n\n        COMMENTS_POS.forEach( ( pos, id ) =>\n        {\n            const xy = xyMap[pos[0]];\n\n            this.comments[id]\n                .attr( 'x', xy.x )\n                .attr( 'y', xy.y )\n                .attr( 'font-family', fontFamily )\n                .attr( 'font-size', fontSize )\n                .text( () => this.dataWrapper.get( `node.comment${pos[0]}` ) );\n        } );\n    }\n\n    _renderConnector()\n    {\n        let index = 0;\n\n        for ( const pos of this.getConnectorPosition() )\n        {\n            if ( this.isHovered &&\n                this.connectorVisibility &&\n                this.iContainer.getReadOnly() === false )\n            {\n                this.bringToFrontElement( this.connectors[index].node() );\n                this.connectors[index++]\n                    .attr( 'cx', pos.x )\n                    .attr( 'cy', pos.y )\n                    .attr( 'visibility', 'visible' )\n                    .attr( 'r', this.dataWrapper.get( 'node.connectorSize' ) )\n                    .classed( 'active', true );\n            }\n            else\n            {\n                this.connectors[index++]\n                    .classed( 'active', false )\n                    .attr( 'visibility',\n                        this.connectorVisibility && this.iContainer.getReadOnly() === false\n                            ? 'visible'\n                            : 'hidden' );\n            }\n        }\n    }\n\n    _renderResizer()\n    {\n        if ( this.resizers.length === 0 )\n            return;\n\n        let index = 0;\n\n        for ( const pos of this.getResizerPosition() )\n        {\n            if ( this.isHovered &&\n                this.resizerVisibility &&\n                this.iContainer.getReadOnly() === false )\n            {\n                this.bringToFrontElement( this.resizers[index].node() );\n                this.resizers[index++]\n                    .attr( 'x', pos[0] - RESIZER_SIZE / 2 )\n                    .attr( 'y', pos[1] - RESIZER_SIZE / 2 )\n                    .attr( 'class', 'resizer' )\n                    .attr( 'visibility', 'visible' )\n                    .classed( 'active', true );\n            }\n            else\n            {\n                this.resizers[index++]\n                    .classed( 'active', false )\n                    .attr( 'visibility',\n                        this.resizerVisibility && this.iContainer.getReadOnly() === false\n                            ? 'visible'\n                            : 'hidden' );\n            }\n        }\n    }\n\n    *getConnectorPosition()\n    {\n        const gap = this.dataWrapper.get( 'node.connectorGap' );\n        const halfWidth = this.width / 2;\n        const halfHeight = this.height / 2;\n\n        // Left\n        yield { x: -( gap + halfWidth ), y: 0, dir: 'left' };\n        // Right\n        yield { x: halfWidth + gap, y: 0, dir: 'right' };\n        // Top\n        yield { x: 0, y: -( gap + halfHeight ), dir: 'top' };\n        // Bottom\n        yield { x: 0, y: gap + halfHeight, dir: 'bottom' };\n    }\n\n    *getResizerPosition()\n    {\n        const halfWidth = this.width / 2;\n        const halfHeight = this.height / 2;\n\n        // Top Left\n        yield [-halfWidth, -halfHeight, 'nw-resize'];\n        // Top\n        yield [0, -halfHeight, 'n-resize'];\n        // Top Right\n        yield [halfWidth, -halfHeight, 'ne-resize'];\n        // Left\n        yield [-halfWidth, 0, 'w-resize'];\n        // Right\n        yield [halfWidth, 0, 'e-resize'];\n        // Bottom Left\n        yield [-halfWidth, halfHeight, 'sw-resize'];\n        // Bottom\n        yield [0, halfHeight, 's-resize'];\n        // Bottom Right\n        yield [halfWidth, halfHeight, 'se-resize'];\n    }\n\n    _create()\n    {\n        this._createComments();\n        this._createResizer();\n        this._createConnector();\n    }\n\n    _getLabelXY( info )\n    {\n        const fontSize = this.dataWrapper.get( 'fontSize' );\n        return {\n            x: 0,\n            y: fontSize - ( ( fontSize + TEXT_ROW_SPACE ) * info.length ) / 2,\n        };\n    }\n\n    _getLabelRect()\n    {\n        const width = this.width;\n        const height = this.height;\n\n        return {\n            x: -( width / 2 ),\n            y: -( height / 2 ),\n            width: width + 20,\n            height: height,\n        };\n    }\n\n    render()\n    {\n        const x = this.data['node.x'] + this.data['node.width'] / 2;\n        const y = this.data['node.y'] + this.data['node.height'] / 2;\n\n        this.group.attr( 'transform', `translate(${x}, ${y})` );\n\n        super.render();\n        this._renderComments();\n        this._renderResizer();\n        this._renderConnector();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport NodeRenderer from '../render/node';\nimport * as textMetrics from '../util/text-metrics';\nimport RenderObject from './base';\n\nconst MINIMUM_WIDTH = 30;\nconst MINIMUM_HEIGHT = 30;\nconst COMMENT_POS = new Set( [\n    'TopLeft',\n    'TopCenter',\n    'TopRight',\n    'BottomLeft',\n    'BottomCenter',\n    'BottomRight',\n] );\nexport default class Node extends RenderObject\n{\n    /**\n   * @param {NodeRenderer} renderer\n   */\n    constructor( data, renderer, icontainer )\n    {\n        super( data, renderer, icontainer );\n\n        this.renderer = renderer;\n    }\n\n    get startX()\n    {\n        return this.x;\n    }\n\n    get startY()\n    {\n        return this.y;\n    }\n\n    get resizerEnabled()\n    {\n        return this.data['node.resizerEnabled'] === true;\n    }\n\n    get isConnectorEnabled()\n    {\n        return this.data['node.connectorEnabled'] === true;\n    }\n\n    get centerX()\n    {\n        return this.x + this.width / 2;\n    }\n\n    get centerY()\n    {\n        return this.y + this.height / 2;\n    }\n\n    get x()\n    {\n        return this.data['node.x'];\n    }\n\n    get y()\n    {\n        return this.data['node.y'];\n    }\n\n    get width()\n    {\n        return this.data['node.width'];\n    }\n\n    get height()\n    {\n        return this.data['node.height'];\n    }\n\n    get endX()\n    {\n        return this.x + this.width;\n    }\n\n    get endY()\n    {\n        return this.y + this.height;\n    }\n\n    set x( value )\n    {\n        this.data['node.x'] = value;\n    }\n\n    set y( value )\n    {\n        this.data['node.y'] = value;\n    }\n\n    set width( value )\n    {\n        this.data['node.width'] = value;\n    }\n\n    set height( value )\n    {\n        this.data['node.height'] = value;\n    }\n\n    create()\n    {\n        super.create();\n    }\n\n    getPositionXY( pos )\n    {\n        switch ( pos )\n        {\n            case 'left':\n                return {\n                    x: this.x,\n                    y: this.y + this.height / 2,\n                };\n            case 'right':\n                return {\n                    x: this.x + this.width,\n                    y: this.y + this.height / 2,\n                };\n            case 'top':\n                return {\n                    x: this.x + this.width / 2,\n                    y: this.y,\n                };\n            case 'bottom':\n                return {\n                    x: this.x + this.width / 2,\n                    y: this.y + this.height,\n                };\n            default:\n                throw new Error( `Invalid argument '${pos}'` );\n        }\n    }\n\n    fitSizeOnText()\n    {\n        const size = textMetrics.getFittedSizeOnText( this.data );\n        const padding = textMetrics.TEXT_PADDING * 2;\n\n        this.width = size.width + padding;\n        this.height = size.height + padding;\n    }\n\n    resizeToNorth( dy )\n    {\n        const sourceY = -( this.height / 2 );\n        const diffY = parseInt( sourceY - dy );\n\n        if ( this.height + diffY >= MINIMUM_HEIGHT )\n        {\n            this.y -= diffY / 2;\n            this.height = this.height + diffY / 2;\n        }\n        else\n        {\n            this.y += this.height - MINIMUM_HEIGHT;\n            this.height = MINIMUM_HEIGHT;\n        }\n    }\n\n    resizeToWest( dx )\n    {\n        const sourceX = -( this.width / 2 );\n        const diffX = parseInt( sourceX - dx );\n\n        if ( this.width + diffX >= MINIMUM_WIDTH )\n        {\n            this.x -= diffX / 2;\n            this.width = this.width + diffX / 2;\n        }\n        else\n        {\n            this.x += this.width - MINIMUM_WIDTH;\n            this.width = MINIMUM_WIDTH;\n        }\n    }\n\n    addComment( text, position, event )\n    {\n        if ( !COMMENT_POS.has( position ) )\n        {\n            throw new Error( `Unknown position value '${position}' Please call with 'TopLeft' or 'TopCenter' or 'TopRight' or 'BottomLeft' or 'BottomCenter' or 'BottomRight'` );\n        }\n\n        let key = `node.comment${position}`;\n\n        if ( event )\n        {\n            key += `.${event}`;\n        }\n\n        this.data[key] = text;\n    }\n\n    resizeToEast( dx )\n    {\n        this.width = Math.max( MINIMUM_WIDTH, parseInt( dx + this.width / 2 ) );\n    }\n\n    resizeToSouth( dy )\n    {\n        this.height = Math.max( MINIMUM_HEIGHT, parseInt( dy + this.height / 2 ) );\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport * as d3 from 'd3';\nimport * as _ from 'lodash';\n\n// eslint-disable-next-line no-unused-vars\nimport Node from '../obj/node';\n// eslint-disable-next-line no-unused-vars\nimport ContainerInterface from '../util/icontainer';\n// eslint-disable-next-line no-unused-vars\nimport ObjectManager from '../util/objmng';\nimport EditCommand, { ChangedInfo } from './command/edit';\n// eslint-disable-next-line no-unused-vars\nimport ActionController from './controller';\n\nexport default class ResizeHandler\n{\n    /**\n   * @param {ActionController} actionController\n   * @param {ObjectManager} objectManager\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( actionController, objectManager, icontainer )\n    {\n        this.actionController = actionController;\n        this.objectManager = objectManager;\n        this.icontainer = icontainer;\n\n        /**\n     * @type {ChangedInfo[]}\n     */\n        this.resizeInfo = [];\n    }\n\n    resizeCallback( objId, cursor, diffWidth, diffHeight )\n    {\n        for ( const node of this.objectManager.getNodeIterator() )\n        {\n            if ( node.isSelected && node.id != objId && node.resizerEnabled )\n            {\n                const centerY = node.height / 2;\n                const centerX = node.width / 2;\n\n                switch ( cursor )\n                {\n                    case 'n-resize':\n                        node.resizeToNorth( -( centerY + diffHeight ) );\n                        break;\n                    case 'nw-resize':\n                        node.resizeToNorth( -( centerY + diffHeight ) );\n                        node.resizeToWest( -( centerX + diffWidth ) );\n                        break;\n                    case 'ne-resize':\n                        node.resizeToNorth( -( centerY + diffHeight ) );\n                        node.resizeToEast( centerX + diffWidth );\n                        break;\n                    case 'w-resize':\n                        node.resizeToWest( -( centerX + diffWidth ) );\n                        break;\n                    case 'e-resize':\n                        node.resizeToEast( centerX + diffWidth );\n                        break;\n                    case 's-resize':\n                        node.resizeToSouth( centerY + diffHeight );\n                        break;\n                    case 'sw-resize':\n                        node.resizeToSouth( centerY + diffHeight );\n                        node.resizeToWest( -( centerX + diffWidth ) );\n                        break;\n                    case 'se-resize':\n                        node.resizeToSouth( centerY + diffHeight );\n                        node.resizeToEast( centerX + diffWidth );\n                        break;\n                    default:\n                        throw new Error( `Unknown cursor type '${cursor}'` );\n                }\n            }\n        }\n\n        for ( const group of this.objectManager.getGroupIterator() )\n        {\n            group.isSelected && group.render();\n        }\n    }\n\n    resizeDragStart()\n    {\n        this.icontainer\n            .getLogger()\n            .debug( 'ResizeHandler.resizeDragStart()', 'start' );\n\n        this.resizeInfo = [];\n\n        for ( const node of this.objectManager.getNodeIterator() )\n        {\n            if ( node.isSelected )\n            {\n                const info = new ChangedInfo( node.data );\n\n                info.addSizeOldValues();\n\n                this.resizeInfo.push( info );\n            }\n        }\n    }\n\n    resizeDragEnd()\n    {\n        this.icontainer.getLogger().debug( 'ResizeHandler.resizeDragEnd()', 'end' );\n\n        this.resizeInfo.forEach( ( info ) => info.updateSizeNewValues() );\n\n        const tmp = this.resizeInfo.filter( ( info ) =>\n            info.propList.some( ( x ) => _.isEqual( x.oldValue, x.newValue ) === false ) );\n\n        if ( tmp.length > 0 )\n        {\n            this.actionController.addAction( new EditCommand( this.resizeInfo, this.icontainer ) );\n        }\n    }\n\n    /**\n   * @param {Node} node\n   */\n    addDragActionOnResizer( node )\n    {\n        node.renderer.resizers.forEach( ( resizer ) =>\n        {\n            const cursor = resizer.attr( 'cursor' );\n\n            resizer.call( d3\n                .drag()\n                .filter( () => this.icontainer.getReadOnly() === false )\n                .on( 'start', () =>\n                {\n                    this.resizeDragStart();\n                    this.icontainer.initDrag( 'drag-node-resize' );\n                } )\n                .on( 'drag', ( ev ) =>\n                {\n                    const dx = ev.x;\n                    const dy = ev.y;\n                    const curWidth = node.width;\n                    const curHeight = node.height;\n\n                    switch ( cursor )\n                    {\n                        case 'nw-resize':\n                            node.resizeToNorth( dy );\n                            node.resizeToWest( dx );\n                            break;\n                        case 'n-resize':\n                            node.resizeToNorth( dy );\n                            break;\n                        case 'ne-resize':\n                            node.resizeToNorth( dy );\n                            node.resizeToEast( dx );\n                            break;\n                        case 'w-resize':\n                            node.resizeToWest( dx );\n                            break;\n                        case 'e-resize':\n                            node.resizeToEast( dx );\n                            break;\n                        case 'sw-resize':\n                            node.resizeToSouth( dy );\n                            node.resizeToWest( dx );\n                            break;\n                        case 's-resize':\n                            node.resizeToSouth( dy );\n                            break;\n                        case 'se-resize':\n                            node.resizeToSouth( dy );\n                            node.resizeToEast( dx );\n                            break;\n                        default:\n                            throw new Error( `Unknown cursor type '${cursor}'` );\n                    }\n\n                    const diffWidth = node.width - curWidth;\n                    const diffHeight = node.height - curHeight;\n\n                    this.resizeCallback( node.id, cursor, diffWidth, diffHeight );\n                } )\n                .on( 'end', () =>\n                {\n                    this.resizeDragEnd();\n                    this.icontainer.terminateDrag( 'drag-node-resize' );\n                } ) );\n        } );\n    }\n}", "const TMP_CLIPBOARD = {\n    text: '',\n};\n\nexport default {\n    _queryPermission( name: string )\n    {\n        return navigator.permissions\n            .query( { name: name as PermissionName } )\n            .then( ( result ) => result )\n            .catch( ( ) =>\n            {\n                return {\n                    state: 'error',\n                };\n            } );\n    },\n\n    async checkClipboardPermission()\n    {\n        try\n        {\n            const write = await this._queryPermission( 'clipboard-write' );\n            const read = await this._queryPermission( 'clipboard-read' );\n\n            return write.state === 'granted' && read.state === 'granted';\n        }\n        catch\n        {\n            return false;\n        }\n    },\n\n    saveData( data: string )\n    {\n        TMP_CLIPBOARD.text = data;\n    },\n\n    loadData()\n    {\n        return TMP_CLIPBOARD.text;\n    },\n};", "import * as d3 from 'd3';\n\n// eslint-disable-next-line no-unused-vars\nimport ResizeHandler from '../action/resizehandler';\n// eslint-disable-next-line no-unused-vars\nimport RenderObject from '../obj/base';\n// eslint-disable-next-line no-unused-vars\nimport Connection from '../obj/connection';\n// eslint-disable-next-line no-unused-vars\nimport Node from '../obj/node';\nimport * as utils from '../util/functions';\nimport * as textMetrics from '../util/text-metrics';\n// eslint-disable-next-line no-unused-vars\nimport ContainerInterface from './icontainer';\nimport TextCache from './textcache';\n\nconst MARGIN_X = 10;\nconst MARGIN_Y = 10;\n\nexport default class ObjectMouseHandler\n{\n    /**\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( icontainer )\n    {\n        this.icontainer = icontainer;\n        this.tmpOut = false;\n        this.tooltip = {\n            objId: null,\n            /** @type {d3.Timer} */\n            mouseOverTimer: null,\n            /** @type {d3.Timer} */\n            mouseOutTimer: null,\n            /** @type {d3.Selection} */\n            g: null,\n            textCache: new TextCache(),\n        };\n        this.isfirefox = window.navigator.userAgent.toLowerCase().indexOf( \"firefox\" ) > -1 ? true : false;\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    commonOverOutAction( obj )\n    {\n        let x = 0;\n        let y = 0;\n\n        obj.g\n            .on( 'mousemove', ( ev ) =>\n            {\n                x = ( this.isfirefox ? ev.layerX : ev.offsetX ) + MARGIN_X;\n                y = ( this.isfirefox ? ev.layerY : ev.offsetY ) + MARGIN_Y;\n            } )\n            .on( 'mouseover', () =>\n            {\n                obj.isHovered = true;\n\n                if ( this.icontainer.getSelectNodeOnHover() && obj.type === 'node' )\n                {\n                    this.icontainer.releaseAllObjects();\n                    obj.select( true );\n                }\n\n                if ( this.icontainer.getTooltipHidden() || !obj.canShowTooltip )\n                {\n                    return;\n                }\n\n                if ( this.tooltip.mouseOutTimer != null )\n                {\n                    this.tooltip.mouseOutTimer.stop();\n                }\n\n                this.tooltip.mouseOverTimer = d3.timeout( () =>\n                {\n                    if ( obj.isHovered &&\n                        obj.onEditing === false &&\n                        obj.id !== this.tooltip.objId &&\n                        !this.icontainer.getTooltipHidden() )\n                        this.createTooltipObj( obj.data, x, y );\n                }, 500 );\n            } )\n            .on( 'mouseout', () =>\n            {\n                obj.isHovered = false;\n\n                if ( this.icontainer.getTooltipHidden() || !obj.canShowTooltip )\n                {\n                    return;\n                }\n\n                if ( this.tooltip.mouseOverTimer != null )\n                {\n                    this.tooltip.mouseOverTimer.stop();\n                }\n\n                this.tooltip.mouseOutTimer = d3.timeout( () =>\n                {\n                    if ( !obj.isHovered )\n                    {\n                        this.removeTooltipObj();\n                    }\n                }, 200 );\n            } );\n    }\n\n    /**\n   * @param {{}} objData\n   * @param {Number} x\n   * @param {Number} y\n   */\n    createTooltipObj( objData, x, y )\n    {\n        this.removeTooltipObj();\n\n        this.tooltip.objId = objData.id;\n        this.tooltip.g = this.icontainer\n            .getSvg()\n            .append( 'g' )\n            .attr( 'class', 'tooltip' );\n\n        const obj = this.icontainer.getObjectOrNull( this.tooltip.objId );\n\n        if ( obj === null )\n        {\n            return;\n        }\n\n        const style = {\n            text: obj.getDataOrNull( 'tooltipText' ),\n            foreColor: obj.getDataOrNull( 'tooltipForeColor' ),\n            fontFamily: obj.getDataOrNull( 'tooltipFontFamily' ),\n            fontSize: obj.getDataOrNull( 'tooltipFontSize' ),\n            textDecoration: obj.getDataOrNull( 'tooltipTextDecoration' ),\n            padding: obj.getDataOrNull( 'tooltipPadding' ),\n            fill: obj.getDataOrNull( 'tooltipFill' ),\n            borderColor: obj.getDataOrNull( 'tooltipBorderColor' ),\n            borderWidth: obj.getDataOrNull( 'tooltipBorderWidth' ),\n            borderDash: obj.getDataOrNull( 'tooltipBorderDash' ),\n            width: 0,\n        };\n\n        const size = textMetrics.getFittedSizeOnText( style );\n\n        style.width = Math.min( size.width, obj.data.tooltipMaxWidth );\n\n        const textLines = textMetrics.getWrappedText( style );\n\n        this.tooltip.g\n            .append( 'rect' )\n            .attr( 'x', x )\n            .attr( 'y', y )\n            .attr( 'width', style.width + style.padding * 2 )\n            .attr( 'height', ( textLines.lineHeight * textLines.length ) + style.padding * 2 )\n            .attr( 'fill', style.fill )\n            .attr( 'stroke', style.borderColor )\n            .attr( 'stroke-width', style.borderWidth )\n            .attr( 'stroke-dasharray', style.borderDash );\n\n        const text = this.tooltip.g\n            .append( 'text' )\n            .attr( 'fill', style.foreColor )\n            .attr( 'fontSize', style.fontSize )\n            .attr( 'text-decoration', style.textDecoration );\n\n        utils.createTextLines( text,\n            textLines,\n            x + style.padding,\n            y + style.padding + style.fontSize,\n            style );\n    }\n\n    removeTooltipObj()\n    {\n        if ( this.tooltip.g !== null )\n        {\n            this.tooltip.g.remove();\n            this.tooltip.objId = null;\n            this.tooltip.g = null;\n            this.tooltip.textCache.clear();\n        }\n    }\n\n    /**\n   * @param {RenderObject} obj\n   */\n    addMouseAction( obj )\n    {\n        this.commonOverOutAction( obj );\n    }\n}", "export default class Rect\n{\n    startX: number;\n    startY: number;\n    endX: number;\n    endY: number;\n\n    constructor( startX: number, startY: number, endX: number, endY: number )\n    {\n        this.startX = startX;\n        this.startY = startY;\n        this.endX = endX;\n        this.endY = endY;\n    }\n\n    isContained( x: number, y: number )\n    {\n        return (\n            x >= this.startX && x <= this.endX && y >= this.startY && y <= this.endY\n        );\n    }\n}", "import NodeRenderer from './node';\n\nexport default class BridgeRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'bridge', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.body = this.group.append( 'rect' );\n        super._create();\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n        const width = this.width;\n        const height = this.height;\n\n        this.objects.body\n            .attr( 'x', -( width / 2 ) )\n            .attr( 'y', -( height / 2 ) )\n            .attr( 'rx', ( width + height ) / 6 )\n            .style( 'width', `${width}px` )\n            .style( 'height', `${height}px` )\n            .style( 'fill', wrapper.get( 'node.fill' ) )\n            .style( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .attr( 'stroke', wrapper.get( 'borderColor' ) )\n            .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) );\n    }\n}", "import NodeRenderer from './node';\n\nconst EDGE_SIZE = 15;\nconst ANGLE_DIFF_X = -4;\nconst ANGLE_DIFF_Y = 2;\n\nexport default class CommentRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'comment', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.body = this.group\n            .append( 'path' )\n            .attr( 'class', 'body' )\n            .classed( this.data.type, true );\n        super._create();\n    }\n\n    _getPath()\n    {\n        const commands = [];\n        const endX = this.width / 2;\n        const endY = this.height / 2;\n        const startX = -endX;\n        const startY = -endY;\n\n        commands.push( `M${startX} ${startY}` );\n        commands.push( `L${endX - EDGE_SIZE} ${startY}` );\n        commands.push( `L${endX},${startY + EDGE_SIZE}` );\n        commands.push( `L${endX},${endY}` );\n        commands.push( `L${startX},${endY}` );\n        commands.push( `Z` );\n        commands.push( `M${endX - EDGE_SIZE} ${startY}` );\n        commands.push( `L${endX - ( EDGE_SIZE + ANGLE_DIFF_X )} ${\n            startY + ( EDGE_SIZE + ANGLE_DIFF_Y )\n        }` );\n        commands.push( `L${endX} ${startY + EDGE_SIZE}` );\n\n        return commands.join( ' ' );\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n\n        this.objects.body\n            .attr( 'd', this._getPath() )\n            .style( 'fill', wrapper.get( 'node.fill' ) )\n            .style( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .attr( 'stroke', wrapper.get( 'borderColor' ) )\n            .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) );\n\n        this._createText();\n    }\n}", "import NodeRenderer from './node';\n\nconst CIRCLE_HEIGHT_RATIO = 0.28;\nexport default class DBRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'db', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.circle = this.group.append( 'ellipse' );\n        this.objects.body = this.group.append( 'path' );\n        super._create();\n    }\n\n    get circleHeight()\n    {\n        return this.height * CIRCLE_HEIGHT_RATIO;\n    }\n\n    _getPath()\n    {\n        const commands = [];\n        const halfHeight = this.height / 2;\n        const ry = this.circleHeight / 2;\n        const rx = this.width / 2;\n        const x1 = -rx;\n        const x2 = rx;\n        const y1 = -halfHeight + ry;\n        const y2 = halfHeight - ry;\n\n        commands.push( `M${x1} ${y1}` );\n        commands.push( `A${rx} ${ry} 0 0 0 ${x2} ${y1}` );\n        commands.push( `V${y2}` );\n        commands.push( `A${rx} ${ry} 0 0 1 ${x1} ${y2}` );\n        commands.push( `V${y1}` );\n\n        return commands.join( ' ' );\n    }\n\n    _render()\n    {\n    // \uD14D\uC2A4\uD2B8 \uB80C\uB354\uB9C1 \uC704\uCE58 \uC870\uC815 \uD544\uC694\n        const wrapper = this.dataWrapper;\n        const ry = this.circleHeight / 2;\n        const rx = this.width / 2;\n        const halfHeight = this.height / 2;\n        const y1 = -halfHeight + ry;\n        const style = {\n            fill: wrapper.get( 'node.fill' ),\n            borderWidth: wrapper.get( 'borderWidth' ),\n            borderColor: wrapper.get( 'borderColor' ),\n            borderDash: wrapper.get( 'borderDash' ),\n        };\n\n        this.objects.circle\n            .attr( 'cx', 0 )\n            .attr( 'cy', y1 )\n            .attr( 'rx', rx )\n            .attr( 'ry', ry )\n            .style( 'fill', style.fill )\n            .style( 'stroke-width', style.borderWidth )\n            .attr( 'stroke', style.borderColor )\n            .attr( 'stroke-dasharray', style.borderDash );\n\n        this.objects.body\n            .attr( 'd', this._getPath() )\n            .style( 'fill', style.fill )\n            .style( 'stroke-width', style.borderWidth )\n            .attr( 'stroke', style.borderColor )\n            .attr( 'stroke-dasharray', style.borderDash );\n\n        const circleHeight = this.height * CIRCLE_HEIGHT_RATIO;\n\n        this._createText( 0, circleHeight / 2 );\n    }\n}", "/* eslint-disable no-unused-vars */\nimport Node from '../obj/node';\nimport * as utils from '../util/functions';\nimport BaseRenderer from './base';\n\n/**\n * @typedef {Object} TransFormData\n * @property {Number} translateX\n * @property {Number} translateY\n * @property {Number} scale\n */\n\n/**\n * @typedef {Object} IContainer\n * @property {() => Node} getObjectOrNull\n */\n\nexport default class ConnectionRenderer extends BaseRenderer\n{\n    /**\n   *\n   * @param {*} container\n   * @param {*} data\n   * @param {*} className\n   * @param {IContainer} iContainer\n   */\n    constructor( data, className, iContainer )\n    {\n        super( data, className, iContainer );\n        this.markerId = `${this.iContainer.getUUID()}_marker_${this.data.id}`;\n\n        this.objects.marker = this.group\n            .append( 'svg:defs' )\n            .append( 'svg:marker' )\n            .attr( 'id', this.markerId );\n\n        this.objects.markerPath = this.objects.marker.append( 'path' );\n\n        this.checkChanged = {\n            points: null,\n            srcX: 0,\n            srcY: 0,\n            desX: 0,\n            desY: 0,\n        };\n    }\n\n    get width()\n    {\n        return this.data['connection.width'];\n    }\n\n    get height()\n    {\n        return 0;\n    }\n\n    get lastPointId()\n    {\n        return this.data['connection.points'].length - 1;\n    }\n\n    create()\n    {\n        super.create();\n        this.bringToFrontElement( this.objects.sourceConnector.node() );\n        this.bringToFrontElement( this.objects.destinationConnector.node() );\n    }\n\n    _createConnector()\n    {\n        this.objects.sourceConnector = this.group\n            .append( 'circle' )\n            .attr( 'cursor', 'crosshair' );\n\n        this.objects.destinationConnector = this.group\n            .append( 'circle' )\n            .attr( 'cursor', 'crosshair' );\n    }\n\n    _getPosLocation( node, pos )\n    {\n        let x = 0;\n        let y = 0;\n\n        switch ( pos )\n        {\n            case 'left':\n                x = -( node.width / 2 );\n                break;\n            case 'right':\n                x = node.width / 2;\n                break;\n            case 'top':\n                y = -( node.height / 2 );\n                break;\n            case 'bottom':\n                y = node.height / 2;\n                break;\n            default:\n                throw new Error( `Invalid argument '${pos}'` );\n        }\n\n        return {\n            x,\n            y,\n        };\n    }\n\n    _getBBox()\n    {\n        return this.objects.text.node().getBBox();\n    }\n\n    _getLabelRect()\n    {\n        const bbox = this._getBBox();\n        const width = bbox.width + 10;\n        const height = bbox.height + 10;\n\n        return {\n            x: parseFloat( this.objects.text.attr( 'x' ) ) - width / 2,\n            y: parseFloat( this.objects.text.attr( 'y' ) ) - 5 - this.data.fontSize,\n            width: width + 20,\n            height: Math.max( height, this.data.fontSize + 10 ),\n        };\n    }\n\n    _renderMarker()\n    {\n        const wrapper = this.dataWrapper;\n        const style = {\n            borderWidth: wrapper.get( 'borderWidth' ),\n            arrowSize: wrapper.get( 'connection.arrowSize' ),\n            arrowFill: wrapper.get( 'connection.arrowFill' ),\n            arrowBorderColor: wrapper.get( 'connection.arrowBorderColor' ),\n            arrowBorderWidth: wrapper.get( 'connection.arrowBorderWidth' ),\n        };\n        const markerSize = style.arrowSize / style.borderWidth;\n\n        this.objects.marker\n            .attr( 'refX', markerSize )\n            .attr( 'refY', markerSize / 2 )\n            .attr( 'markerWidth', markerSize )\n            .attr( 'markerHeight', markerSize )\n            .attr( 'orient', 'auto' );\n\n        this.objects.markerPath\n            .attr( 'd', `M 0 0 L ${markerSize} ${markerSize / 2} L 0 ${markerSize} z` )\n            .attr( 'fill', style.arrowFill )\n            .attr( 'stroke', style.arrowBorderColor )\n            .attr( 'stroke-width', style.arrowBorderWidth / style.borderWidth );\n    }\n\n    _renderConnector()\n    {\n        const wrapper = this.dataWrapper;\n        const sourceLoc = this._getSourceLoc();\n        const destinationLoc = this._getDestinationLoc();\n        const style = {\n            size: wrapper.get( 'connection.connectorSize' ),\n            fill: wrapper.get( 'connection.connectorFill' ),\n        };\n\n        this.objects.sourceConnector\n            .attr( 'cx', sourceLoc.x )\n            .attr( 'cy', sourceLoc.y )\n            .attr( 'r', style.size )\n            .attr( 'fill', style.fill )\n            .attr( 'visibility', this.subUiVisilbility );\n\n        this.objects.destinationConnector\n            .attr( 'cx', destinationLoc.x )\n            .attr( 'cy', destinationLoc.y )\n            .attr( 'r', style.size )\n            .attr( 'fill', style.fill )\n            .attr( 'visibility', this.subUiVisilbility );\n    }\n\n    _getSourceLoc()\n    {\n        return this._getNodePositionLoc( this.data['connection.sourceObjId'],\n            this.data['connection.sourcePos'],\n            0 );\n    }\n\n    _getDestinationLoc()\n    {\n        return this._getNodePositionLoc( this.data['connection.destinationObjId'],\n            this.data['connection.destinationPos'],\n            this.lastPointId );\n    }\n\n    _recordLastInfo( srcLoc, desLoc )\n    {\n        this.checkChanged.points = this.data['connection.points'];\n        this.checkChanged.srcX = srcLoc.x;\n        this.checkChanged.srcY = srcLoc.y;\n        this.checkChanged.desX = desLoc.x;\n        this.checkChanged.desY = desLoc.y;\n    }\n\n    _updatePoints( ...points )\n    {\n        if (\n            this.data['connection.points'] === undefined ||\n      this.data['connection.points'] === null\n        )\n        {\n            this.data['connection.points'] = [];\n        }\n        else\n        {\n            this.data['connection.points'].splice( 0,\n                this.data['connection.points'].length );\n        }\n\n        points.forEach( ( pt ) => this.data['connection.points'].push( pt ) );\n    }\n\n    _isChanged( srcLoc, desLoc )\n    {\n        try\n        {\n            const tmpX1 = this.checkChanged.srcX - this.checkChanged.desX;\n            const tmpX2 = srcLoc.x - desLoc.x;\n            const tmpY1 = this.checkChanged.srcY - this.checkChanged.desY;\n            const tmpY2 = srcLoc.y - desLoc.y;\n\n            return tmpX1 !== tmpX2 || tmpY1 !== tmpY2;\n        }\n        finally\n        {\n            this._recordLastInfo( srcLoc, desLoc );\n        }\n    }\n\n    _getNodePositionLoc( objId, pos, pointId )\n    {\n        if ( objId && pos )\n        {\n            const node = this.iContainer.getObjectOrNull( objId );\n\n            if ( node === null )\n            {\n                if (\n                    this.data['connection.points'] &&\n          this.data['connection.points'].length > pointId\n                )\n                {\n                    return {\n                        x: this.data['connection.points'][pointId].x,\n                        y: this.data['connection.points'][pointId].y,\n                    };\n                }\n                else\n                {\n                    return {\n                        x: 0,\n                        y: 0,\n                    };\n                }\n            }\n            else\n            {\n                const posLocation = this._getPosLocation( node, pos );\n                const transform = utils.getTransformData( node.renderer.group.attr( 'transform' ) );\n\n                return {\n                    x: posLocation.x + transform.translateX,\n                    y: posLocation.y + transform.translateY,\n                };\n            }\n        }\n        else if (\n            this.data['connection.points'] &&\n      this.data['connection.points'].length > pointId\n        )\n        {\n            return {\n                x: this.data['connection.points'][pointId].x,\n                y: this.data['connection.points'][pointId].y,\n            };\n        }\n        else\n        {\n            throw new Error( 'Invalid points value.' );\n        }\n    }\n}", "import ConnectionRenderer from './connection';\n\nexport default class DirectConnectionRenderer extends ConnectionRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'direct', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.line = this.group\n            .append( 'line' )\n            .attr( 'marker-end', `url(#${this.markerId})` );\n\n        this.objects.wideLine = this.group\n            .append( 'line' )\n            .attr( 'class', 'wide-line' )\n            .style( 'stroke', 'rgba(0, 0, 0, 0)' );\n\n        this.objects.rect = this.group.append( 'rect' );\n\n        this._createConnector();\n    }\n\n    _getLabelXY( info )\n    {\n        const srcLoc = this._getSourceLoc();\n        const desLoc = this._getDestinationLoc();\n\n        return {\n            x: srcLoc.x + ( desLoc.x - srcLoc.x ) / 2,\n            y:\n        srcLoc.y +\n        ( desLoc.y - srcLoc.y ) / 2 +\n        ( this.data.fontSize - ( this.data.fontSize * info.length ) / 2 ),\n        };\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n        const points = this.data['connection.points'];\n        const srcLoc = this._getSourceLoc();\n        const desLoc = this._getDestinationLoc();\n        const style = {\n            borderColor: wrapper.get( 'borderColor' ),\n            borderWidth: wrapper.get( 'borderWidth' ),\n            borderDash: wrapper.get( 'borderDash' ),\n            text: wrapper.get( 'text' ),\n            fill: wrapper.get( 'connection.textBorderFill' ),\n            textBorderColor: wrapper.get( 'connection.textBorderColor' ),\n            textBorderWidth: wrapper.get( 'connection.textBorderWidth' ),\n            textBorderDash: wrapper.get( 'connection.textBorderDash' ),\n        };\n\n        this._renderConnector();\n        this._renderMarker();\n\n        if ( this._isChanged( srcLoc, desLoc ) )\n        {\n            this._updatePoints( srcLoc, desLoc );\n        }\n\n        this.objects.line\n            .attr( 'x1', points[0].x )\n            .attr( 'y1', points[0].y )\n            .attr( 'x2', points[this.lastPointId].x )\n            .attr( 'y2', points[this.lastPointId].y )\n            .style( 'stroke', style.borderColor )\n            .style( 'stroke-width', style.borderWidth )\n            .style( 'stroke-dasharray', style.borderDash );\n\n        this.objects.wideLine\n            .attr( 'x1', points[0].x )\n            .attr( 'y1', points[0].y )\n            .attr( 'x2', points[this.lastPointId].x )\n            .attr( 'y2', points[this.lastPointId].y )\n            .style( 'stroke-width', Math.max( style.borderWidth, 5 ) );\n\n        this._createText();\n\n        if ( style.text )\n        {\n            const bbox = this._getBBox();\n            const width = bbox.width + 10;\n            const height = bbox.height + 10;\n\n            this.objects.rect\n                .attr( 'x', bbox.x - 5 )\n                .attr( 'y', bbox.y - 5 )\n                .attr( 'width', width )\n                .attr( 'height', height )\n                .style( 'fill', style.fill )\n                .style( 'stroke', style.textBorderColor )\n                .style( 'stroke-width', style.textBorderWidth )\n                .style( 'stroke-dasharray', style.textBorderDash );\n        }\n        else\n        {\n            this.objects.rect\n                .style( 'fill', 'transparent' )\n                .style( 'stroke', 'transparent' );\n        }\n    }\n}", "/* eslint-disable no-console */\nimport * as d3 from 'd3';\n\nimport * as util from '../util/functions';\nimport ConnectionRenderer from './connection';\n\nconst MINIMUM_GAP = 20;\nconst ADJUSTER_SIZE = 10;\nconst ADJUSTER_ADJ = ADJUSTER_SIZE / 2;\n\nexport default class ElbowConnectionRenderer extends ConnectionRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'elbow', icontainer );\n\n        this.adjusterList = [];\n\n        this.elbowMap = {\n            top: this._topTo,\n            bottom: this._bottomTo,\n            left: this._leftTo,\n            right: this._rightTo,\n        };\n    }\n\n    _create()\n    {\n        this.objects.polyline = this.group\n            .append( 'polyline' )\n            .attr( 'fill', 'none' )\n            .attr( 'marker-end', `url(#${this.markerId})` );\n\n        this.objects.wideLine = this.group\n            .append( 'polyline' )\n            .attr( 'fill', 'none' )\n            .style( 'stroke', 'rgba(0, 0, 0, 0)' );\n\n        this.objects.rect = this.group.append( 'rect' );\n\n        this._createConnector();\n\n        const points = this.data['connection.points'];\n\n        if ( points.length === 2 )\n        {\n            // \uC810\uC774 2\uAC1C \uBC16\uC5D0 \uC5C6\uC73C\uBA74 refresh\n            this.refreshAdjustList();\n        }\n        else\n        {\n            // \uC77C\uBC18 points \uCD08\uAE30\uD654\uC778 \uACBD\uC6B0\n            this._recordLastInfo( this._getSourceLoc(), this._getDestinationLoc() );\n            this._createAdjustList( points.slice( 1, points.length - 1 ) );\n        }\n    }\n\n    _getNextXY( pos, loc )\n    {\n        switch ( pos )\n        {\n            case 'left':\n                return { x: loc.x - MINIMUM_GAP, y: loc.y };\n            case 'right':\n                return { x: loc.x + MINIMUM_GAP, y: loc.y };\n            case 'top':\n                return { x: loc.x, y: loc.y - MINIMUM_GAP };\n            case 'bottom':\n                return { x: loc.x, y: loc.y + MINIMUM_GAP };\n            default:\n                throw new Error( `Unknown pos '${pos}'` );\n        }\n    }\n\n    *_topTo( srcLoc, desLoc, srcNext, desNext, desPos )\n    {\n        const middleX = ( srcLoc.x + desLoc.x ) / 2;\n        const middleY = ( srcLoc.y + desLoc.y ) / 2;\n        const nextMiddleX = ( srcNext.x + desNext.x ) / 2;\n        const nextMiddleY = ( srcNext.y + desNext.y ) / 2;\n\n        switch ( desPos )\n        {\n            case 'top': {\n                yield { x: middleX, y: Math.min( srcNext.y, desNext.y ) };\n                break;\n            }\n            case 'bottom': {\n                if ( srcLoc.y > desLoc.y )\n                {\n                    yield { x: middleX, y: middleY };\n                }\n                else\n                {\n                    yield { x: ( srcLoc.x + middleX ) / 2, y: srcNext.y };\n                    yield { x: middleX, y: middleY };\n                    yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                }\n                break;\n            }\n            case 'left': {\n                if ( srcLoc.x < desLoc.x )\n                {\n                    if ( srcLoc.y < desLoc.y )\n                    {\n                        yield { x: ( srcLoc.x + middleX ) / 2, y: srcNext.y };\n                        yield { x: middleX, y: nextMiddleY };\n                    }\n                }\n                else\n                if ( srcLoc.y < desLoc.y )\n                {\n                    yield { x: nextMiddleX, y: srcNext.y };\n                    yield { x: desNext.x, y: nextMiddleY };\n                }\n                else\n                {\n                    yield { x: nextMiddleX, y: middleY };\n                    yield { x: desNext.x, y: ( middleY + desNext.y ) / 2 };\n                }\n                break;\n            }\n            case 'right': {\n                if ( srcLoc.x < desLoc.x )\n                {\n                    if ( srcLoc.y < desLoc.y )\n                    {\n                        yield { x: nextMiddleX, y: srcNext.y };\n                        yield { x: desNext.x, y: nextMiddleY };\n                    }\n                    else\n                    {\n                        yield { x: nextMiddleX, y: middleY };\n                        yield { x: desNext.x, y: ( middleY + desNext.y ) / 2 };\n                    }\n                }\n                else\n                if ( srcLoc.y < desLoc.y )\n                {\n                    yield { x: ( srcNext.x + middleX ) / 2, y: srcNext.y };\n                    yield { x: middleX, y: nextMiddleY };\n                }\n                break;\n            }\n            default:\n                throw new Error( `Unknown pos '${desPos}'` );\n        }\n    }\n\n    *_bottomTo( srcLoc, desLoc, srcNext, desNext, desPos )\n    {\n        const middleX = ( srcLoc.x + desLoc.x ) / 2;\n        const middleY = ( srcLoc.y + desLoc.y ) / 2;\n        const nextMiddleX = ( srcNext.x + desNext.x ) / 2;\n        const nextMiddleY = ( srcNext.y + desNext.y ) / 2;\n\n        switch ( desPos )\n        {\n            case 'top': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    yield { x: middleX, y: middleY };\n                }\n                else\n                {\n                    yield { x: ( srcLoc.x + middleX ) / 2, y: srcNext.y };\n                    yield { x: middleX, y: middleY };\n                    yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                }\n                break;\n            }\n            case 'bottom': {\n                yield { x: middleX, y: Math.max( srcNext.y, desNext.y ) };\n                break;\n            }\n            case 'left': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x > desLoc.x )\n                    {\n                        yield { x: nextMiddleX, y: middleY };\n                        yield { x: desNext.x, y: ( middleY + desNext.y ) / 2 };\n                    }\n                }\n                else\n                {\n                    yield { x: nextMiddleX, y: srcNext.y };\n                    yield { x: desNext.x, y: nextMiddleY };\n                }\n                break;\n            }\n            case 'right': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x < desLoc.x )\n                    {\n                        const tmpY = ( srcNext.y + nextMiddleY ) / 2;\n                        yield { x: nextMiddleX, y: tmpY };\n                        yield { x: desNext.x, y: ( tmpY + desNext.y ) / 2 };\n                    }\n                }\n                else\n                {\n                    yield { x: nextMiddleX, y: srcNext.y };\n                    yield { x: desNext.x, y: nextMiddleY };\n                }\n                break;\n            }\n            default:\n                throw new Error( `Unknown pos '${desPos}'` );\n        }\n    }\n\n    *_leftTo( srcLoc, desLoc, srcNext, desNext, desPos )\n    {\n        const middleX = ( srcLoc.x + desLoc.x ) / 2;\n        const middleY = ( srcLoc.y + desLoc.y ) / 2;\n        const nextMiddleX = ( srcNext.x + desNext.x ) / 2;\n        const nextMiddleY = ( srcNext.y + desNext.y ) / 2;\n\n        switch ( desPos )\n        {\n            case 'top': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x < desLoc.x )\n                    {\n                        yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                        yield { x: nextMiddleX, y: middleY };\n                    }\n                }\n                else\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: srcNext.x, y: nextMiddleY };\n                    yield { x: nextMiddleX, y: desNext.y };\n                }\n                else\n                {\n                    yield { x: middleX, y: nextMiddleY };\n                    yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                }\n                break;\n            }\n            case 'bottom': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x < desLoc.x )\n                    {\n                        yield { x: srcNext.x, y: nextMiddleY };\n                        yield { x: nextMiddleX, y: desNext.y };\n                    }\n                    else\n                    {\n                        yield { x: middleX, y: nextMiddleY };\n                        yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                    }\n                }\n                else\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                    yield { x: nextMiddleX, y: middleY };\n                }\n                break;\n            }\n            case 'left': {\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: srcNext.x, y: middleY };\n                }\n                else\n                {\n                    yield { x: desNext.x, y: middleY };\n                }\n                break;\n            }\n            case 'right': {\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                    yield { x: nextMiddleX, y: middleY };\n                    yield { x: desNext.x, y: ( middleY + desNext.y ) / 2 };\n                }\n                else\n                {\n                    yield { x: middleX, y: middleY };\n                }\n                break;\n            }\n            default:\n                throw new Error( `Unknown pos '${desPos}'` );\n        }\n    }\n\n    *_rightTo( srcLoc, desLoc, srcNext, desNext, desPos )\n    {\n        const middleX = ( srcLoc.x + desLoc.x ) / 2;\n        const middleY = ( srcLoc.y + desLoc.y ) / 2;\n        const nextMiddleX = ( srcNext.x + desNext.x ) / 2;\n        const nextMiddleY = ( srcNext.y + desNext.y ) / 2;\n\n        switch ( desPos )\n        {\n            case 'top': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x > desLoc.x )\n                    {\n                        yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                        yield { x: nextMiddleX, y: ( middleY + desNext.y ) / 2 };\n                    }\n                }\n                else\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: middleX, y: nextMiddleY };\n                    yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                }\n                else\n                {\n                    yield { x: srcNext.x, y: nextMiddleY };\n                    yield { x: nextMiddleX, y: desNext.y };\n                }\n                break;\n            }\n            case 'bottom': {\n                if ( srcLoc.y < desLoc.y )\n                {\n                    if ( srcLoc.x < desLoc.x )\n                    {\n                        yield { x: middleX, y: nextMiddleY };\n                        yield { x: ( middleX + desNext.x ) / 2, y: desNext.y };\n                    }\n                    else\n                    {\n                        yield { x: srcNext.x, y: nextMiddleY };\n                        yield { x: nextMiddleX, y: desNext.y };\n                    }\n                }\n                else\n                if ( srcLoc.x > desLoc.x )\n                {\n                    yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                    yield { x: nextMiddleX, y: middleY };\n                }\n                break;\n            }\n            case 'left': {\n                if ( srcLoc.x < desLoc.x )\n                {\n                    yield { x: middleX, y: middleY };\n                }\n                else\n                {\n                    yield { x: srcNext.x, y: ( srcNext.y + middleY ) / 2 };\n                    yield { x: nextMiddleX, y: middleY };\n                    yield { x: desNext.x, y: ( middleY + desNext.y ) / 2 };\n                }\n                break;\n            }\n            case 'right': {\n                yield { x: Math.max( srcNext.x, desNext.x ), y: middleY };\n                break;\n            }\n            default:\n                throw new Error( `Unknown pos '${desPos}'` );\n        }\n    }\n\n    _getElbowPoints( srcLoc, desLoc, srcPos, desPos )\n    {\n        const srcNext = this._getNextXY( srcPos, srcLoc );\n        const desNext = this._getNextXY( desPos, desLoc );\n        const points = [];\n        const func = this.elbowMap[srcPos];\n\n        points.push( { x: srcLoc.x, y: srcLoc.y } );\n\n        if ( func === undefined )\n        {\n            console.error( `unknown position value '${srcPos}'` );\n        }\n        else\n        {\n            for ( const p of func( srcLoc, desLoc, srcNext, desNext, desPos ) )\n            {\n                points.push( p );\n            }\n        }\n\n        points.push( { x: desLoc.x, y: desLoc.y } );\n\n        return points;\n    }\n\n    /**\n   *\n   * @param {[]} points\n   * @returns {String}\n   */\n    _getPolylinePath( points )\n    {\n        const path = [];\n        let x = points[0].x;\n        let y = points[0].y;\n        let isVertical = this._getFirstPointDir() === 'v';\n\n        path.push( [x, y] );\n\n        for ( let i = 0; i < points.length - 1; ++i )\n        {\n            if ( isVertical )\n            {\n                y = points[i + 1].y;\n            }\n            else\n            {\n                x = points[i + 1].x;\n            }\n            path.push( [x, y] );\n            isVertical = !isVertical;\n        }\n\n        path.push( [points[points.length - 1].x, points[points.length - 1].y] );\n\n        return path;\n    }\n\n    _getLabelPos( pathPoints )\n    {\n        const firstPoint = pathPoints[1];\n        const nextPoint = pathPoints[2];\n\n        return {\n            x: ( firstPoint[0] + nextPoint[0] ) / 2,\n            y: ( firstPoint[1] + nextPoint[1] ) / 2,\n        };\n    }\n\n    _getPosToDir( pos )\n    {\n        switch ( pos )\n        {\n            case 'top':\n            case 'bottom':\n                return 'v';\n            case 'left':\n            case 'right':\n                return 'h';\n            default:\n                throw new Error( `Unknown sourcePos '${pos}'` );\n        }\n    }\n\n    _getFirstPointDir()\n    {\n        if ( this.data['connection.sourcePos'] !== null )\n        {\n            return this._getPosToDir( this.data['connection.sourcePos'] );\n        }\n        else\n        {\n            const pos = this._getPos( this._getSourceLoc(), this._getDestinationLoc() );\n\n            return this._getPosToDir( pos.srcPos );\n        }\n    }\n\n    _createAdjustList( adjustPoints )\n    {\n        const data = this.data;\n        let flag = this._getFirstPointDir() === 'v';\n\n        this.adjusterList.forEach( ( a ) => a.remove() );\n        this.adjusterList.splice( 0, this.adjusterList.length );\n\n        adjustPoints.forEach( ( p, id ) =>\n        {\n            const isVertical = !flag;\n            let lastX = 0;\n            let lastY = 0;\n            let tmpPoints = null;\n\n            flag = !flag;\n\n            const point = this.group\n                .append( 'rect' )\n                .attr( 'x', p.x - ADJUSTER_SIZE / 2 )\n                .attr( 'y', p.y - ADJUSTER_SIZE / 2 )\n                .attr( 'width', ADJUSTER_SIZE )\n                .attr( 'height', ADJUSTER_SIZE )\n                .attr( 'class', 'adjuster' )\n                .attr( 'cursor', 'move' )\n                .call( d3\n                    .drag()\n                    .filter( () => this.icontainer.getReadOnly() === false )\n                    .on( 'start', ( ev ) =>\n                    {\n                        lastX = ev.x;\n                        lastY = ev.y;\n\n                        tmpPoints = util.deepCopy( this.data['connection.points'] );\n                    } )\n                    .on( 'drag', ( ev ) =>\n                    {\n                        const points = data['connection.points'];\n                        const pt = points[id + 1];\n\n                        if ( isVertical )\n                        {\n                            const diffX = lastX - ev.x;\n                            pt.x -= diffX;\n                            lastX = ev.x;\n                            point.attr( 'x', pt.x - ADJUSTER_SIZE / 2 );\n\n                            if ( id > 0 ) points[id].x -= diffX / 2;\n                            if ( id + 3 < points.length ) points[id + 2].x -= diffX / 2;\n                        }\n                        else\n                        {\n                            const diffY = lastY - ev.y;\n                            pt.y -= diffY;\n                            lastY = ev.y;\n                            point.attr( 'y', pt.y - ADJUSTER_SIZE / 2 );\n\n                            if ( id > 0 ) points[id].y -= diffY / 2;\n                            if ( id + 3 < points.length ) points[id + 2].y -= diffY / 2;\n                        }\n\n                        this._render();\n                    } )\n                    .on( 'end', () =>\n                    {\n                        this.icontainer.adjDragCallback( this.data,\n                            tmpPoints,\n                            util.deepCopy( this.data['connection.points'] ) );\n                    } ) );\n\n            this.adjusterList.push( point );\n        } );\n    }\n\n    _getPos( srcLoc, desLoc )\n    {\n        const pos = {\n            srcPos: this.data['connection.sourcePos'],\n            desPos: this.data['connection.destinationPos'],\n        };\n\n        const height = Math.abs( srcLoc.y - desLoc.y );\n        const width = Math.abs( srcLoc.x - desLoc.x );\n\n        if ( !pos.srcPos )\n        {\n            if ( height > width )\n            {\n                pos.srcPos = srcLoc.y > desLoc.y ? 'top' : 'bottom';\n            }\n            else\n            {\n                pos.srcPos = srcLoc.x > desLoc.x ? 'left' : 'right';\n            }\n        }\n\n        if ( !pos.desPos )\n        {\n            if ( height > width )\n            {\n                pos.desPos = srcLoc.y > desLoc.y ? 'bottom' : 'top';\n            }\n            else\n            {\n                pos.desPos = srcLoc.x > desLoc.x ? 'right' : 'left';\n            }\n        }\n\n        return pos;\n    }\n\n    refreshAdjustList()\n    {\n        const srcLoc = this._getSourceLoc();\n        const desLoc = this._getDestinationLoc();\n        const pos = this._getPos( srcLoc, desLoc );\n\n        const tmpPoints = this._getElbowPoints( srcLoc,\n            desLoc,\n            pos.srcPos,\n            pos.desPos );\n\n        this._createAdjustList( tmpPoints.slice( 1, tmpPoints.length - 1 ) );\n        this._updatePoints( ...tmpPoints );\n    }\n\n    _getLabelXY( info )\n    {\n        const pos = this._getLabelPos( this._getPolylinePath( this.data['connection.points'] ) );\n\n        return {\n            x: pos.x,\n            y: pos.y + ( this.data.fontSize - ( this.data.fontSize * info.length ) / 2 ),\n        };\n    }\n\n    _renderAdjustList()\n    {\n        this.adjusterList.forEach( ( adj, id ) =>\n        {\n            const curPt = this.data['connection.points'][id + 1];\n\n            // update x, y\n            adj.attr( 'x', curPt.x - ADJUSTER_ADJ ).attr( 'y', curPt.y - ADJUSTER_ADJ );\n            adj.attr( 'visibility',\n                this.group.classed( 'edit' ) === false ? this.subUiVisilbility : 'hidden' );\n\n            this.bringToFrontElement( adj.node() );\n        } );\n    }\n\n    _render()\n    {\n        const data = this.data;\n        const wrapper = this.dataWrapper;\n        const srcLoc = this._getSourceLoc();\n        const desLoc = this._getDestinationLoc();\n\n        if ( this._isChanged( srcLoc, desLoc ) )\n        {\n            this.refreshAdjustList();\n        }\n\n        this._renderConnector();\n        this._renderMarker();\n        this._renderAdjustList();\n\n        const pathPoints = this._getPolylinePath( data['connection.points'] );\n        const path = pathPoints.map( ( pt ) => `${pt[0]},${pt[1]}` ).join( ', ' );\n\n        this.objects.polyline\n            .attr( 'points', path )\n            .style( 'stroke', wrapper.get( 'borderColor' ) )\n            .style( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .style( 'stroke-dasharray', wrapper.get( 'borderDash' ) );\n\n        this.objects.wideLine\n            .attr( 'points', path )\n            .style( 'stroke-width', Math.max( wrapper.get( 'borderWidth' ), 5 ) );\n\n        this._createText();\n\n        if ( data.text )\n        {\n            const bbox = this._getBBox();\n            const width = bbox.width + 10;\n            const height = bbox.height + 10;\n\n            this.objects.rect\n                .attr( 'x', bbox.x - 5 )\n                .attr( 'y', bbox.y - 5 )\n                .attr( 'width', width )\n                .attr( 'height', height )\n                .style( 'fill', wrapper.get( 'connection.textBorderFill' ) )\n                .style( 'stroke', wrapper.get( 'connection.textBorderColor' ) )\n                .style( 'stroke-width', wrapper.get( 'connection.textBorderWidth' ) )\n                .style( 'stroke-dasharray', wrapper.get( 'connection.textBorderDash' ) );\n        }\n        else\n        {\n            this.objects.rect\n                .style( 'fill', 'transparent' )\n                .style( 'stroke', 'transparent' );\n        }\n    }\n}", "import BaseRenderer from './base';\n\nexport default class GroupRenderer extends BaseRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'group', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.rect = this.group\n            .append( 'rect' )\n            .attr( 'fill', 'none' )\n            .attr( 'visibility', 'hidden' );\n\n        this.objects.thickRect = this.group\n            .append( 'rect' )\n            .attr( 'fill', 'none' )\n            .attr( 'opacity', '0' )\n            .attr( 'visibility', 'hidden' );\n    }\n\n    _render()\n    {\n        const rect = this.data['group.rect'];\n        const wrapper = this.dataWrapper;\n\n        if ( this.data.isSelected || this.data['group.borderAlwaysAppearance'] )\n        {\n            const borderWidth = wrapper.get( 'borderWidth' );\n            this.objects.rect\n                .attr( 'x', rect.x )\n                .attr( 'y', rect.y )\n                .attr( 'width', rect.width )\n                .attr( 'height', rect.height )\n                .attr( 'stroke', wrapper.get( 'borderColor' ) )\n                .attr( 'stroke-width', borderWidth )\n                .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) )\n                .attr( 'visibility', 'visible' );\n\n            this.objects.thickRect\n                .attr( 'x', rect.x )\n                .attr( 'y', rect.y )\n                .attr( 'width', rect.width )\n                .attr( 'height', rect.height )\n                .attr( 'stroke', 'white' )\n                .attr( 'stroke-width', Math.max( borderWidth, 8 ) )\n                .attr( 'visibility', 'visible' );\n        }\n        else\n        {\n            this.objects.rect.attr( 'visibility', 'hidden' );\n            this.objects.thickRect.attr( 'visibility', 'hidden' );\n        }\n    }\n}", "import NodeRenderer from './node';\n\nexport default class IfRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'if', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.body = this.group.append( 'polygon' );\n        super._create();\n    }\n\n    getPolygon()\n    {\n        const points = [];\n        const halfWidth = this.width / 2;\n        const halfHeight = this.height / 2;\n\n        points.push( `${-halfWidth},${0}` );\n        points.push( `${0},${-halfHeight}` );\n        points.push( `${halfWidth},${0}` );\n        points.push( `${0},${halfHeight}` );\n\n        return points.join( ' ' );\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n\n        this.objects.body\n            .attr( 'points', this.getPolygon() )\n            .attr( 'fill', wrapper.get( 'node.fill' ) )\n            .attr( 'stroke', wrapper.get( 'borderColor' ) )\n            .attr( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) );\n\n        this._createText();\n    }\n}", "import NodeRenderer from './node';\n\nexport default class ReturnRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'return', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.body = this.group.append( 'rect' );\n        super._create();\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n        const width = this.width;\n        const height = this.height;\n\n        this.objects.body\n            .attr( 'x', -( width / 2 ) )\n            .attr( 'y', -( height / 2 ) )\n            .attr( 'width', width )\n            .attr( 'height', height )\n            .style( 'fill', wrapper.get( 'node.fill' ) )\n            .attr( 'stroke', wrapper.get( 'borderColor' ) )\n            .style( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) );\n\n        this._createText();\n    }\n}", "import NodeRenderer from './node';\n\nexport default class StartRenderer extends NodeRenderer\n{\n    constructor( data, icontainer )\n    {\n        super( data, 'start', icontainer );\n    }\n\n    _create()\n    {\n        this.objects.body = this.group.append( 'rect' );\n        super._create();\n    }\n\n    _render()\n    {\n        const wrapper = this.dataWrapper;\n        const g = this.objects;\n        const width = this.width;\n        const height = this.height;\n\n        g.body\n            .attr( 'x', -( width / 2 ) )\n            .attr( 'y', -( height / 2 ) )\n            .attr( 'rx', height / 2 )\n            .attr( 'width', width )\n            .attr( 'height', height )\n            .style( 'fill', wrapper.get( 'node.fill' ) )\n            .style( 'stroke-width', wrapper.get( 'borderWidth' ) )\n            .attr( 'stroke-dasharray', wrapper.get( 'borderDash' ) )\n            .attr( 'stroke', wrapper.get( 'borderColor' ) );\n\n        this._createText();\n    }\n}", "// eslint-disable-next-line no-unused-vars\nimport RenderObject from '../obj/base';\n// eslint-disable-next-line no-unused-vars\nimport BaseRenderer from '../render/base';\nimport BridgeRenderer from '../render/bridge';\nimport CommentRenderer from '../render/comment';\nimport DBRenderer from '../render/db';\nimport DirectConnectionRenderer from '../render/direct';\nimport ElbowConnectionRenderer from '../render/elbow';\nimport GroupRenderer from '../render/group';\nimport IfRenderer from '../render/if';\nimport ReturnRenderer from '../render/return';\nimport StartRenderer from '../render/start';\n\nexport default class RenderManager\n{\n    constructor()\n    {\n        this.nodeRenderMap = new Map();\n        this.connectionRenderMap = new Map();\n        this.etcRenderMap = new Map();\n\n        this.nodeRenderMap.set( 'start', StartRenderer );\n        this.nodeRenderMap.set( 'if', IfRenderer );\n        this.nodeRenderMap.set( 'return', ReturnRenderer );\n        this.nodeRenderMap.set( 'comment', CommentRenderer );\n        this.nodeRenderMap.set( 'bridge', BridgeRenderer );\n        this.nodeRenderMap.set( 'db', DBRenderer );\n\n        this.connectionRenderMap.set( 'direct', DirectConnectionRenderer );\n        this.connectionRenderMap.set( 'elbow', ElbowConnectionRenderer );\n\n        this.etcRenderMap.set( 'group', GroupRenderer );\n    }\n\n    /**\n   *\n   * @param {Map<String, BaseRenderer>} map\n   * @param {string} render\n   * @param {() => BaseRenderer} constructor\n   */\n    _add( map, render, constructor )\n    {\n        map.set( render, constructor );\n    }\n\n    /**\n   *\n   * @param {Map<String, BaseRenderer>} map\n   * @param {String} key\n   */\n    _get( map, key )\n    {\n        if ( map.has( key ) )\n        {\n            return map.get( key );\n        }\n\n        throw new Error( `There is no renderer (key: '${key}')` );\n    }\n\n    addRenderMap( type, render, constructor )\n    {\n        switch ( type )\n        {\n            case 'node':\n                this._add( this.nodeRenderMap, render, constructor );\n                break;\n            case 'connection':\n                this._add( this.connectionRenderMap, render, constructor );\n                break;\n            default:\n                throw new Error( `Unknown type '${type}'` );\n        }\n    }\n\n    /**\n   * @param {String} type\n   * @param {String} render\n   * @returns\n   */\n    getRenderConstructor( type, render )\n    {\n        switch ( type )\n        {\n            case 'node':\n                return this._get( this.nodeRenderMap, render );\n            case 'connection':\n                return this._get( this.connectionRenderMap, render );\n            default:\n                return this._get( this.etcRenderMap, render );\n        }\n    }\n\n    changeRender( obj, render, icontainer )\n    {\n        const constructor = this.getRenderConstructor( obj.type, render );\n        const renderer = new constructor( obj.data, icontainer );\n\n        obj.changeRender( render, renderer );\n    }\n}", "// eslint-disable-next-line no-unused-vars, @typescript-eslint/no-unused-vars\nimport ContainerInterface from './icontainer';\n\nexport default class SequenceManager\n{\n    /**\n   * @param {ContainerInterface} icontainer\n   */\n    constructor( icontainer )\n    {\n        this.objSeq = 0;\n        this.clickSeq = 0;\n        this.icontainer = icontainer;\n\n        this.clear();\n    }\n\n    clear()\n    {\n        this.clearObjSeq();\n        this.clearClickSeq();\n    }\n\n    clearObjSeq()\n    {\n        this.objSeq = 1;\n    }\n\n    clearClickSeq()\n    {\n        this.clickSeq = 0;\n    }\n\n    getObjSeqId()\n    {\n        while ( this.icontainer.getObjectOrNull( this.objSeq ) !== null )\n        {\n            ++this.objSeq;\n        }\n\n        return this.objSeq;\n    }\n\n    increaseClickSeq()\n    {\n        return ++this.clickSeq;\n    }\n}", "declare type IdType = string | number | null\ndeclare type Position = 'top' | 'bottom' | 'left' | 'right' | null\n\nexport const DefaultTheme = {\n    // \uACF5\uC6A9 \uC18D\uC131\n    id: null as IdType,\n    type: '',\n    render: '',\n    text: '',\n    editable: true,\n    foreColor: 'black',\n    fontSize: 16,\n    fontFamily: 'Noto Sans KR',\n    textDecoration: 'none',\n    visibleOverText: true,\n    opacity: 1,\n    cursor: 'move',\n    borderColor: 'black',\n    borderWidth: 1,\n    borderDash: 0,\n    isSelected: false,\n    isMonitoring: true,\n    isHovered: false,\n    tooltipText: '',\n    tooltipFontFamily: 'Noto Sans KR',\n    tooltipFontSize: 12,\n    tooltipForeColor: 'black',\n    tooltipFill: 'white',\n    tooltipBorderColor: '#bbb',\n    tooltipBorderWidth: 1,\n    tooltipBorderDash: 0,\n    tooltipMaxWidth: 380,\n    tooltipPadding: 10,\n    tooltipTextDecoration: 'none',\n    tooltipVisible: true,\n    // \uACF5\uC6A9 \uC18D\uC131 \uC774\uBCA4\uD2B8\n    'borderWidth.selected': 2,\n    'borderColor.selected': 'blue',\n    // \uB178\uB4DC \uC18D\uC131\n    'node.width': 120,\n    'node.height': 60,\n    'node.fill': 'white',\n    'node.x': 0,\n    'node.y': 0,\n    'node.connectorGap': 0,\n    'node.connectorSize': 5,\n    'node.resizerEnabled': true,\n    'node.connectorEnabled': true,\n    'node.commentTopLeft': '',\n    'node.commentTopCenter': '',\n    'node.commentTopRight': '',\n    'node.commentBottomLeft': '',\n    'node.commentBottomCenter': '',\n    'node.commentBottomRight': '',\n    'node.commentFontSize': 10,\n    'node.commentForeColor': 'black',\n    'node.commentFontFamily': 'Noto Sans KR',\n    // \uC5F0\uACB0\uC120 \uC18D\uC131\n    'connection.points': [],\n    'connection.sourceObjId': null as IdType,\n    'connection.sourcePos': null as Position,\n    'connection.destinationObjId': null as IdType,\n    'connection.destinationPos': null as Position,\n    'connection.width': 200,\n    'connection.arrowBorderColor': 'black',\n    'connection.arrowBorderWidth': 1,\n    'connection.arrowFill': 'black',\n    'connection.arrowSize': 10,\n    'connection.textBorderColor': 'black',\n    'connection.textBorderWidth': 1,\n    'connection.textBorderDash': 1,\n    'connection.textBorderFill': 'white',\n    'connection.connectorFill': 'black',\n    'connection.connectorSize': 3,\n    'connection.adjusterSize': 7,\n    'connection.adjusterFill': 'black',\n    // \uADF8\uB8F9 \uC18D\uC131\n    'group.margin': 20,\n    'group.borderAlwaysAppearance': false,\n};"],
  "mappings": "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",
  "names": ["noop", "dispatch", "i", "n", "_", "t", "Dispatch", "parseTypenames", "typenames", "types", "name", "typename", "callback", "T", "get", "set", "copy", "type", "that", "args", "c", "dispatch_default", "xhtml", "namespaces_default", "namespace_default", "name", "prefix", "i", "namespaces_default", "creatorInherit", "name", "document", "uri", "xhtml", "creatorFixed", "fullname", "creator_default", "namespace_default", "none", "selector_default", "selector", "select_default", "select", "selector_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "subnode", "i", "Selection", "array_default", "x", "empty", "selectorAll_default", "selector", "arrayAll", "select", "group", "array_default", "selectAll_default", "selectorAll_default", "groups", "m", "subgroups", "parents", "j", "n", "node", "i", "Selection", "matcher_default", "selector", "childMatcher", "node", "find", "childFind", "match", "childFirst", "selectChild_default", "childMatcher", "filter", "children", "childrenFilter", "match", "selectChildren_default", "childMatcher", "filter_default", "match", "matcher_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "i", "Selection", "sparse_default", "update", "enter_default", "Selection", "sparse_default", "EnterNode", "parent", "datum", "child", "next", "selector", "constant_default", "x", "bindIndex", "parent", "group", "enter", "update", "exit", "data", "i", "node", "groupLength", "dataLength", "EnterNode", "bindKey", "key", "nodeByKeyValue", "keyValues", "keyValue", "datum", "data_default", "value", "bind", "parents", "groups", "constant_default", "m", "j", "array_default", "enterGroup", "updateGroup", "exitGroup", "i0", "i1", "previous", "next", "Selection", "exit_default", "Selection", "sparse_default", "join_default", "onenter", "onupdate", "onexit", "enter", "update", "exit", "merge_default", "selection", "Selection", "groups0", "groups1", "m0", "m1", "m", "merges", "j", "group0", "group1", "n", "merge", "node", "i", "order_default", "groups", "j", "m", "group", "next", "node", "sort_default", "compare", "ascending", "compareNode", "a", "b", "groups", "m", "sortgroups", "j", "group", "n", "sortgroup", "node", "i", "Selection", "call_default", "callback", "nodes_default", "node_default", "groups", "j", "m", "group", "n", "node", "size_default", "size", "node", "empty_default", "each_default", "callback", "groups", "j", "m", "group", "i", "n", "node", "attrRemove", "name", "attrRemoveNS", "fullname", "attrConstant", "value", "attrConstantNS", "attrFunction", "v", "attrFunctionNS", "attr_default", "namespace_default", "node", "window_default", "node", "styleRemove", "name", "styleConstant", "value", "priority", "styleFunction", "v", "style_default", "styleValue", "node", "window_default", "propertyRemove", "name", "propertyConstant", "value", "propertyFunction", "v", "property_default", "classArray", "string", "classList", "node", "ClassList", "name", "i", "classedAdd", "names", "list", "n", "classedRemove", "classedTrue", "classedFalse", "classedFunction", "value", "classed_default", "textRemove", "textConstant", "value", "textFunction", "v", "text_default", "htmlRemove", "htmlConstant", "value", "htmlFunction", "v", "html_default", "raise", "raise_default", "lower", "lower_default", "append_default", "name", "create", "creator_default", "constantNull", "insert_default", "name", "before", "create", "creator_default", "select", "selector_default", "remove", "parent", "remove_default", "selection_cloneShallow", "clone", "parent", "selection_cloneDeep", "clone_default", "deep", "datum_default", "value", "contextListener", "listener", "event", "parseTypenames", "typenames", "name", "i", "onRemove", "typename", "on", "j", "m", "onAdd", "value", "options", "o", "on_default", "n", "t", "dispatchEvent", "node", "type", "params", "window", "window_default", "event", "dispatchConstant", "dispatchFunction", "dispatch_default", "iterator_default", "groups", "j", "m", "group", "n", "node", "root", "Selection", "groups", "parents", "selection", "selection_selection", "select_default", "selectAll_default", "selectChild_default", "selectChildren_default", "filter_default", "data_default", "enter_default", "exit_default", "join_default", "merge_default", "order_default", "sort_default", "call_default", "nodes_default", "node_default", "size_default", "empty_default", "each_default", "attr_default", "style_default", "property_default", "classed_default", "text_default", "html_default", "raise_default", "lower_default", "append_default", "insert_default", "remove_default", "clone_default", "datum_default", "on_default", "dispatch_default", "iterator_default", "selection_default", "select_default", "selector", "Selection", "root", "sourceEvent_default", "event", "sourceEvent", "pointer_default", "event", "node", "sourceEvent_default", "svg", "point", "rect", "nopropagation", "event", "noevent_default", "nodrag_default", "view", "root", "selection", "select_default", "noevent_default", "yesdrag", "noclick", "constant_default", "x", "DragEvent", "type", "sourceEvent", "subject", "target", "identifier", "active", "x", "y", "dx", "dy", "dispatch", "value", "defaultFilter", "event", "defaultContainer", "defaultSubject", "d", "defaultTouchable", "drag_default", "filter", "container", "subject", "touchable", "gestures", "listeners", "dispatch_default", "active", "mousedownx", "mousedowny", "mousemoving", "touchending", "clickDistance2", "drag", "selection", "mousedowned", "touchstarted", "touchmoved", "touchended", "gesture", "beforestart", "select_default", "mousemoved", "mouseupped", "nodrag_default", "nopropagation", "noevent_default", "dx", "dy", "yesdrag", "touches", "c", "n", "i", "that", "identifier", "touch", "dispatch", "p", "pointer_default", "s", "DragEvent", "type", "p0", "_", "constant_default", "value", "define_default", "constructor", "factory", "prototype", "extend", "parent", "definition", "key", "Color", "darker", "brighter", "reI", "reN", "reP", "reHex", "reRgbInteger", "reRgbPercent", "reRgbaInteger", "reRgbaPercent", "reHslPercent", "reHslaPercent", "named", "define_default", "color", "channels", "color_formatHex", "color_formatHsl", "color_formatRgb", "hslConvert", "format", "m", "l", "rgbn", "Rgb", "rgba", "hsla", "n", "g", "b", "a", "rgbConvert", "o", "rgb", "opacity", "extend", "k", "rgb_formatHex", "rgb_formatRgb", "hex", "value", "h", "s", "Hsl", "r", "min", "max", "hsl", "m2", "m1", "hsl2rgb", "basis", "t1", "v0", "v1", "v2", "v3", "t2", "t3", "basis_default", "values", "n", "t", "i", "basisClosed_default", "values", "n", "t", "i", "v0", "v1", "v2", "v3", "basis", "constant_default", "x", "linear", "a", "d", "t", "exponential", "b", "y", "gamma", "y", "nogamma", "a", "b", "exponential", "constant_default", "d", "linear", "rgb_default", "rgbGamma", "y", "color", "gamma", "rgb", "start", "end", "r", "g", "b", "opacity", "nogamma", "t", "rgbSpline", "spline", "colors", "n", "i", "rgbBasis", "basis_default", "rgbBasisClosed", "basisClosed_default", "number_default", "a", "b", "t", "reA", "reB", "zero", "b", "one", "string_default", "a", "bi", "am", "bm", "bs", "i", "s", "q", "number_default", "t", "o", "degrees", "identity", "decompose_default", "a", "b", "c", "d", "e", "f", "scaleX", "scaleY", "skewX", "svgNode", "parseCss", "value", "m", "identity", "decompose_default", "parseSvg", "interpolateTransform", "parse", "pxComma", "pxParen", "degParen", "pop", "s", "translate", "xa", "ya", "xb", "yb", "q", "i", "number_default", "rotate", "a", "b", "skewX", "scale", "t", "n", "o", "interpolateTransformCss", "parseCss", "interpolateTransformSvg", "parseSvg", "epsilon2", "cosh", "x", "sinh", "tanh", "zoom_default", "zoomRho", "rho", "rho2", "rho4", "zoom", "p0", "p1", "ux0", "uy0", "w0", "ux1", "uy1", "w1", "dx", "dy", "d2", "i", "S", "t", "d1", "b0", "b1", "r0", "r1", "s", "coshr0", "u", "_", "_1", "_2", "_4", "frame", "timeout", "interval", "pokeDelay", "taskHead", "taskTail", "clockLast", "clockNow", "clockSkew", "clock", "setFrame", "f", "now", "clearNow", "Timer", "timer", "callback", "delay", "time", "sleep", "t", "timerFlush", "e", "wake", "nap", "poke", "t0", "t1", "t2", "timeout_default", "callback", "delay", "time", "t", "Timer", "elapsed", "emptyOn", "dispatch_default", "emptyTween", "CREATED", "SCHEDULED", "STARTING", "STARTED", "RUNNING", "ENDING", "ENDED", "schedule_default", "node", "name", "id", "index", "group", "timing", "schedules", "create", "init", "schedule", "get", "set", "self", "tween", "timer", "elapsed", "start", "i", "j", "n", "o", "stop", "timeout_default", "tick", "t", "interrupt_default", "node", "name", "schedules", "schedule", "active", "empty", "i", "STARTING", "ENDING", "ENDED", "interrupt_default", "name", "tweenRemove", "id", "name", "tween0", "tween1", "schedule", "set", "tween", "i", "n", "tweenFunction", "value", "t", "tween_default", "get", "tweenValue", "transition", "node", "interpolate_default", "a", "b", "c", "number_default", "color", "rgb_default", "string_default", "attrRemove", "name", "attrRemoveNS", "fullname", "attrConstant", "interpolate", "value1", "string00", "string1", "interpolate0", "string0", "attrConstantNS", "attrFunction", "value", "string10", "attrFunctionNS", "attr_default", "namespace_default", "i", "interpolateTransformSvg", "interpolate_default", "tweenValue", "attrInterpolate", "name", "i", "t", "attrInterpolateNS", "fullname", "attrTweenNS", "value", "t0", "i0", "tween", "attrTween", "attrTween_default", "key", "namespace_default", "delayFunction", "id", "value", "init", "delayConstant", "delay_default", "get", "durationFunction", "id", "value", "set", "durationConstant", "duration_default", "get", "easeConstant", "id", "value", "set", "ease_default", "get", "easeVarying", "id", "value", "v", "set", "easeVarying_default", "filter_default", "match", "matcher_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "i", "Transition", "merge_default", "transition", "groups0", "groups1", "m0", "m1", "m", "merges", "j", "group0", "group1", "n", "merge", "node", "i", "Transition", "start", "name", "i", "onFunction", "id", "listener", "on0", "on1", "sit", "init", "set", "schedule", "on", "on_default", "get", "removeFunction", "id", "parent", "i", "remove_default", "select_default", "select", "name", "id", "selector_default", "groups", "m", "subgroups", "j", "group", "n", "subgroup", "node", "subnode", "i", "schedule_default", "get", "Transition", "selectAll_default", "select", "name", "id", "selectorAll_default", "groups", "m", "subgroups", "parents", "j", "group", "n", "node", "i", "children", "child", "inherit", "get", "l", "schedule_default", "Transition", "Selection", "selection_default", "styleNull", "name", "interpolate", "string00", "string10", "interpolate0", "string0", "styleValue", "string1", "styleRemove", "styleConstant", "value1", "styleFunction", "value", "styleMaybeRemove", "id", "on0", "on1", "listener0", "key", "event", "remove", "schedule", "set", "on", "listener", "style_default", "priority", "i", "interpolateTransformCss", "interpolate_default", "tweenValue", "styleInterpolate", "name", "i", "priority", "t", "styleTween", "value", "i0", "tween", "styleTween_default", "key", "textConstant", "value", "textFunction", "value1", "text_default", "tweenValue", "textInterpolate", "i", "textTween", "value", "t0", "i0", "tween", "textTween_default", "key", "transition_default", "name", "id0", "id1", "newId", "groups", "m", "j", "group", "n", "node", "i", "inherit", "get", "schedule_default", "Transition", "end_default", "on0", "on1", "that", "id", "size", "resolve", "reject", "cancel", "end", "schedule", "set", "on", "id", "Transition", "groups", "parents", "name", "transition", "selection_default", "newId", "selection_prototype", "select_default", "selectAll_default", "filter_default", "merge_default", "transition_default", "on_default", "attr_default", "attrTween_default", "style_default", "styleTween_default", "text_default", "textTween_default", "remove_default", "tween_default", "delay_default", "duration_default", "ease_default", "easeVarying_default", "end_default", "cubicInOut", "t", "defaultTiming", "cubicInOut", "inherit", "node", "id", "timing", "transition_default", "name", "Transition", "newId", "now", "groups", "m", "j", "group", "n", "i", "schedule_default", "selection_default", "interrupt_default", "transition_default", "abs", "max", "min", "number1", "e", "number2", "X", "type", "x", "xy", "Y", "y", "XY", "type", "t", "constant_default", "x", "ZoomEvent", "type", "sourceEvent", "target", "transform", "dispatch", "Transform", "k", "x", "y", "point", "location", "identity", "transform", "node", "nopropagation", "event", "noevent_default", "defaultFilter", "event", "defaultExtent", "e", "defaultTransform", "identity", "defaultWheelDelta", "defaultTouchable", "defaultConstrain", "transform", "extent", "translateExtent", "dx0", "dx1", "dy0", "dy1", "zoom_default", "filter", "constrain", "wheelDelta", "touchable", "scaleExtent", "duration", "interpolate", "listeners", "dispatch_default", "touchstarting", "touchfirst", "touchending", "touchDelay", "wheelDelay", "clickDistance2", "tapDistance", "zoom", "selection", "wheeled", "mousedowned", "dblclicked", "touchstarted", "touchmoved", "touchended", "collection", "point", "schedule", "gesture", "k", "p", "k0", "k1", "t0", "p0", "centroid", "p1", "translate", "scale", "x", "y", "t", "Transform", "transition", "that", "args", "g", "w", "a", "b", "i", "l", "clean", "Gesture", "key", "type", "d", "select_default", "ZoomEvent", "pointer_default", "interrupt_default", "noevent_default", "wheelidled", "v", "mousemoved", "mouseupped", "currentTarget", "x0", "y0", "nodrag_default", "nopropagation", "dx", "dy", "yesdrag", "t1", "touches", "n", "started", "l0", "l1", "dp", "dl", "_", "constant_default", "value", "import_lodash", "StyleData", "FIXED_KEYS", "StyleDataWrapper", "data", "key", "pkey", "_", "ConnectionStyleData", "StyleData", "GroupStyleData", "StyleData", "NodeStyleData", "StyleData", "canvas", "context", "TEXT_ROW_SPACE", "TEXT_PADDING", "getTextMetrics", "text", "style", "metrics", "getWrappedText", "lines", "buffer", "char", "getFittedSizeOnText", "data", "textLines", "maxWidth", "height", "size", "getCroppedText", "wrapperInfo", "wrapHeight", "diff", "TextCache", "data", "TRANSLATE_REGEX", "SCALE_REGEX", "POSITION_MAP", "DEFAULT_CONNECTION_LENGTH", "TMP_STYLE_MAP", "NodeStyleData", "GroupStyleData", "ConnectionStyleData", "getConnectedPositionId", "node", "con", "getPosition", "clsName", "getTransformData", "transform", "translateExec", "scaleExec", "translateX", "translateY", "scale", "setStyleValue", "data", "key", "value", "defaultNodeRule", "defaultConnectionRule", "points", "i", "getDistance", "pos1", "pos2", "combineStyle", "theme", "tmpStyle", "TMP_STYLE_MAP", "defaultRule", "getDefaultConnection", "appendingObj", "__spreadValues", "firstPoint", "DEFAULT_CONNECTION_LENGTH", "cloneObjDataList", "objList", "dataList", "obj", "deepCopy", "getMovePropIterator", "objData", "updateTextStyle", "textObj", "x", "y", "style", "createTextLines", "textLines", "line", "id", "tspan", "TEXT_ROW_SPACE", "removeText", "cache", "createLogger", "Logger", "BaseRenderer", "data", "className", "iContainer", "TextCache", "StyleDataWrapper", "rect", "oldText", "ev", "element", "info", "x", "y", "style", "TEXT_PADDING", "wrappedInfo", "getWrappedText", "getCroppedText", "labelXY", "updateTextStyle", "removeText", "createTextLines", "ObserverArg", "renderObj", "key", "newValue", "oldValue", "RenderObject", "data", "renderer", "icontainer", "zId", "prev", "value", "id", "container", "g", "key", "newValue", "oldValue", "ObserverArg", "render", "x", "y", "userInteraction", "typeClick", "func", "ContainerInterface", "observerCallback", "getObjectOrNull", "setEditMode", "removeObject", "renderCallback", "addRenderObj", "adjDragCallback", "editTextCallback", "selectCallback", "releaseCallback", "getReadOnly", "getLogger", "editTextModeCallback", "initDrag", "terminateDrag", "getTooltipHidden", "getSelectNodeOnHover", "getSvg", "releaseAllObjects", "changeObjRender", "isAppending", "getUUID", "BaseCommand", "command", "icontainer", "AddCommand", "BaseCommand", "objDataList", "icontainer", "data", "DeleteCommand", "AddCommand", "objDataList", "icontainer", "SIZE_PROP_LIST", "ChangedInfo", "objData", "propList", "prop", "getMovePropIterator", "key", "find", "x", "EditCommand", "BaseCommand", "changeInfoList", "icontainer", "info", "obj", "propData", "RenderCommand", "BaseCommand", "renderObj", "oldRender", "newRender", "icontainer", "_", "ZIndexCommand", "BaseCommand", "dataList", "icontainer", "prop", "reverse", "func", "data", "obj", "ActionController", "limit", "commands", "topActionOnUndo", "undo", "topActionOnRedo", "_", "_", "Connection", "RenderObject", "a", "b", "reduce", "point", "value", "x", "y", "startId", "endId", "pt", "points", "i", "Group", "RenderObject", "data", "renderer", "icontainer", "userInteraction", "typeClick", "id", "obj", "margin", "minX", "minY", "maxX", "maxY", "v", "objId", "RESIZER_SIZE", "COMMENT_MARGIN", "COMMENTS_POS", "NodeRenderer", "BaseRenderer", "data", "className", "icontainer", "pos", "key", "textAlign", "g", "resizer", "connector", "wrapper", "fontFamily", "fontSize", "halfWidth", "halfHeight", "topY", "bottomY", "xyMap", "id", "xy", "index", "gap", "info", "TEXT_ROW_SPACE", "width", "height", "x", "y", "MINIMUM_WIDTH", "MINIMUM_HEIGHT", "COMMENT_POS", "Node", "RenderObject", "data", "renderer", "icontainer", "value", "pos", "size", "getFittedSizeOnText", "padding", "TEXT_PADDING", "dy", "sourceY", "diffY", "dx", "sourceX", "diffX", "text", "position", "event", "key", "objMngger", "Logger", "ObjectManager", "type", "map", "a", "b", "obj", "objId", "group", "nodeId", "con", "oldId", "newId", "MoveHandler", "actionController", "objectManager", "icontainer", "obj", "info", "ChangedInfo", "x", "EditCommand", "_", "ResizeHandler", "actionController", "objectManager", "icontainer", "objId", "cursor", "diffWidth", "diffHeight", "node", "centerY", "centerX", "group", "info", "ChangedInfo", "x", "EditCommand", "resizer", "drag_default", "ev", "dx", "dy", "curWidth", "curHeight", "TMP_CLIPBOARD", "clipboard_default", "name", "result", "__async", "write", "read", "e", "data", "MARGIN_X", "MARGIN_Y", "ObjectMouseHandler", "icontainer", "TextCache", "obj", "x", "y", "ev", "timeout_default", "objData", "style", "size", "getFittedSizeOnText", "textLines", "getWrappedText", "text", "createTextLines", "Rect", "startX", "startY", "endX", "endY", "x", "y", "BridgeRenderer", "NodeRenderer", "data", "icontainer", "wrapper", "width", "height", "EDGE_SIZE", "ANGLE_DIFF_X", "ANGLE_DIFF_Y", "CommentRenderer", "NodeRenderer", "data", "icontainer", "commands", "endX", "endY", "startX", "startY", "wrapper", "CIRCLE_HEIGHT_RATIO", "DBRenderer", "NodeRenderer", "data", "icontainer", "commands", "halfHeight", "ry", "rx", "x1", "x2", "y1", "y2", "wrapper", "style", "circleHeight", "ConnectionRenderer", "BaseRenderer", "data", "className", "iContainer", "node", "pos", "x", "y", "bbox", "width", "height", "wrapper", "style", "markerSize", "sourceLoc", "destinationLoc", "srcLoc", "desLoc", "points", "pt", "tmpX1", "tmpX2", "tmpY1", "tmpY2", "objId", "pointId", "posLocation", "transform", "getTransformData", "DirectConnectionRenderer", "ConnectionRenderer", "data", "icontainer", "info", "srcLoc", "desLoc", "wrapper", "points", "style", "bbox", "width", "height", "MINIMUM_GAP", "ADJUSTER_SIZE", "ADJUSTER_ADJ", "ElbowConnectionRenderer", "ConnectionRenderer", "data", "icontainer", "points", "pos", "loc", "srcLoc", "desLoc", "srcNext", "desNext", "desPos", "middleX", "middleY", "nextMiddleX", "nextMiddleY", "tmpY", "srcPos", "func", "p", "path", "x", "y", "isVertical", "i", "pathPoints", "firstPoint", "nextPoint", "adjustPoints", "flag", "a", "id", "lastX", "lastY", "tmpPoints", "point", "drag_default", "ev", "deepCopy", "pt", "diffX", "diffY", "height", "width", "info", "adj", "curPt", "wrapper", "bbox", "GroupRenderer", "BaseRenderer", "data", "icontainer", "rect", "wrapper", "borderWidth", "IfRenderer", "NodeRenderer", "data", "icontainer", "points", "halfWidth", "halfHeight", "wrapper", "ReturnRenderer", "NodeRenderer", "data", "icontainer", "wrapper", "width", "height", "StartRenderer", "NodeRenderer", "data", "icontainer", "wrapper", "g", "width", "height", "RenderManager", "StartRenderer", "IfRenderer", "ReturnRenderer", "CommentRenderer", "BridgeRenderer", "DBRenderer", "DirectConnectionRenderer", "ElbowConnectionRenderer", "GroupRenderer", "map", "render", "constructor", "key", "type", "obj", "icontainer", "renderer", "SequenceManager", "icontainer", "DefaultTheme", "DETECTING_SIZE", "ACTION_LIMIT", "POSITION_LIST", "MIN_ZOOM", "MAX_ZOOM", "NOT_CHANGING_PROPERTY_SET", "EVENT_TYPE", "createEmitter", "flowchart", "eventMap", "event", "args", "callback", "id", "createFlowchartTemplate", "div", "svg", "IRFlowchart", "IRComponent", "contextElement", "width", "height", "ev", "keyName", "ContainerInterface", "data", "obj", "dragEvent", "render", "oldPoints", "newPoints", "oldText", "newText", "arg", "userInteraction", "typeClick", "flag", "SequenceManager", "ObjectManager", "ActionController", "MoveHandler", "ResizeHandler", "RenderManager", "ObjectMouseHandler", "__spreadValues", "DefaultTheme", "defaultRule", "boolean", "createLogger", "e", "w", "h", "select_default", "drag_default", "zoom", "zoom_default", "func", "defsElement", "rotate", "offsets", "colors", "defs", "linearGradient", "_", "offset", "color", "stop", "zIndex", "combineStyle", "rendererConstructor", "renderer", "Connection", "Node", "Group", "object", "scale", "gridScale", "objects", "AddCommand", "cloneObjDataList", "sorted", "connections", "con", "a", "b", "changedInfoList", "info", "prop", "EditCommand", "key", "newValue", "list", "ChangedInfo", "mode", "element", "transform", "size", "scaledWidth", "scaledHeight", "rect", "objList", "undoCommand", "redoCommand", "parent", "sobj", "x", "y", "points", "loop", "pt", "node", "__spreadProps", "command", "dataList", "ZIndexCommand", "Key", "classes", "cls", "moved", "lastX", "lastY", "nextX", "nextY", "diffX", "diffY", "connector", "pos", "getPosition", "toX", "toY", "posXY", "dragCreator", "objProp", "posProp", "ptId", "detecting", "point", "group", "startX", "stattY", "minXY", "lastCommand", "changedInfo", "cnt", "clickObj", "direction", "nodeList", "tmp", "end", "min", "max", "gap", "selectedObjList", "DeleteCommand", "index", "container", "curPosX", "curPosY", "simpleMode", "Rect", "xy", "nodes", "nodeId", "nodeObj", "getConnectedPositionId", "__async", "clipboard_default", "clipData", "tmpIdMap", "newId", "newObjs", "source", "target", "minPos", "srcPos", "desPos", "srcXY", "desXY", "dist", "getDistance", "destination", "oldSrcPos", "oldDesPos", "conList", "startPoint", "targetNode", "minDist", "temp", "tmpObjs", "cursorXY", "scaled", "startY", "endX", "endY", "transFormData", "compareWithinRect", "x1", "x2", "y1", "y2", "firstPoint", "endPoint", "newObj", "oldRender", "RenderCommand", "objData", "set", "getDefaultConnection", "selected", "appendMode", "appendingObject"]
}
